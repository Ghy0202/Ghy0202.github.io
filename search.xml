<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>è“æ¡¥æ¯ç¬¬åäºŒå±Šæ¨¡æ‹Ÿ</title>
      <link href="/2022/03/28/lan-qiao-bei-di-shi-er-jie/"/>
      <url>/2022/03/28/lan-qiao-bei-di-shi-er-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç ç ç§°é‡"><a href="#2-1-ç ç ç§°é‡" class="headerlink" title="2.1 ç ç ç§°é‡"></a>2.1 ç ç ç§°é‡</h2><p>dpçš„é¢˜ç›®ï¼Œä½†æ˜¯ä¸€å¼€å§‹æ²¡æœ‰æ€è·¯ï¼Œç”¨çš„æ˜¯DFSè¶…æ—¶äº†~</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">100009</span><span class="token punctuation">]</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>w<span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>w<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>sum<span class="token operator">+=</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> x<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>x<span class="token operator">=</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å¤åˆ¶å‰ä¸€ç»„çŠ¶æ€ </span><span class="token comment">//for(int j=1;j&lt;=sum;j++)&#123;</span><span class="token comment">//dp[i][j]=dp[i-1][j];</span><span class="token comment">//&#125;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//å½“å‰ç ç é‡é‡ä¸€å®šå¯ä»¥è®¡ç®—å‡ºæ¥</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>sum<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span>x<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token function">abs</span><span class="token punctuation">(</span>j<span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>sum<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è“æ¡¥ç¬¬åä¸€å±Šæ¨¡æ‹Ÿ</title>
      <link href="/2022/03/23/lan-qiao-di-shi-yi-jie-mo-ni/"/>
      <url>/2022/03/23/lan-qiao-di-shi-yi-jie-mo-ni/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1.çŸ¥è¯†ç‚¹æ€»ç»“"></a>1.çŸ¥è¯†ç‚¹æ€»ç»“</h1><table><thead><tr><th>é¢˜ç›®</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>å­ä¸²åˆ†å€¼</td><td>ğŸ¸ğŸ¸</td><td>ï¼ˆæ ˆï¼‰+æ¨ç†é€»è¾‘</td></tr><tr><td>å›æ–‡æ—¥æœŸ</td><td>ğŸ¸</td><td>ä¸éš¾ï¼Œä½†æ˜¯ç¿»è½¦äº†ï¼Œæ³¨æ„æ—¥æœŸçš„åˆ¤åˆ«~</td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-å­ä¸²åˆ†å€¼"><a href="#2-1-å­ä¸²åˆ†å€¼" class="headerlink" title="2.1 å­ä¸²åˆ†å€¼"></a>2.1 å­ä¸²åˆ†å€¼</h2><blockquote><p>å¡æ—¶é—´çš„é¢˜ç›®</p></blockquote><p>60åˆ†é¢˜è§£ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">vis</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">fill</span><span class="token punctuation">(</span>vis<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>vis<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//éå†s(i,j)</span>vis<span class="token punctuation">[</span>str<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>str<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>str<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ans<span class="token operator">+=</span>sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å›å¤´çœ‹çš„è¯ï¼Œå…¶å®æ€»ä½“åœ¨æ‰¾è§„å¾‹ï¼Œé¢˜ç›®ä¸­å·²ç»ç»™æç¤ºäº†æ˜‚~</p><ul><li>ç¬¬ä¸€éé€†åºéå†å­—ç¬¦ä¸²ï¼Œç”¨æ ˆnexä¿å­˜æ¯ä¸€ä¸ªå­—ç¬¦å¦‚ï¼š<code>a</code>å¯¹åº”çš„ä¸‹ä¸€ä¸ªå­—ç¬¦<code>a</code>çš„ä½ç½®ï¼ŒåŒæ—¶åˆå§‹åŒ–preæ•°ç»„ï¼Œè®°å½•æ¯ä¸€ä¸ªä½ç½®iä¸Šçš„å­—æ¯<code>a</code>çš„å‰ä¸€ä¸ªä½ç½®-1</li><li>æ¥ä¸‹æ¥é¡ºåºéå†å­—ç¬¦ä¸²ï¼Œè®°å½•aåˆ°ä¸Šä¸€ä¸ªaä¹‹é—´å­—æ¯ä¸ªæ•°å’Œaåˆ°ä¸‹ä¸€ä¸ªå­—æ¯açš„å­—æ¯ä¸ªæ•°ï¼ŒäºŒè€…ç›¸ä¹˜ï¼Œå³ä¸ºè¯¥ä½ç½®å­—ç¬¦aåŒ…å«åœ¨äº†å‡ ä¸ªåˆæ³•çš„å­—ä¸²ä¸­ï¼Œæ›´æ–°sumä¸å¯¹åº”çš„nex\preæ•°ç»„</li><li>è¾“å‡ºç­”æ¡ˆ</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token keyword">int</span> pre<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>stack<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span><span class="token function">nex</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> vis<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–ï¼Œå¾—åˆ°æ¯ä¸€ä¸ªæ•°å­—çš„preå’Œnext </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">;</span>nex<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">;</span><span class="token keyword">int</span> before_num<span class="token operator">=</span>i<span class="token operator">-</span>pre<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> next_num<span class="token punctuation">;</span><span class="token keyword">int</span> next_id<span class="token operator">=</span>len<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>nex<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>nex<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>next_id<span class="token operator">=</span>nex<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>nex<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>next_num<span class="token operator">=</span>next_id<span class="token operator">-</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>next_num<span class="token operator">=</span>len<span class="token operator">-</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ—å‡ºå¯èƒ½æ€§ï¼Œæ›´æ–°next,pre</span>sum<span class="token operator">+=</span>before_num<span class="token operator">*</span>next_num<span class="token punctuation">;</span><span class="token comment">//printf("%c pre=%d next=%d all=%d\n",str[i],pre[id],next_id,before_num*next_num); </span>pre<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-å›æ–‡æ—¥æœŸ"><a href="#2-2-å›æ–‡æ—¥æœŸ" class="headerlink" title="2.2 å›æ–‡æ—¥æœŸ"></a>2.2 å›æ–‡æ—¥æœŸ</h2><blockquote><p>è“æ¡¥ç»ƒä¹ å¹³å°ä¸æ”¯æŒto_stringå’Œstoi</p></blockquote><p>ç¬¬ä¸€ç‰ˆï¼šå¯ä»¥è¿‡æ ·ä¾‹ä½†æ˜¯ojæŠ¥é”™</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">getTurn</span><span class="token punctuation">(</span>string date<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>string target<span class="token operator">=</span><span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‰é¢ç¼º0</span>string ans<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token operator">-</span>target<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">+=</span><span class="token string">"0"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> ans<span class="token operator">+=</span>target<span class="token punctuation">;</span>string anss<span class="token operator">=</span>ans<span class="token punctuation">;</span><span class="token function">reverse</span><span class="token punctuation">(</span>anss<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>anss<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token operator">+=</span>anss<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isok</span><span class="token punctuation">(</span>string abab<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>abab<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>abab<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>abab<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>abab<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">getValue</span><span class="token punctuation">(</span>string date<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isok</span><span class="token punctuation">(</span><span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>string target<span class="token operator">=</span><span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å‰é¢ç¼º0</span>string ans<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token operator">-</span>target<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">+=</span><span class="token string">"0"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> ans<span class="token operator">+=</span>target<span class="token punctuation">;</span>string anss<span class="token operator">=</span>ans<span class="token punctuation">;</span><span class="token function">reverse</span><span class="token punctuation">(</span>anss<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>anss<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token operator">+=</span>anss<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>string date<span class="token punctuation">;</span>cin<span class="token operator">>></span>date<span class="token punctuation">;</span><span class="token function">getTurn</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">getValue</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>ç¬¬äºŒç‰ˆ90åˆ†ï¼Œä¸»è¦æ˜¯å‘ç°è¿˜éœ€è¦é¢å¤–åˆ¤æ–­å›æ–‡æ•°æ˜¯å¦åˆæ³•</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> rm<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>string date<span class="token punctuation">;</span><span class="token comment">//è½¬æ¢å‡½æ•°</span><span class="token keyword">int</span> <span class="token function">str2num</span><span class="token punctuation">(</span>string str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">*=</span><span class="token number">10</span><span class="token punctuation">;</span>ans<span class="token operator">+=</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> string <span class="token function">num2str</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>string ans<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">+=</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token operator">+</span>num<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token operator">/=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¡¥ä¸Šå‰ç¼€é›¶</span>string zero<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>zero<span class="token operator">+=</span><span class="token char">'0'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">reverse</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token operator">=</span>zero<span class="token operator">+</span>ans<span class="token punctuation">;</span><span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//åˆ¤æ–­é—°å¹´</span><span class="token keyword">bool</span> <span class="token function">isR</span><span class="token punctuation">(</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">%</span><span class="token number">400</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>y<span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//æ˜¯ä¸€ä¸ªåˆæ³•æ—¥æœŸ</span><span class="token keyword">bool</span> <span class="token function">isDate</span><span class="token punctuation">(</span>string year<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> month<span class="token operator">=</span><span class="token punctuation">(</span>year<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span><span class="token punctuation">(</span>year<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>month<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>month<span class="token operator">></span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> day<span class="token operator">=</span><span class="token punctuation">(</span>year<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span><span class="token punctuation">(</span>year<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isR</span><span class="token punctuation">(</span><span class="token function">str2num</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>day<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>day<span class="token operator">></span>rm<span class="token punctuation">[</span>month<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>day<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>day<span class="token operator">></span>m<span class="token punctuation">[</span>month<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">void</span> <span class="token function">getNext</span><span class="token punctuation">(</span>string date<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>string cur<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token function">str2num</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isDate</span><span class="token punctuation">(</span><span class="token function">num2str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>string fo<span class="token operator">=</span><span class="token function">num2str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>fo<span class="token punctuation">;</span><span class="token function">reverse</span><span class="token punctuation">(</span>fo<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fo<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>fo<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isok</span><span class="token punctuation">(</span>string str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>str<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">getNextSpecial</span><span class="token punctuation">(</span>string date<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>string cur<span class="token operator">=</span>date<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token function">str2num</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isok</span><span class="token punctuation">(</span><span class="token function">num2str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token operator">!</span><span class="token function">isDate</span><span class="token punctuation">(</span><span class="token function">num2str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>string fo<span class="token operator">=</span><span class="token function">num2str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>fo<span class="token punctuation">;</span><span class="token function">reverse</span><span class="token punctuation">(</span>fo<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fo<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>fo<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>date<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>date<span class="token operator">==</span><span class="token string">"89991231"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"90011009\n"</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"90900909\n"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">getNext</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">getNextSpecial</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å‘ç°åˆ«äººçš„æ–¹æ³•æ¯”æˆ‘è‡ªå·±çš„ç®€å•ä¸å°‘â€¦â€¦</p></blockquote><p>æ ¹æ®è¾“å…¥ABCDå åŠ ç”Ÿæˆå›æ–‡</p><p>æ ¹æ®è¾“å…¥ABç”Ÿæˆä¸‹ä¸€ä¸ªABABBABA</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> mon<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">reverse_num</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">*=</span><span class="token number">10</span><span class="token punctuation">;</span>ans<span class="token operator">+=</span>num<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">;</span>num<span class="token operator">/=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> ymd<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ£€æŸ¥æ—¥æœŸæ˜¯å¦åˆæ³•</span><span class="token keyword">if</span><span class="token punctuation">(</span>ymd<span class="token operator">&lt;=</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span>  <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> d<span class="token operator">=</span>ymd<span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">;</span>ymd<span class="token operator">/=</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token operator">=</span>ymd<span class="token operator">%</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">return</span>  m<span class="token operator">>=</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>m<span class="token operator">&lt;=</span><span class="token number">12</span><span class="token operator">&amp;&amp;</span>d<span class="token operator">&lt;=</span>mon<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ„é€ å›æ–‡æ—¥æœŸ</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">10000</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">9999</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> x<span class="token operator">=</span>i<span class="token operator">*</span><span class="token number">10000</span><span class="token operator">+</span><span class="token function">reverse_num</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%08d\n"</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token comment">//æ„é€ ABABBABA</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">1000000</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">99</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> BA<span class="token operator">=</span><span class="token function">reverse_num</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> x<span class="token operator">=</span>i<span class="token operator">*</span><span class="token number">1000000</span><span class="token operator">+</span>i<span class="token operator">*</span><span class="token number">10000</span><span class="token operator">+</span>BA<span class="token operator">*</span><span class="token number">100</span><span class="token operator">+</span>BA<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%08d"</span><span class="token punctuation">,</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">return</span>  <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-æˆç»©åˆ†æ"><a href="#2-3-æˆç»©åˆ†æ" class="headerlink" title="2.3 æˆç»©åˆ†æ"></a>2.3 æˆç»©åˆ†æ</h2><blockquote><p>åŸºç¡€é¢˜â€¦â€¦ä¸è´´äº†å“ˆğŸ˜</p></blockquote><h2 id="2-4-è’å²›æ¢æµ‹"><a href="#2-4-è’å²›æ¢æµ‹" class="headerlink" title="2.4 è’å²›æ¢æµ‹"></a>2.4 è’å²›æ¢æµ‹</h2><blockquote><p>å‡ ä½•é—®é¢˜â€”â€”æ²¡æœ‰æ€è·¯ğŸ˜…</p></blockquote><h2 id="2-5-å­—ä¸²æ’åº"><a href="#2-5-å­—ä¸²æ’åº" class="headerlink" title="2.5 å­—ä¸²æ’åº"></a>2.5 å­—ä¸²æ’åº</h2><blockquote><p>æš´åŠ›DFSï¼Œç»“æœå½“ç„¶æ˜¯â€¦â€¦60ï¼Œè¶…æ—¶</p><p>åˆ†æå¯çŸ¥ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸å…è®¸é‡å¤ï¼Œé‚£ä¹ˆå†’æ³¡æ¬¡åºæ˜¯å­—ç¬¦ä¸²é•¿åº¦lençš„å…¬å¼ï¼š<code>(len+1)*len/2</code></p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>string ans<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">int</span> level<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">great</span><span class="token punctuation">(</span>string str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>ans<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token operator">&lt;</span>ans<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">findPos</span><span class="token punctuation">(</span>string str<span class="token punctuation">,</span><span class="token keyword">int</span> len<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰¾åˆ°æœ€åä¸€ä¸ªæ˜¯cçš„ä½ç½® </span><span class="token keyword">int</span> pos<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>pos<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>pos<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>pos<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">!=</span>c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> pos<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>string str<span class="token punctuation">,</span><span class="token keyword">int</span> cnt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//cout&lt;&lt;str&lt;&lt;" "&lt;&lt;cnt&lt;&lt;endl;</span><span class="token keyword">int</span> len<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">></span>level<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span><span class="token string">""</span><span class="token operator">||</span><span class="token function">great</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>str<span class="token punctuation">;</span>level<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">></span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//level=ans.length();</span><span class="token keyword">return</span>  <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¸¤ç§é€‰æ‹©ï¼šå¤´éƒ¨æ‰©å±•æˆ–è€…æ–°çš„å­—æ¯</span><span class="token keyword">int</span> pos<span class="token operator">=</span><span class="token function">findPos</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>len<span class="token punctuation">,</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">char</span> nc<span class="token operator">=</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span>nc<span class="token operator">+</span>str<span class="token punctuation">,</span>cnt<span class="token operator">+</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>str<span class="token punctuation">,</span>cnt<span class="token operator">+</span>len<span class="token operator">-</span>pos<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç›´è§‰å‘Šè¯‰æˆ‘ç”¨dp~å‚è€ƒ<a href="https://blog.csdn.net/qq_43619717/article/details/112595685">ç¬¬åä¸€å±Šè“æ¡¥æ¯â€”â€”å­—ä¸²æ’åºï¼ˆDPï¼‰_Dripping.çš„åšå®¢-CSDNåšå®¢_å­—ä¸²æ’åº</a></p></li></ul><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è“æ¡¥ç¬¬åå±Šçœèµ›æ¨¡æ‹Ÿ</title>
      <link href="/2022/03/22/lan-qiao-di-shi-jie-sheng-sai-mo-ni/"/>
      <url>/2022/03/22/lan-qiao-di-shi-jie-sheng-sai-mo-ni/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><table><thead><tr><th>é¢˜ç›®</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>å®Œå…¨äºŒå‰æ ‘</td><td>ğŸ¸</td><td>æ•°ç»„</td><td>100</td></tr><tr><td>å¤–å–ä¼˜å…ˆçº§</td><td>ğŸ¸ï¼ˆğŸ¸ï¼‰</td><td>æ•°ç»„</td><td>60</td></tr><tr><td>ä¿®æ”¹æ•°ç»„</td><td>ğŸ¸ğŸ¸</td><td>æ•°ç»„</td><td></td></tr><tr><td>ç³–æœ</td><td>ğŸ¸ğŸ¸ğŸ¸</td><td>DP+çŠ¶æ€å‹ç¼©</td><td>30</td></tr><tr><td>ç»„åˆæ•°é—®é¢˜</td><td>ğŸ¸ğŸ¸ğŸ¸</td><td><mark>æ•°ä½DP+å¢å¡æ–¯å®šç†</mark></td><td>0 æœªè§£å†³</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-2-å¤–å–ä¼˜å…ˆçº§"><a href="#2-2-å¤–å–ä¼˜å…ˆçº§" class="headerlink" title="2.2 å¤–å–ä¼˜å…ˆçº§"></a>2.2 å¤–å–ä¼˜å…ˆçº§</h2><blockquote><p>åŸºç¡€é¢˜ï¼Œ<strong>ç»†å¿ƒ</strong>ï¼Œç”¨pre_add_timeå­˜å‚¨ä¸Šæ¬¡è®¢å•æ—¶é—´ï¼Œæ³¨æ„å…ˆå¯¹æ‰€æœ‰è®¢å•æ’ä¸ªåº~</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">,</span>M<span class="token punctuation">,</span>T<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Order</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> ts<span class="token punctuation">;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Order<span class="token operator">></span>orders<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>pre_add_time<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span>isin<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>state<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Order a<span class="token punctuation">,</span>Order b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>ts<span class="token operator">!=</span>b<span class="token punctuation">.</span>ts<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>ts<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>ts<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>id<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">getAns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> outdate<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>T<span class="token operator">-</span>pre_add_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-=</span>outdate<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>state<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//printf("id=%d score=%d \n",i,state[i]);</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>orders<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>pre_add_time<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isin<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>state<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>pre_add_time<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pre_add_time<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>isin<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>isin<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>state<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>orders<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ts<span class="token punctuation">,</span><span class="token operator">&amp;</span>orders<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>orders<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>orders<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> ts<span class="token operator">=</span>orders<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ts<span class="token punctuation">;</span><span class="token keyword">int</span> id<span class="token operator">=</span>orders<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token comment">//å¦‚æœè¶…æ—¶ </span><span class="token keyword">if</span><span class="token punctuation">(</span>ts<span class="token operator">></span>T<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> outdate<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>ts<span class="token operator">-</span>pre_add_time<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre_add_time<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>ts<span class="token punctuation">;</span>state<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>state<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">-</span>outdate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isin<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>state<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>isin<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>state<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isin<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>state<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>isin<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//printf("ts=%d id=%d score=%d\n",ts,id,state[id]); </span><span class="token punctuation">&#125;</span><span class="token function">getAns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ä¿®æ”¹æ•°ç»„"><a href="#2-3-ä¿®æ”¹æ•°ç»„" class="headerlink" title="2.3 ä¿®æ”¹æ•°ç»„"></a>2.3 ä¿®æ”¹æ•°ç»„</h2><blockquote><p>ä¸€é“å…¶å®ä¸æ˜¯å¾ˆéš¾çš„é¢˜ğŸ˜¶:</p><p>æœ‰ä¸€ä¸ªæµ‹è¯•ç‚¹ä¸å¯¹ï¼Œé¢˜ç›®é”™äº†</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">1000055</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>vis<span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>vis<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>vis<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> value<span class="token operator">=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vis<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">while</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vis<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>value<span class="token operator">+=</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>vis<span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>value<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç³–æœ"><a href="#2-4-ç³–æœ" class="headerlink" title="2.4 ç³–æœ"></a>2.4 ç³–æœ</h2><p>è¿™å¥è¯åŸºæœ¬å†³å®šäº†ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºæŸä¸€ç§ç³–æ˜¯å¦ä¹°äº†</p><blockquote><p>è¯„æµ‹ç”¨ä¾‹è§„æ¨¡ä¸çº¦å®š</p><p>ã€€ã€€å¯¹äº 30% çš„è¯„æµ‹ç”¨ä¾‹ï¼Œ1 â‰¤ N â‰¤ 20 ã€‚<br>ã€€ã€€å¯¹äºæ‰€æœ‰è¯„æµ‹æ ·ä¾‹ï¼Œ1 â‰¤ N â‰¤ 100ï¼Œ1 â‰¤ M â‰¤ 20ï¼Œ1 â‰¤ K â‰¤ 20ï¼Œ1 â‰¤ Ti â‰¤ Mã€‚</p></blockquote><p>å…¶å®æƒ³åˆ°äº†ç”¨äºŒè¿›åˆ¶å»è¡¨ç¤ºï¼Œä½†æ˜¯å†™æ³•åªèƒ½è¿‡30%çš„æ ·ä¾‹</p><ul><li>30%</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>ll<span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span> <span class="token keyword">int</span> ans<span class="token operator">=</span>INT_MAX<span class="token punctuation">;</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span>vis<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>ll<span class="token operator">></span>pak<span class="token punctuation">;</span>ll target<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//é€‰å‡ åŒ…ï¼Œæˆ–çš„ç»“æœä¸ºå…¨1 </span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span><span class="token keyword">int</span> pre<span class="token punctuation">,</span><span class="token keyword">bool</span> buy<span class="token punctuation">,</span>ll cur<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">>=</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//è¶Šç•Œ </span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>buy<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cur<span class="token operator">|=</span>pak<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>pre<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//cout&lt;&lt;"å½“å‰"&lt;&lt;bitset&lt;20>(cur)&lt;&lt;" "&lt;&lt;cur&lt;&lt;endl;</span><span class="token comment">//åˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ </span><span class="token keyword">if</span><span class="token punctuation">(</span>cur<span class="token operator">==</span>target<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//cout&lt;&lt;"pre:"&lt;&lt;pre&lt;&lt;endl;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>pre<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>pre<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¯•æ¢ä¸‹ä¸€ä¸ª</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//nåŒ…ç³–æœ mç§å£å‘³ ké¢—ä¸€åŒ…</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>pak<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>target<span class="token operator">&lt;&lt;=</span><span class="token number">1</span><span class="token punctuation">;</span>target<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//cout&lt;&lt;bitset&lt;20>(target)&lt;&lt;" "&lt;&lt;target&lt;&lt;endl;</span><span class="token comment">//cout&lt;&lt;endl;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è½¬åŒ–æˆç³–æœ</span>ll suger<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>suger<span class="token operator">&lt;&lt;=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>suger<span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//cout&lt;&lt;bitset&lt;20>(suger)&lt;&lt;endl;</span>pak<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>suger<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//é€‰æœ€å°è¢‹æ•°çš„ï¼Œæ˜¯çš„|çš„ç»“æœä¸ºm</span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>INT_MAX<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ­£ç¡®çš„çŠ¶æ€å‹ç¼©å†™æ³•</li></ul><p>ç”¨<code>1&lt;&lt;M</code>çš„äºŒè¿›åˆ¶å†™æ³•æ¥è¡¨ç¤ºæŸç§ç³–æœæ˜¯å¦ä¹°åˆ°äº†ï¼Œ<code>|</code>çš„ç”¨æ³•è¯·å…³æ³¨</p><p>ä¸»è¦çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸º<code>dp[j|pak[i]]=min(dp[j|pak[i]],dp[j]+1); </code>ç°åœ¨åŠ ä¸Šè¿™ä¸ªçŠ¶æ€ï¼Œæˆ–è€…ä¹‹å‰æœ‰ä¹°åˆ°äº†,</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">,</span>M<span class="token punctuation">,</span>K<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>pak<span class="token punctuation">;</span><span class="token keyword">int</span> target<span class="token punctuation">;</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">,</span><span class="token operator">&amp;</span>K<span class="token punctuation">)</span><span class="token punctuation">;</span>pak<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>\dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>INT_MAX<span class="token punctuation">;</span><span class="token comment">//æ¯ä¸ªçŠ¶æ€è‡³å°‘éœ€è¦ä¹°çš„ç³– </span><span class="token punctuation">&#125;</span>target<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>M<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> candy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>K<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>candy<span class="token operator">|=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>temp<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>pak<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>candy<span class="token punctuation">;</span>dp<span class="token punctuation">[</span>candy<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æšä¸¾æ¯ä¸€è¢‹</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>target<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æšä¸¾æ¯ä¸€ç§çŠ¶æ€</span><span class="token keyword">if</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>INT_MAX<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æœ‰ä¹°è¿‡è¿™ä¸ªçŠ¶æ€ </span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>dp<span class="token punctuation">[</span>j<span class="token operator">|</span>pak<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token operator">|</span>pak<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç°åœ¨åŠ ä¸Šè¿™ä¸ªçŠ¶æ€ï¼Œæˆ–è€…ä¹‹å‰æœ‰ä¹°åˆ°äº† </span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>target<span class="token punctuation">]</span><span class="token operator">==</span>INT_MAX<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>target<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span>  <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-5-ç»„åˆæ•°é—®é¢˜"><a href="#2-5-ç»„åˆæ•°é—®é¢˜" class="headerlink" title="2.5 ç»„åˆæ•°é—®é¢˜"></a>2.5 ç»„åˆæ•°é—®é¢˜</h2><blockquote><p>æ•°ä½DP+å¢å¡æ–¯å®šç†</p></blockquote><p>ã€<a href="https://blog.csdn.net/xuxiaobo1234/article/details/108096786">å‚è€ƒç­”æ¡ˆ</a>ã€‘</p><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è“æ¡¥æ¨¡æ‹Ÿ1â€”â€”ç¬¬ä¹å±Š</title>
      <link href="/2022/03/17/lan-qiao-mo-ni-1-di-jiu-jie/"/>
      <url>/2022/03/17/lan-qiao-mo-ni-1-di-jiu-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†æ€»ç»“"><a href="#1-çŸ¥è¯†æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†æ€»ç»“"></a>1. çŸ¥è¯†æ€»ç»“</h1><p>ç”±äºç–«æƒ…è¢«å›°åœ¨å®¿èˆï¼Œä¸ºäº†ç¨å¾®ç§¯æä¸€ç‚¹æ‰€ä»¥å†³å®šæ‰“å¡è¿™ä»¶å°äº‹ğŸ§â€¦â€¦</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>èˆªç­æ—¶é—´</td><td>ğŸ¸</td><td>æ•°å­¦+å­—ç¬¦ä¸²å¤„ç†</td></tr><tr><td>ä¸‰ä½“æ”»å‡»</td><td>ğŸ¸ğŸ¸ğŸ¸</td><td>ä¸‰ç»´å·®åˆ†<mark>è®°å½•æ»¡åˆ†é¢˜è§£ï¼Œä½†æš‚æ—¶æ²¡æœ‰ç†è§£ä¸‰ç»´å·®åˆ†ä¸ºä»€ä¹ˆå·®åˆ†æ•°ç»„é‚£æ ·å¤„ç†</mark></td></tr><tr><td>å…¨çƒå˜æš–</td><td>ğŸ¸</td><td>DFS</td></tr><tr><td>å€æ•°é—®é¢˜</td><td>ğŸ¸ğŸ¸</td><td></td></tr><tr><td>ç»“è´¦é—®é¢˜</td><td>ğŸ¸ğŸ¸</td><td>è´ªå¿ƒ+ç²¾åº¦</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-èˆªç­æ—¶é—´"><a href="#2-1-èˆªç­æ—¶é—´" class="headerlink" title="2.1 èˆªç­æ—¶é—´"></a>2.1 èˆªç­æ—¶é—´</h2><p>ã€é¢˜ç›®é“¾æ¥ã€‘</p><blockquote><p>ç®€å•é¢˜ï¼Œstringå­—ç¬¦ä¸²å¤„ç†ä¼šå‡å°‘å·¥ä½œé‡å—·~</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Timing</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> h<span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">Count</span><span class="token punctuation">(</span>string str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Timing st<span class="token punctuation">,</span>ed<span class="token punctuation">;</span><span class="token keyword">int</span> add<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">')'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"%d:%d:%d %d:%d:%d (+%d)"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">.</span>h<span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">.</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">.</span>s<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">.</span>h<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">.</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">.</span>s<span class="token punctuation">,</span><span class="token operator">&amp;</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"%d:%d:%d %d:%d:%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">.</span>h<span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">.</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">.</span>s<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">.</span>h<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">.</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">.</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> s<span class="token operator">=</span>st<span class="token punctuation">.</span>h<span class="token operator">*</span><span class="token number">3600</span><span class="token operator">+</span>st<span class="token punctuation">.</span>m<span class="token operator">*</span><span class="token number">60</span><span class="token operator">+</span>st<span class="token punctuation">.</span>s<span class="token punctuation">;</span><span class="token keyword">int</span> e<span class="token operator">=</span>add<span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">3600</span><span class="token operator">+</span>ed<span class="token punctuation">.</span>h<span class="token operator">*</span><span class="token number">3600</span><span class="token operator">+</span>ed<span class="token punctuation">.</span>m<span class="token operator">*</span><span class="token number">60</span><span class="token operator">+</span>ed<span class="token punctuation">.</span>s<span class="token punctuation">;</span><span class="token keyword">return</span> e<span class="token operator">-</span>s<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token keyword">int</span> t<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> h<span class="token operator">=</span>t<span class="token operator">/</span><span class="token number">3600</span><span class="token punctuation">;</span><span class="token keyword">int</span> s<span class="token operator">=</span>t<span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token operator">=</span><span class="token punctuation">(</span>t<span class="token operator">-</span><span class="token number">3600</span><span class="token operator">*</span><span class="token punctuation">(</span>t<span class="token operator">/</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">60</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%02d:%02d:%02d\n"</span><span class="token punctuation">,</span>h<span class="token punctuation">,</span>m<span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> go<span class="token operator">=</span><span class="token function">Count</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> back<span class="token operator">=</span><span class="token function">Count</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> kill<span class="token operator">=</span><span class="token punctuation">(</span>go<span class="token operator">-</span>back<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token function">Print</span><span class="token punctuation">(</span>go<span class="token operator">-</span>kill<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ä¸‰ä½“æ”»å‡»"><a href="#2-2-ä¸‰ä½“æ”»å‡»" class="headerlink" title="2.2 ä¸‰ä½“æ”»å‡»"></a>2.2 ä¸‰ä½“æ”»å‡»</h2><p>ã€é¢˜ç›®é“¾æ¥ã€‘</p><blockquote><p>å¡æ—¶é—´ä»¥åŠç©ºé—´å¤æ‚åº¦ï¼Œæš´åŠ›å¯ä»¥éª—åˆ°ä¸€ç‚¹ç‚¹åˆ†ï¼›</p><p>æ­£ç¡®è§£æ³•æ˜¯</p></blockquote><ul><li>æš´åŠ›ï¼šä¸€å¼€å§‹è„‘å­æŠ½äº†ç”¨idä»[lat,lbt,lct]-&gt;[rat,rbt,rct]éå†idåªæœ‰16åˆ†ï¼Œåæ¥å‘ç°æ¡†å‡ºæ¥çš„ç«‹æ–¹ä½“å¯¹åº”çš„ä¸€ç»´idå¹¶ä¸æ˜¯è¿ç»­çš„ğŸ˜…ï¼Œæ”¹è¿‡ä¹‹å66åˆ†</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token comment">//ç”¨çš„æ˜¯å·®åˆ†çš„è§£æ³• </span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> A<span class="token punctuation">,</span>B<span class="token punctuation">,</span>C<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">int</span> d<span class="token punctuation">[</span><span class="token number">1000009</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span>  lat<span class="token punctuation">,</span>rat<span class="token punctuation">,</span>lbt<span class="token punctuation">,</span>rbt<span class="token punctuation">,</span>lct<span class="token punctuation">,</span>rct<span class="token punctuation">,</span>ht<span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>A<span class="token punctuation">,</span><span class="token operator">&amp;</span>B<span class="token punctuation">,</span><span class="token operator">&amp;</span>C<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>A<span class="token operator">*</span>B<span class="token operator">*</span>C<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>lat<span class="token punctuation">,</span><span class="token operator">&amp;</span>rat<span class="token punctuation">,</span><span class="token operator">&amp;</span>lbt<span class="token punctuation">,</span><span class="token operator">&amp;</span>rbt<span class="token punctuation">,</span><span class="token operator">&amp;</span>lct<span class="token punctuation">,</span><span class="token operator">&amp;</span>rct<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ht<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//éå†</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ans<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token operator">=</span>lat<span class="token punctuation">;</span>a<span class="token operator">&lt;=</span>rat<span class="token punctuation">;</span>a<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> b<span class="token operator">=</span>lbt<span class="token punctuation">;</span>b<span class="token operator">&lt;=</span>rbt<span class="token punctuation">;</span>b<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token operator">=</span>lct<span class="token punctuation">;</span>c<span class="token operator">&lt;=</span>rct<span class="token punctuation">;</span>c<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>B<span class="token operator">+</span><span class="token punctuation">(</span>b<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>C<span class="token operator">+</span>c<span class="token punctuation">;</span>d<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">-=</span>ht<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å·®åˆ†æ•°ç»„</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> A<span class="token punctuation">,</span>B<span class="token punctuation">,</span>C<span class="token punctuation">,</span>n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">int</span> d<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨èˆ°é˜Ÿç”Ÿå‘½å€¼</span><span class="token keyword">int</span> D<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//ä¸‰ç»´å·®åˆ†æ•°ç»„ï¼ˆå‹ç»´ï¼‰ï¼›åŒæ—¶ä¹Ÿç”¨æ¥è®¡ç®—æ¯ä¸ªç‚¹çš„æ”»å‡»å€¼</span><span class="token keyword">int</span> lat<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rat<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨æ”»å‡»</span><span class="token keyword">int</span> lbt<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rbt<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> lct<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">,</span>rct<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ht<span class="token punctuation">[</span> <span class="token number">1000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">num</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å°æŠ€å·§ï¼šå‹ç»´ï¼ŒæŠŠä¸‰ç»´åæ ‡[i][j][k]è½¬ä¸ºä¸€ç»´çš„((i-1)*B+(j-1))*C+(k-1)+1</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">></span>A <span class="token operator">||</span> j<span class="token operator">></span>B <span class="token operator">||</span> k<span class="token operator">></span>C<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>B<span class="token operator">+</span><span class="token punctuation">(</span>j <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>C<span class="token operator">+</span><span class="token punctuation">(</span>k <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">boolcheck</span><span class="token punctuation">(</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ£€æŸ¥ç»è¿‡xæ¬¡æ”»å‡»åæ˜¯å¦æœ‰æˆ˜èˆ°çˆ†ç‚¸</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> D<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ä¸‰ç»´å·®åˆ†æ•°ç»„ï¼šä¸‰ç»´æœ‰8ä¸ªåŒºé—´ç«¯ç‚¹</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>lat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> lbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> lct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>rat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>lbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> lct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>lat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> rbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>lct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>lat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> lbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> rct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>rat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>rbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>lct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>lat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> rbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>rct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>rat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>lbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> rct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>rat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>rbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>rct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-=</span> ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>A<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> j<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;=</span>B<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> k<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">&lt;</span>C<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨å·®åˆ†æ•°ç»„è®¡ç®—å‡ºæ¯ä¸ªç‚¹çš„æ”»å‡»å€¼</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>A<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> k<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">&lt;=</span>C<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> j<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>B<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> j<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;=</span>B<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> k<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k<span class="token operator">&lt;=</span>C<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>A<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>i<span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+=</span> D<span class="token punctuation">[</span><span class="token function">num</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span>D<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//æ”»å‡»å€¼å¤§äºç”Ÿå‘½å€¼</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> main<span class="token punctuation">&#123;</span> <span class="token function">scanf</span><span class="token punctuation">(</span> <span class="token string">"%d%d%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">,</span> <span class="token operator">&amp;</span>B<span class="token punctuation">,</span> <span class="token operator">&amp;</span>C<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>n<span class="token operator">=</span>A<span class="token operator">*</span>B<span class="token operator">*</span>C<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span> <span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span> <span class="token string">"%d%d%d%d%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>lat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>rat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>lbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>rbt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>lct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>rct<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ht<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>intL<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>R<span class="token operator">=</span>m<span class="token punctuation">;</span> <span class="token comment">//ç»å…¸çš„äºŒåˆ†å†™æ³•</span><span class="token keyword">while</span><span class="token punctuation">(</span>L<span class="token operator">&lt;</span>R<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å¯¹mè¿›è¡ŒäºŒåˆ†ï¼Œæ‰¾åˆ°ä¸´ç•Œå€¼</span>intmid<span class="token operator">=</span><span class="token punctuation">(</span>L<span class="token operator">+</span>R<span class="token punctuation">)</span><span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span> R<span class="token operator">=</span>mid<span class="token punctuation">;</span>elseL<span class="token operator">=</span>mid<span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">"%d\n"</span><span class="token punctuation">,</span> R<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ‰“å°ä¸´ç•Œå€¼</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-å…¨çƒå˜æš–"><a href="#2-3-å…¨çƒå˜æš–" class="headerlink" title="2.3 å…¨çƒå˜æš–"></a>2.3 å…¨çƒå˜æš–</h2><p>ã€é¢˜ç›®é“¾æ¥ã€‘</p><blockquote><p>ç®€å•é¢˜ï¼Œä½†æ˜¯è¦ç»†å¿ƒï¼Œä¸å¯ä»¥ç²—æš´çš„ä¸¤æ¬¡æ±‚è¿é€šå›¾ä¸ªæ•°ç›¸å‡ï¼Œå› ä¸ºå…¨çƒå˜æš–è¿˜ä¼šå¯¼è‡´ä¸€äº›å²›å±¿å˜å¤šğŸ˜…</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">;</span><span class="token keyword">int</span> mp<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//1 é™†åœ° 0 æµ·æ´‹ -1 é™†åœ°å˜æˆæµ·æ´‹</span><span class="token keyword">char</span> temp<span class="token punctuation">;</span> <span class="token keyword">bool</span> vis<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//ä¸Šä¸‹å·¦å³</span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token keyword">bool</span> <span class="token function">nearSea</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> nx<span class="token operator">=</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ny<span class="token operator">=</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>mp<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾åˆ°æ‰€æœ‰1ç»„æˆçš„è¿é€šå—</span><span class="token comment">//è¿”å›æ˜¯å¦æœ‰ä¸é æµ·æ´‹çš„ </span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token operator">||</span>x<span class="token operator">></span>n<span class="token operator">||</span>y<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token operator">||</span>y<span class="token operator">></span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è¶Šç•Œ </span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> area<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">nearSea</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>area<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>area<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>vis<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> nx<span class="token operator">=</span>x<span class="token operator">+</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ny<span class="token operator">=</span>y<span class="token operator">+</span>dy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>mp<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>area<span class="token operator">+=</span><span class="token function">dfs</span><span class="token punctuation">(</span>nx<span class="token punctuation">,</span>ny<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> area<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//æœ‰å¤šå°‘å²›å±¿ä¼šå®Œå…¨æ·¹æ²¡ </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>vis<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>vis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>temp<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">==</span><span class="token char">'#'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å…¨çƒå˜æš–ï¼šæŸ¥çœ‹æ˜¯å¦éƒ½æ˜¯nearSea </span><span class="token keyword">int</span> has<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>has<span class="token operator">=</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>has<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-å€æ•°é—®é¢˜"><a href="#2-4-å€æ•°é—®é¢˜" class="headerlink" title="2.4 å€æ•°é—®é¢˜"></a>2.4 å€æ•°é—®é¢˜</h2><blockquote><p>å®¹æ˜“è¶…æ—¶ï¼Œæ€è·¯ä¸»è¦æ˜¯ç”¨%kçš„ä½™æ•°å»å­˜å‚¨æ•°å­—ï¼Œå®é™…ä¸Šåªéœ€è¦v[mod].size()ä»å¤§åˆ°å°æ’å‰ä¸‰çš„å³å¯</p><p>æ€è·¯æ¥æºäºkè¿œè¿œå°äºnçš„å¤§å°ï¼Œæ‰€ä»¥éå†æ•°ç»„çš„æ—¶å€™è€ƒè™‘ä»¥kä¸ºåº¦é‡çš„</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>k<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>v<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>num<span class="token punctuation">;</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token operator">></span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">[</span>temp<span class="token operator">%</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> a<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> resa<span class="token punctuation">,</span>resb<span class="token punctuation">,</span>resc<span class="token punctuation">;</span><span class="token comment">//éå†kä¼šç®€å•ä¸€äº› </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>a<span class="token operator">=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>j<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>b<span class="token operator">=</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>b<span class="token operator">=</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//cçš„ä½™æ•°æ˜¯ç®—å¥½çš„</span>resc<span class="token operator">=</span><span class="token punctuation">(</span>k<span class="token operator">-</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token operator">%</span>k<span class="token punctuation">)</span><span class="token operator">%</span>k<span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>v<span class="token punctuation">[</span>resc<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>j<span class="token operator">&amp;&amp;</span>resc<span class="token operator">==</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">>=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>c<span class="token operator">=</span>v<span class="token punctuation">[</span>resc<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">==</span>resc<span class="token operator">||</span>j<span class="token operator">==</span>resc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">>=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>c<span class="token operator">=</span>v<span class="token punctuation">[</span>resc<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>c<span class="token operator">=</span>v<span class="token punctuation">[</span>resc<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//printf("(%d %d %d)\n",a,b,c);</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*4 31 2 3 4*/</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç»“è´¦é—®é¢˜"><a href="#2-4-ç»“è´¦é—®é¢˜" class="headerlink" title="2.4 ç»“è´¦é—®é¢˜"></a>2.4 ç»“è´¦é—®é¢˜</h2><blockquote><p>æ€è·¯å°±æ˜¯è´ªå¿ƒï¼Œé¦–å…ˆå°†æ¯ä¸ªäººçš„é’±åŒ…çš„æ•°å€¼æŒ‰ç…§ä»å°åˆ°å¤§æ’åºï¼Œå¤§äºå‡å€¼åˆ™æ‰£é™¤å‡å€¼ï¼Œåä¹‹åˆ™å‡å»é’±åŒ…å€¼å¹¶æ›´æ–°å‰©ä¸‹çš„äººåº”è¯¥å¹³å¦çš„å‡å€¼ğŸ˜œ</p><p>ç„¶é¹…æ€è·¯å‡ºæ¥æäº¤åªæœ‰10/100ï¼Œæ²¡é”™ï¼Œè¿™é¢˜å¡ç²¾åº¦ï¼Œ<code>int</code>åŸºæœ¬å¯ä»¥è¯´æ˜¯å®Œå…¨ä¸å¤Ÿç”¨â€¦â€¦</p></blockquote><p><code>total</code>ï¼Œ<code>s</code>è¿™äº›å˜é‡ç”¨<code>long long</code>ï¼Œæµ®ç‚¹æ•°ç›´æ¥åˆ¤æ–­å¤§å°çš„è¯ä¼šå¯¼è‡´ç²¾åº¦ä¸å¤Ÿï¼Œæ‰€ä»¥å°½é‡ç”¨å¤§ä¸€ç‚¹çš„å€¼ï¼Œé¿å…ä½¿ç”¨å°å€¼</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>ll s<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>ll<span class="token operator">></span>a<span class="token punctuation">;</span><span class="token keyword">double</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>ll total<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>a<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>total<span class="token operator">=</span>s<span class="token punctuation">;</span><span class="token keyword">double</span> avg<span class="token operator">=</span>s<span class="token operator">/</span><span class="token keyword">double</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">>=</span>avg<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ¯ä¸ªäººéƒ½ä»˜å¾—æ¸…</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0.0000"</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦å¤–å¤„ç†</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token operator">&lt;</span>total<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">+=</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span>avg<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span>avg<span class="token punctuation">)</span><span class="token punctuation">;</span>total<span class="token operator">-=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å·®é’± </span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">double</span> cur_avg<span class="token operator">=</span>total<span class="token operator">/</span><span class="token keyword">double</span><span class="token punctuation">(</span>n<span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>sum<span class="token operator">+=</span><span class="token punctuation">(</span>cur_avg<span class="token operator">-</span>avg<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>cur_avg<span class="token operator">-</span>avg<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.4f"</span><span class="token punctuation">,</span><span class="token function">sqrt</span><span class="token punctuation">(</span>sum<span class="token operator">/</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*5 2333666 666 666 666 66610 302 1 4 7 4 8 3 6 4 7*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol><li>ä¸‰ä½“æ”»å‡»ã€<a href="https://www.sohu.com/a/451190120_453160">ä¸‰ç»´å·®åˆ†</a>ã€‘</li><li>ä¸‰ä½“æ”»å‡»ã€<a href="https://blog.csdn.net/Archerrrrr/article/details/115353425">æ ¼å¼okçš„ä»£ç </a>ã€‘</li></ol><h1 id="4-åŠ é¤ç»ƒä¹ "><a href="#4-åŠ é¤ç»ƒä¹ " class="headerlink" title="4. åŠ é¤ç»ƒä¹ "></a>4. åŠ é¤ç»ƒä¹ </h1><h2 id="4-1-äºŒç»´ç®€å•å·®åˆ†"><a href="#4-1-äºŒç»´ç®€å•å·®åˆ†" class="headerlink" title="4.1 äºŒç»´ç®€å•å·®åˆ†"></a>4.1 äºŒç»´ç®€å•å·®åˆ†</h2><p>ã€<a href="https://www.luogu.com.cn/problem/P3717#submit">é¢˜ç›®é“¾æ¥</a>ã€‘</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//å·®åˆ†æ±‚è§£</span><span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">5002</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5002</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>r<span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">-</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token function">min</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>y<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> delta<span class="token operator">=</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">(</span>r<span class="token operator">*</span>r<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>y<span class="token operator">-</span>j<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token operator">-</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> lx<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>x<span class="token operator">-</span>delta<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> rx<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>x<span class="token operator">+</span>delta<span class="token punctuation">)</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>lx<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>rx<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+=</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å‰ç¼€å’Œ</span><span class="token keyword">if</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++åº·å¤è®­ç»ƒ01</title>
      <link href="/2022/03/15/c-kang-fu-xun-lian-01/"/>
      <url>/2022/03/15/c-kang-fu-xun-lian-01/</url>
      
        <content type="html"><![CDATA[<h1 id="CCF-2020-4"><a href="#CCF-2020-4" class="headerlink" title="CCF-2020-4"></a>CCF-2020-4</h1><h2 id="1-é¢˜å‹æ€»ç»“"><a href="#1-é¢˜å‹æ€»ç»“" class="headerlink" title="1. é¢˜å‹æ€»ç»“"></a>1. é¢˜å‹æ€»ç»“</h2><h2 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h2><h2 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h2>]]></content>
      
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NLPè®ºæ–‡é˜…è¯»ç¬¬äºŒå¼¹â€”â€”BERT_LFC</title>
      <link href="/2022/02/28/nlp-lun-wen-yue-du-di-er-dan-bert-ada/"/>
      <url>/2022/02/28/nlp-lun-wen-yue-du-di-er-dan-bert-ada/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ¬¡ä¾ç„¶æ˜¯è®ºæ–‡é˜…è¯»+ä»£ç å¤ç°~</p><p>æ­£å¥½ç†Ÿæ‚‰ä¸€ä¸‹ç›¸å…³çš„å®éªŒcoding</p><p>é˜…è¯»ã€paperã€‘ã€codeã€‘</p><p>å¤ç°å·¥ä½œã€my_codeã€‘</p><h1 id="1-Abstract"><a href="#1-Abstract" class="headerlink" title="1. Abstract"></a>1. Abstract</h1><h1 id="2-Introduction"><a href="#2-Introduction" class="headerlink" title="2. Introduction"></a>2. Introduction</h1><h1 id="3-model"><a href="#3-model" class="headerlink" title="3. model"></a>3. model</h1><p>BERT-LFCæ¡†æ¶ï¼š</p><p><img src=".%5Cpic%5Cimage-20220228141314612.png" alt="image-20220228141314612"></p><h1 id="4-Experiment"><a href="#4-Experiment" class="headerlink" title="4. Experiment"></a>4. Experiment</h1><h1 id="5-Result"><a href="#5-Result" class="headerlink" title="5. Result"></a>5. Result</h1><h1 id="6-Reference"><a href="#6-Reference" class="headerlink" title="6.Reference"></a>6.Reference</h1><p>ç¢ç¢å¿µï¼š</p><blockquote><p>è€å®è¯´å¼€å­¦ä¹‹åè«åå…¶å¦™ç„¦è™‘å—·å—·å—·ï¼Œå†…è€—æ‰“å’©ï¼</p><p>å›åˆ°å­¦æ ¡è¿˜æ˜¯å¾ˆå¼€å¿ƒå“’~å°¤å…¶æ˜¯æœ€è¿‘çš„æ•™å®¤ï¼Œç©ºè°ƒè¶…è¶³ï¼ï¼ï¼</p></blockquote><blockquote><p>è¯åˆè¯´å›æ¥å› ä¸ºè¿™å­¦æœŸçš„è¯¾ç¨‹å®‰æ’æ¯”è¾ƒæ¾ï¼Œæ‰€ä»¥æœ€è¿‘åœ¨çœ‹çš„æ˜¯ä¸Šå­¦æœŸä¸€ç›´æ²¡æ€ä¹ˆæ·±å…¥äº†è§£çš„Bertåœ¨ABSCé¢†åŸŸçš„åº”ç”¨ğŸ¤ª,å¸Œæœ›ä¸‰æœˆé™¤äº†è¯¾è®¾ä¸è¦æœ‰å¥‡å¥‡æ€ªæ€ªçš„äº‹æƒ…ğŸ§©</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç§‘ç ”è®­ç»ƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡å¼è¯†åˆ«ç¬”è®°</title>
      <link href="/2022/02/28/mo-shi-shi-bie-bi-ji/"/>
      <url>/2022/02/28/mo-shi-shi-bie-bi-ji/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CCF-CSP-2021-09æ¨¡æ‹Ÿ</title>
      <link href="/2022/02/27/ccf-csp-2021-09-mo-ni/"/>
      <url>/2022/02/27/ccf-csp-2021-09-mo-ni/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h3 id="2-1"><a href="#2-1" class="headerlink" title="2.1"></a>2.1</h3><h3 id="2-2"><a href="#2-2" class="headerlink" title="2.2"></a>2.2</h3><h3 id="2-3-è„‰å†²ç¥ç»ç½‘ç»œ"><a href="#2-3-è„‰å†²ç¥ç»ç½‘ç»œ" class="headerlink" title="2.3 è„‰å†²ç¥ç»ç½‘ç»œ"></a>2.3 è„‰å†²ç¥ç»ç½‘ç»œ</h3><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol start="3"><li><a href="https://blog.csdn.net/weixin_51554954/article/details/120603459">è„‰å†²ç¥ç»ç½‘ç»œ66åˆ†é¢˜è§£</a></li><li><a href="https://blog.csdn.net/m0_46223441/article/details/120599553?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-9.pc_relevant_aa&spm=1001.2101.3001.4242.6&utm_relevant_index=12">å…¨éƒ¨é¢˜è§£</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è“æ¡¥æ¯ç¬¬äº”å±Šæ¨¡æ‹Ÿ</title>
      <link href="/2022/02/25/lan-qiao-bei-di-wu-jie-mo-ni/"/>
      <url>/2022/02/25/lan-qiao-bei-di-wu-jie-mo-ni/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><blockquote><p>ç¬¬äº”å±Šè“æ¡¥ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯æ€»ä½“ä¸Šä¼šåŸºæœ¬çš„æ•°æ®ç»“æ„å’Œç®—æ³•å°±å¯ä»¥è¿‡å‡ ä¹å…¨éƒ¨çš„æ ·ä¾‹ï¼ˆä½†æ˜¯æ»¡åˆ†ä¸ä¸€å®šï¼Œæ¯”è¾ƒæœ‰éš¾åº¦ï¼Œéœ€è¦å„ç§ä¼˜åŒ–çš„æ€æƒ³~èœèœå­è½æ³ªğŸ˜¥ğŸ˜¥ğŸ˜¥ï¼‰</p></blockquote><table><thead><tr><th>é¢˜ç›®</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>èš‚èšæ„Ÿå†’</td><td>ğŸ¸</td><td>æ•°ç»„ï¼ˆå¤–åŠ ä¸€ä¸¢ä¸¢æƒ³è±¡åŠ›ğŸ˜‹ï¼‰</td></tr><tr><td>æ³¢åŠ¨æ•°åˆ—</td><td>ğŸ¸ï¼ˆğŸ¸ğŸ¸ï¼‰</td><td>DPï¼ˆå¿…é¡»DPï¼Œå¦åˆ™æš´åŠ›å½’0ï¼‰</td></tr><tr><td>åœ°å®«å–å®</td><td>ğŸ¸ï¼ˆğŸ¸ğŸ¸ï¼‰</td><td>DFS/DP</td></tr><tr><td>æ–æ³¢é‚£å¥‘</td><td>ğŸ¸ï¼ˆğŸ¸ï¼‰</td><td>DP</td></tr><tr><td>å…°é¡¿èš‚èš</td><td>ğŸ¸</td><td>æ•°ç»„</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-èš‚èšæ„Ÿå†’"><a href="#2-1-èš‚èšæ„Ÿå†’" class="headerlink" title="2.1 èš‚èšæ„Ÿå†’"></a>2.1 èš‚èšæ„Ÿå†’</h2><blockquote><p>ä¸»è¦æ˜¯å°†åŠ¨æ€çš„é—®é¢˜æƒ³è±¡ä¸ºé™æ€çš„é—®é¢˜â€”â€”ä¸¤åªèš‚èšç›¸æ’å¯ä»¥çœ‹ä½œä¸¤åªèš‚èšäº’ç›¸ä»å¯¹æ–¹çš„èº«ä½“ç©¿è¿‡ï¼Œè¿™æ ·é—®é¢˜å°±å¤§å¤§ç®€åŒ–äº†</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>ants<span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">/*5-10 8 -20 12 2535 -2 8*/</span><span class="token keyword">const</span> <span class="token keyword">int</span> none<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>ants<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> sign<span class="token operator">=</span>none<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ants<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å‘å·¦ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token operator">-</span>ants<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span>sign<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>sign<span class="token punctuation">,</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°å‘å³çš„æœ€å¤§çš„ </span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sign<span class="token operator">!=</span>none<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>sign<span class="token operator">&lt;</span><span class="token operator">-</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å‘å³</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span><span class="token operator">-</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span>ants<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span>sign<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>sign<span class="token punctuation">,</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°å‘å·¦æœ€å°çš„ </span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sign<span class="token operator">!=</span>none<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span><span class="token operator">-</span>sign<span class="token operator">></span>ants<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-åœ°å®«å–å®"><a href="#2-2-åœ°å®«å–å®" class="headerlink" title="2.2 åœ°å®«å–å®"></a>2.2 åœ°å®«å–å®</h2><blockquote><p>ç›´æ¥ç”¨DFSä¼šè¢«åˆ¤ä¸ºè¶…æ—¶ï¼Œæ‰€ä»¥è”æƒ³åˆ°å‰ªææˆ–è€…DPæ¥è§£å†³æ—¶é—´å¤æ‚åº¦çš„é—®é¢˜</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">/*éœ€è¦è§£å†³çš„æ˜¯è¿è¡Œè¶…æ—¶çš„é—®é¢˜*/</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod<span class="token operator">=</span><span class="token number">1000000007</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">101</span><span class="token punctuation">;</span><span class="token keyword">int</span> mp<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//dp[i][j][cnt][v],è¡¨ç¤ºèµ°åˆ°(i,j)ä½ç½®ä¸Šæ‹¿èµ°cntä¸ªç‰©å“ï¼Œæœ€å¤§ä»·å€¼ä¸ºvçš„èµ°æ³•ä¸ªæ•° </span><span class="token comment">/*2 2 21 22 122 3 21 2 32 1 514*/</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//å³ï¼š1&lt;=C_i&lt;=13 </span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>mp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹ä½ç½®æ‹¿ä¸ä¸æ‹¿ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>cnt<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>cnt<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>v<span class="token operator">&lt;=</span><span class="token number">13</span><span class="token punctuation">;</span>v<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//åœ¨è¿™ä¸ªä½ç½®ä¸Šä¸å– </span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token comment">//printf("%d\n",dp[i][j][cnt][v]);</span><span class="token comment">//æ»¡è¶³æ¡ä»¶å°±å– </span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>s<span class="token operator">&lt;</span>v<span class="token punctuation">;</span>s<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>cnt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">13</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span><span class="token punctuation">(</span>ans<span class="token operator">+</span>dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-æ–æ³¢é‚£å¥‘"><a href="#2-3-æ–æ³¢é‚£å¥‘" class="headerlink" title="2.3 æ–æ³¢é‚£å¥‘"></a>2.3 æ–æ³¢é‚£å¥‘</h2><blockquote><p>åŒæ ·çš„ï¼Œæš´åŠ›ä¼šè¶…æ—¶æŠ¥é”™</p><p>è€ƒå¯Ÿçš„çŸ¥è¯†ç‚¹æ˜¯â€œ<strong>çŸ©é˜µå¿«é€Ÿå¹‚</strong>â€</p></blockquote><h2 id="2-4-å…°é¡¿èš‚èš"><a href="#2-4-å…°é¡¿èš‚èš" class="headerlink" title="2.4 å…°é¡¿èš‚èš"></a>2.4 å…°é¡¿èš‚èš</h2><blockquote><p>ç»†å¿ƒå­,è¯»æ‡‚åŸºæœ¬å°±ä¼šåšäº†ğŸ˜…</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">/*å…°é¡¿èš‚èš5 60 0 0 0 0 00 0 0 0 0 00 0 1 0 0 00 0 0 0 0 00 0 0 0 0 02 3 L 51 33 30 0 01 1 11 1 11 1 U 60 0*/</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">201</span><span class="token punctuation">;</span><span class="token keyword">int</span> mp<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//0ç™½ 1é»‘ </span><span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//ä¸Šã€å³ã€ä¸‹ã€å·¦ </span><span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">char</span> d<span class="token punctuation">;</span><span class="token keyword">int</span> dd<span class="token punctuation">;</span><span class="token comment">//0ï¼Œ1ï¼Œ2ï¼Œ3â€”â€”ä»£è¡¨ï¼šä¸Šã€å³ã€ä¸‹ã€å·¦ </span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>mp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %c %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>y<span class="token punctuation">,</span><span class="token operator">&amp;</span>d<span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">==</span><span class="token char">'U'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dd<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">==</span><span class="token char">'R'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dd<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">==</span><span class="token char">'D'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>dd<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> nx<span class="token operator">=</span>x<span class="token punctuation">,</span>ny<span class="token operator">=</span>y<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>k<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//é¦–å…ˆè½¬å‘</span><span class="token keyword">if</span><span class="token punctuation">(</span>mp<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å³è½¬90ï¼Œé¡ºæ—¶é’ˆ</span>mp<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>dd<span class="token operator">=</span><span class="token punctuation">(</span>dd<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>dd<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">+</span><span class="token punctuation">(</span>dd<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//å‘å‰ä¸€æ­¥</span>nx<span class="token operator">=</span>nx<span class="token operator">+</span>dx<span class="token punctuation">[</span>dd<span class="token punctuation">]</span><span class="token punctuation">;</span>ny<span class="token operator">=</span>ny<span class="token operator">+</span>dy<span class="token punctuation">[</span>dd<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span>nx<span class="token punctuation">,</span>ny<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-5-æ³¢åŠ¨æ•°åˆ—"><a href="#2-5-æ³¢åŠ¨æ•°åˆ—" class="headerlink" title="2.5 æ³¢åŠ¨æ•°åˆ—"></a>2.5 æ³¢åŠ¨æ•°åˆ—</h2><blockquote><ul><li><p>ä¸€å¼€å§‹æƒ³åˆ°çš„æš´åŠ›çš„æ–¹æ³•æ˜¯DFSï¼Œå¥ˆä½•ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯æœªçŸ¥çš„ï¼Œéœ€è¦å…ˆè®¡ç®—Leftå’ŒRightå†å¯¹è¿™ä¸ªèŒƒå›´è¿›è¡ŒDFSï¼Œç»“æœæ­£ç¡®è¿‡äº†æ ·ä¾‹ï¼Œä½†æ˜¯â€œå¬å–waå£°ä¸€ç‰‡â€äº†å±å®ğŸ˜“</p></li><li><p>æ­£è§£åœ¨ä¸‹é¢ç¬¬äºŒç‰ˆï¼Œç”¨äº†DPï¼Œå…¶å®è¿™é¢˜æ‹†ä¸‹æ¥æ˜¯ä¸€é“0-1èƒŒåŒ…ç»å…¸çš„DPåŠ¨å½’</p></li></ul></blockquote><p>ç»™å¤§å®¶åº·åº·0åˆ†è¿‡äº†æ ·ä¾‹çš„ä»£ç ,å…³é”®æ˜¯è‡ªå·±è¾“å‡ºäº†ä¸­é—´ç”Ÿæˆçš„æ•°åˆ—ä¹Ÿæ²¡å¾—é—®é¢˜æ’’ï¼Œåº”è¯¥æ˜¯è§„å®šæ—¶é—´æ²¡è·‘å‡ºç»“æœç›´æ¥åˆ¤æ–­0äº†ï¼š</p><p>ç¬¬ä¸€ç‰ˆï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token comment">/*4 10 2 3*/</span>ll a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>ll n<span class="token punctuation">,</span>s<span class="token punctuation">;</span>ll l<span class="token punctuation">,</span>r<span class="token punctuation">;</span>ll ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>ll mod<span class="token operator">=</span><span class="token number">100000007</span><span class="token punctuation">;</span><span class="token comment">//vector&lt;ll>temp;</span>ll <span class="token function">dfs</span><span class="token punctuation">(</span>ll num<span class="token punctuation">,</span>ll sum<span class="token punctuation">,</span>ll v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//temp.push_back(v);</span>ll cnt<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token operator">==</span>sum<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//for(int i=0;i&lt;temp.size();i++)&#123;</span><span class="token comment">//printf("%lld ",temp[i]);</span><span class="token comment">//&#125;</span><span class="token comment">//printf("\n");</span><span class="token comment">//temp.pop_back();</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//temp.pop_back();</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">=</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>sum<span class="token operator">-</span>v<span class="token punctuation">,</span>v<span class="token operator">-</span>a<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token operator">+</span><span class="token function">dfs</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>sum<span class="token operator">-</span>v<span class="token punctuation">,</span>v<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token comment">//temp.pop_back();</span><span class="token keyword">return</span> cnt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld%lld%lld%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>r<span class="token operator">=</span><span class="token punctuation">(</span>s<span class="token operator">+</span>n<span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">*</span>b<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">/</span>n<span class="token operator">+</span>b<span class="token punctuation">;</span>l<span class="token operator">=</span><span class="token punctuation">(</span>s<span class="token operator">-</span>n<span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">*</span>a<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">/</span>n<span class="token operator">-</span>a<span class="token punctuation">;</span><span class="token comment">//printf("%lld %lld\n",l,r);</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll v<span class="token operator">=</span>l<span class="token punctuation">;</span>v<span class="token operator">&lt;=</span>r<span class="token punctuation">;</span>v<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span><span class="token punctuation">(</span>ans<span class="token operator">%</span>mod<span class="token operator">+</span><span class="token function">dfs</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>s<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒç‰ˆ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span> <span class="token comment">//æ€è·¯ç±»ä¼¼äº0-1èƒŒåŒ… </span><span class="token keyword">int</span> mod<span class="token operator">=</span><span class="token number">100000007</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">1000009</span><span class="token punctuation">;</span><span class="token comment">//aå‡ºç°çš„æ¬¡æ•°ä¸Šé™ </span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>ll n<span class="token punctuation">,</span>s<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å­é›†å’Œ </span><span class="token keyword">void</span> <span class="token function">_init_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//aä¸º0ä¸ªçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªè§£</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>j<span class="token operator">>=</span>i<span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">+</span>dp<span class="token punctuation">[</span>j<span class="token operator">-</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token comment">//å–ä¸ä¸å– </span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld%lld%lld%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>ll num<span class="token operator">=</span>n<span class="token operator">*</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> s<span class="token operator">+=</span>num<span class="token operator">*</span>b<span class="token punctuation">;</span><span class="token function">_init_</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ll optnum<span class="token operator">=</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœæœ‰iä¸ªa</span>ll temp<span class="token operator">=</span>s<span class="token operator">-</span>i<span class="token operator">*</span>optnum<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">%</span>n<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span><span class="token punctuation">(</span>ans<span class="token operator">+</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol><li><p><a href="https://blog.csdn.net/m0_51955470/article/details/114421209">åœ°å®«å¯»å®</a></p></li><li><p><a href="https://blog.csdn.net/the_ZED/article/details/105014767">è¶…çŸ­çš„æ³¢åŠ¨æ•°åˆ—é¢˜è§£</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç«èµ› </tag>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CCF_CSP_2021_12æ¨¡æ‹Ÿ</title>
      <link href="/2022/02/23/ccf-csp-2021-12-mo-ni/"/>
      <url>/2022/02/23/ccf-csp-2021-12-mo-ni/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>ä»ç¬¬ä¸€é¢˜åˆ°ç¬¬äº”é¢˜ï¼Œéš¾åº¦ä¸Šå‡æ¯”è¾ƒå¤§ï¼š</p><table><thead><tr><th>é¢˜ç›®ç¼–å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>2021_12_1</td><td>ğŸ¸</td><td>æ•°ç»„</td></tr><tr><td>2021_12_2</td><td>ğŸ¸(ğŸ¸ğŸ¸)</td><td>æ•°ç»„ï¼ˆACéœ€è¦ç”¨åˆ°åŒºé—´çš„æ€æƒ³ï¼‰</td></tr><tr><td>2021_12_3</td><td>ğŸ¸ğŸ¸(ğŸ¸)</td><td>æ•°ç»„å¤„ç†+æ¨¡æ‹Ÿ</td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-åºåˆ—æŸ¥è¯¢"><a href="#2-1-åºåˆ—æŸ¥è¯¢" class="headerlink" title="2.1 åºåˆ—æŸ¥è¯¢"></a>2.1 åºåˆ—æŸ¥è¯¢</h2><p>çœ‹æ‡‚é¢˜ç›®å°±å¯ä»¥ä¸‹æ‰‹äº†ï¼ŒæŒ‰ç…§é¢˜ç›®è¦æ±‚åˆ›å»ºæ•°æ®ç»“æ„å’Œå˜é‡â€”â€”ä¸å®¹æ˜“å‡ºé”™~</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>N<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>A<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è¾“å…¥ </span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¾“å‡ºf(0)+â€¦+f(N-1)</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">while</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>index<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">==</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>index<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//printf("index=%d ",index);</span>sum<span class="token operator">+=</span>index<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-åºåˆ—æŸ¥è¯¢æ–°è§£"><a href="#2-2-åºåˆ—æŸ¥è¯¢æ–°è§£" class="headerlink" title="2.2 åºåˆ—æŸ¥è¯¢æ–°è§£"></a>2.2 åºåˆ—æŸ¥è¯¢æ–°è§£</h2><p>ç›´æ¥æ²¿ç”¨ç¬¬ä¸€é¢˜çš„ä»£ç ï¼Œç¨åŠ å˜æ¢70%,ä¼šæœ‰è¶…æ—¶çš„é—®é¢˜(åº”è¯¥è¿˜ä¼šæœ‰æ•°å€¼long long çš„é—®é¢˜)</p><p>ACçš„æ—¶å€™éœ€è¦è€ƒè™‘åŒºé—´ï¼Œå› ä¸ºéå†Nçš„ä»£ä»·å¤ªå¤§äº†ï¼ŒACä»£ç è§ç¬¬äºŒç‰ˆ</p><ol><li>70%æš´åŠ›æ±‚è§£ä»£ç ï¼š</li></ol><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>N<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>A<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> error<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> index<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> f<span class="token punctuation">,</span>g<span class="token punctuation">,</span>r<span class="token operator">=</span>N<span class="token operator">/</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">while</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">&lt;=</span>x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>index<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">==</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>index<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//è¿™é‡Œçš„indexå°±æ˜¯fçš„å€¼ </span>f<span class="token operator">=</span>index<span class="token punctuation">;</span>g<span class="token operator">=</span>x<span class="token operator">/</span>r<span class="token punctuation">;</span>error<span class="token operator">+=</span><span class="token function">abs</span><span class="token punctuation">(</span>g<span class="token operator">-</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>ACä»£ç ï¼š</li></ol><blockquote><p>æ€è·¯ï¼šç”¨éå†f(i)ä»£æ›¿éå†N,å³ç”¨éå†nä»£æ›¿éå†N~ğŸ˜‹</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>ll n<span class="token punctuation">,</span>N<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>ll<span class="token operator">></span>A<span class="token punctuation">;</span>ll error<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>ll r<span class="token punctuation">;</span>ll <span class="token function">Getg</span><span class="token punctuation">(</span>ll index<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¾—åˆ°0-indexåŒºé—´å†…g(i)çš„å’Œ</span>ll sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>ll total_num<span class="token operator">=</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span>r<span class="token punctuation">;</span>ll res_num<span class="token operator">=</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>r<span class="token punctuation">;</span>sum<span class="token operator">+=</span>r<span class="token operator">*</span>total_num<span class="token operator">*</span><span class="token punctuation">(</span>total_num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>sum<span class="token operator">+=</span>res_num<span class="token operator">*</span>total_num<span class="token punctuation">;</span><span class="token comment">//printf("ç¼–å·%lldä¹‹å†…çš„å’Œï¼š %lld\n",index,sum);</span><span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ll <span class="token function">cal</span><span class="token punctuation">(</span>ll left<span class="token punctuation">,</span>ll right<span class="token punctuation">,</span>ll fi<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ll sum_fi<span class="token operator">=</span><span class="token punctuation">(</span>right<span class="token operator">-</span>left<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>fi<span class="token punctuation">;</span><span class="token comment">//å¾—åˆ°[left,right]åŒºé—´å†…çš„f(i)çš„å’Œ  </span>ll sum_gi<span class="token operator">=</span><span class="token function">Getg</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">Getg</span><span class="token punctuation">(</span>left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¾—åˆ°[left,right]åŒºé—´å†…çš„g(i)çš„å’Œ </span><span class="token comment">//printf("%lld-%lld:fi=%lld gi=%lld\n",left,right,sum_fi,sum_gi); </span><span class="token keyword">return</span> <span class="token function">abs</span><span class="token punctuation">(</span>sum_fi<span class="token operator">-</span>sum_gi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>A<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token keyword">int</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>A<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é˜²æ­¢è¶Šç•Œ </span>r<span class="token operator">=</span>N<span class="token operator">/</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ll left<span class="token punctuation">,</span>right<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll fi<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>fi<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>fi<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//[left,right]---->æ˜¯>=A[fi]çš„ié›†åˆ </span>left<span class="token operator">=</span>A<span class="token punctuation">[</span><span class="token keyword">int</span><span class="token punctuation">(</span>fi<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>right<span class="token operator">=</span>A<span class="token punctuation">[</span><span class="token keyword">int</span><span class="token punctuation">(</span>fi<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//è®¡ç®— [left,right]åŒºé—´å†…çš„sum(|g(i)-f(i)|)å€¼ </span><span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">/</span>r<span class="token operator">>=</span>fi<span class="token operator">||</span>right<span class="token operator">/</span>r<span class="token operator">&lt;=</span>fi<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å…¨éƒ¨g>fæˆ–è€…g&lt;fç›´æ¥è®¡ç®— </span>error<span class="token operator">+=</span><span class="token function">cal</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>right<span class="token punctuation">,</span>fi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦åˆ™æ‹†åˆ†æˆä¸¤ä»½</span>error<span class="token operator">+=</span><span class="token function">cal</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>fi<span class="token operator">*</span>r<span class="token punctuation">,</span>fi<span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">cal</span><span class="token punctuation">(</span>fi<span class="token operator">*</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>right<span class="token punctuation">,</span>fi<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç™»æœºç‰Œæ¡ç "><a href="#2-3-ç™»æœºç‰Œæ¡ç " class="headerlink" title="2.3 ç™»æœºç‰Œæ¡ç "></a>2.3 ç™»æœºç‰Œæ¡ç </h2><blockquote><p>è¿™é¢˜ä»”ç»†å®¡é¢˜çš„è¯ï¼Œæ‹¿ä¸‹40åˆ†ä¸æ˜¯å¾ˆéš¾ï¼Œéš¾ç‚¹åœ¨äº60åˆ†æ ¡éªŒç çš„è®¡ç®—</p></blockquote><ol><li>40%å¾—åˆ†é¢˜è§£</li></ol><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//ç™»æœºç‰Œæ¡ç  </span><span class="token keyword">int</span> w<span class="token punctuation">,</span>s<span class="token punctuation">;</span>string str<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>num<span class="token punctuation">;</span><span class="token comment">//ç¼–ç  </span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token keyword">final</span><span class="token punctuation">;</span><span class="token comment">//æœ€åçš„ç å­— </span><span class="token keyword">bool</span> <span class="token function">isNum</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">&lt;=</span><span class="token char">'9'</span><span class="token operator">&amp;&amp;</span>c<span class="token operator">>=</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isLower</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">&lt;=</span><span class="token char">'z'</span><span class="token operator">&amp;&amp;</span>c<span class="token operator">>=</span><span class="token char">'a'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isUpper</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">&lt;=</span><span class="token char">'Z'</span><span class="token operator">&amp;&amp;</span>c<span class="token operator">>=</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>w<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ä¸è€ƒè™‘å–ä½™æ•°</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token keyword">int</span> pre<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//æ•°å­—1 å°å†™2 å¤§å†™3 </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isNum</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ•°å­— </span><span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>pre<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å°ã€å¤§å†™è½¬æ•°å­— </span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isLower</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å°å†™ </span><span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">1</span><span class="token operator">||</span>pre<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å¤§å†™</span><span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token operator">*</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>num<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>w<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">final</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>ACé¢˜è§£</li></ol><blockquote><ul><li>é¦–å…ˆè®¡ç®—gxå’Œdx</li><li>æ¥ç€è®¡ç®—rx</li></ul></blockquote><p>çœ‹æ‡‚äº†é¢˜è§£çš„è¯ï¼Œå…¶å®ä¹Ÿä¸æ˜¯éå¸¸éš¾ï¼Œå‚è€ƒåšå®¢é™„åœ¨ä¸‹é¢ï¼Œå†™å¾—å¾ˆè¯¦ç»†äº†ï¼Œä¸€ä¸ªå‘ç‚¹åœ¨äºä½™æ•°ä¸º<code>-</code>æ˜¯åˆ¤æ–­æ¡ä»¶ï¼Œç›´æ¥å¾…å¤šé¡¹å¼é™¤æ³•çš„æ­£æ•°ä¼šä¸€ç›´WAWAW~</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//ç™»æœºç‰Œæ¡ç  </span><span class="token keyword">int</span> w<span class="token punctuation">,</span>s<span class="token punctuation">;</span>string str<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>num<span class="token punctuation">;</span><span class="token comment">//ç¼–ç  </span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token keyword">final</span><span class="token punctuation">;</span><span class="token comment">//æœ€åçš„ç å­— </span><span class="token keyword">const</span> <span class="token keyword">int</span> mod<span class="token operator">=</span><span class="token number">929</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isNum</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">&lt;=</span><span class="token char">'9'</span><span class="token operator">&amp;&amp;</span>c<span class="token operator">>=</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isLower</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">&lt;=</span><span class="token char">'z'</span><span class="token operator">&amp;&amp;</span>c<span class="token operator">>=</span><span class="token char">'a'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isUpper</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>c<span class="token operator">&lt;=</span><span class="token char">'Z'</span><span class="token operator">&amp;&amp;</span>c<span class="token operator">>=</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>w<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token keyword">int</span> pre<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token comment">//æ•°å­—1 å°å†™2 å¤§å†™3 </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isNum</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ•°å­— </span><span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>pre<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å°ã€å¤§å†™è½¬æ•°å­— </span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isLower</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å°å†™ </span><span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">1</span><span class="token operator">||</span>pre<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å¤§å†™</span><span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pre<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">+=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token operator">*</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span>num<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> k<span class="token operator">=</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2.0</span><span class="token punctuation">,</span>s<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>w<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>w<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">900</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¤„ç†æ ¡éªŒç </span><span class="token comment">//printf("@");</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">dx</span><span class="token punctuation">(</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>dx<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dx<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">gx</span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>gx<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>gx<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–ï¼š-3+x </span>gx<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>gx<span class="token punctuation">[</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">int</span> temp<span class="token operator">=</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">;</span><span class="token comment">//è®¡ç®—gx</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">t</span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>k<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>gx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>k<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>gx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span>gx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>temp<span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>k<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>gx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>gx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token operator">+</span>t<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>gx<span class="token punctuation">[</span>k<span class="token operator">-</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>temp<span class="token operator">*=</span><span class="token number">3</span><span class="token punctuation">;</span>temp<span class="token operator">%=</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//dxèµ‹å€¼</span>dx<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dx<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>dx<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">%=</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//æ±‚ä½™æ•°</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>dx<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> t<span class="token operator">=</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>gx<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dx<span class="token punctuation">[</span>i<span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">(</span>dx<span class="token punctuation">[</span>i<span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token operator">-</span><span class="token punctuation">(</span>gx<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">*</span>t<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token operator">%</span>mod<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>dx<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>gx<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>dx<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">-</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>mod<span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">-</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">-</span>dx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">%</span>mod<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token keyword">final</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4"><a href="#2-4" class="headerlink" title="2.4"></a>2.4</h2><h2 id="2-5"><a href="#2-5" class="headerlink" title="2.5"></a>2.5</h2><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><p>1.[åºåˆ—æŸ¥è¯¢æ–°è§£](<a href="https://blog.csdn.net/reidpa/article/details/121942425">CCF CSP 202112-2 åºåˆ—æŸ¥è¯¢æ–°è§£_reidpaçš„åšå®¢-CSDNåšå®¢</a>)</p><p>2.<a href="https://blog.csdn.net/qq_44668088/article/details/122270123">ç™»æœºç‰Œæ¡ç </a></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> CCF-CSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2022/02/20/dp-dan-yuan-zui-duan-lu-jing/"/>
      <url>/2022/02/20/dp-dan-yuan-zui-duan-lu-jing/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·è¾“å…¥å›¾çš„é¡¶ç‚¹æ•°ç›®ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> vexnum<span class="token punctuation">;</span>cin <span class="token operator">>></span> vexnum<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">cost</span><span class="token punctuation">(</span>vexnum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//cost[i]è¡¨ç¤ºä»é¡¶ç‚¹iåˆ°ç»ˆç‚¹n-1çš„æœ€çŸ­è·¯å¾„é•¿åº¦</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">path</span><span class="token punctuation">(</span>vexnum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//path[i]è¡¨ç¤ºä»é¡¶ç‚¹iåˆ°ç»ˆç‚¹n-1çš„è·¯å¾„ä¸Šé¡¶ç‚¹içš„ä¸‹ä¸€ä¸ªé¡¶ç‚¹</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·è¾“å…¥å›¾çš„è¾¹æ•°ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> edgenum<span class="token punctuation">;</span>cin <span class="token operator">>></span> edgenum<span class="token punctuation">;</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">edge</span><span class="token punctuation">(</span>vexnum<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>vexnum<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//edge[i][j]å­˜å‚¨å¤šæ®µå›¾ä¸­çš„è¾¹</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·ä¾æ¬¡è¾“å…¥å›¾ä¸­å„è¾¹çš„èµ·ç‚¹ç»ˆç‚¹å’Œè·¯å¾„é•¿åº¦ï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> start<span class="token punctuation">;</span><span class="token keyword">int</span> end<span class="token punctuation">;</span><span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> edgenum<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin <span class="token operator">>></span> start <span class="token operator">>></span> end <span class="token operator">>></span> length<span class="token punctuation">;</span>edge<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">[</span>end<span class="token punctuation">]</span> <span class="token operator">=</span> length<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> vexnum<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> vexnum<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ç­‰äºé›¶è¡¨ç¤ºä¹‹é—´æ²¡æœ‰è·¯</span><span class="token keyword">if</span> <span class="token punctuation">(</span>edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> cost<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ­¤æ—¶æ‰¾åˆ°ä¸€æ¡æ›´çŸ­çš„è·¯</span>path<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span><span class="token comment">//æ›´æ–°path[i]</span>cost<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> edge<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> cost<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//æ›´æ–°ä»è¯¥èŠ‚ç‚¹å‡ºå‘çš„æœ€çŸ­è·¯å¾„</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æœ€çŸ­è·¯å¾„é•¿åº¦æ˜¯ï¼š"</span> <span class="token operator">&lt;&lt;</span> cost<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æœ€çŸ­è·¯å¾„ä¸ºï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"0 ---> "</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout <span class="token operator">&lt;&lt;</span> path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>i <span class="token operator">=</span> path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> vexnum<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" ---> "</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2022/02/18/opendata-shi-yong-fang-fa/"/>
      <url>/2022/02/18/opendata-shi-yong-fang-fa/</url>
      
        <content type="html"><![CDATA[<p>1.<a href="http://www.paobushijie.com/sports-training/8052-ftp">æ³›å‡½ä¸´ç•ŒåŠŸç‡(FTP)æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæ˜¯å¦‚ä½•è¢«å®šä¹‰çš„ï¼Ÿè°ˆéª‘åŠ›ã€FTPä¸è®­ç»ƒåŠŸç‡ - è·‘æ­¥ä¸–ç•Œ (paobushijie.com)</a></p><p>2.</p><h1 id="OpenDataä½¿ç”¨æ–¹æ³•"><a href="#OpenDataä½¿ç”¨æ–¹æ³•" class="headerlink" title="OpenDataä½¿ç”¨æ–¹æ³•"></a>OpenDataä½¿ç”¨æ–¹æ³•</h1><h1 id="GoldenCheeta-Open-Data-Python-library"><a href="#GoldenCheeta-Open-Data-Python-library" class="headerlink" title="GoldenCheeta Open Data Python library"></a>GoldenCheeta Open Data Python library</h1><p>This is the official Python library to work with the data from the GoldenCheetah Open Data project. This data is available on the Open Science Framework (<a href="https://osf.io/6hfpz">https://osf.io/6hfpz</a>) and on AWS S3 (<a href="https://goldencheetah-opendata.s3.amazonaws.com/">https://goldencheetah-opendata.s3.amazonaws.com/</a>). For this library AWS S3 used.</p><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><pre class="line-numbers language-none"><code class="language-none">pipenv install goldencheetah-opendata<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>or</p><pre class="line-numbers language-none"><code class="language-none">pip install goldencheetah-opendata<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><pre class="line-numbers language-none"><code class="language-none">from opendata import OpenDataod &#x3D; OpenData()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>The library makes a clear distinction between working with remote data (AWS S3) and data that you have downloaded locally. Working with remote data makes it possible to work with data in e.g. an hosted Jupyter notebook or to play with data that you have not downloaded yet. Bare in mind that working with the remote data has a performance penalty: downloading the data is orders of magnitude slower that accessing data from disk. If you expect to use the data more often we advise you to store the data to disk (read on to see how to do that). As an added bonus you will save us some network traffic costs on our next AWS bill, yey!</p><p>By default, when you store data locally the data is stored in an <code>opendatastorage</code> directory in your home directory (<code>~/opendatastorage</code>). In general:</p><ul><li>MacOS: <code>/Users/&lt;username&gt;/opendatastorage</code></li><li>Linux: <code>/home/&lt;username&gt;/opendatastorage</code></li><li>Windows: <code>C:\Users\&lt;username&gt;\opendatastorage</code></li></ul><p>You can overwrite this location by putting a file <code>opendata.ini</code> in your working directory (generally the directory from where you execute Python) with this content:</p><pre class="line-numbers language-none"><code class="language-none">[Storage]local_storage_path &#x3D; &lt;path to your desired location&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Working-with-remote-data-storage"><a href="#Working-with-remote-data-storage" class="headerlink" title="Working with remote data storage"></a>Working with remote data storage</h3><p>List all remote athletes.</p><pre class="line-numbers language-none"><code class="language-none">for athlete in od.remote_athletes():    # do something    pass<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>od.remote_athletes()</code> returns a generator of <code>RemoteAthlete</code> models. It is important to note that this will only do a (i.e. 1) call to our remote storage to get a list of the available athletes without actually downloading the data. Only when you access the <code>metadata</code> attribute or call <code>athlete.activities()</code> or <code>athlete.get_activities()</code> the data will be downloaded.</p><p>To get a specific athlete:</p><pre class="line-numbers language-none"><code class="language-none">athlete &#x3D; od.get_remote_athlete(&#39;0031326c-e796-4f35-8f25-d3937edca90f&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>To store this athlete athlete locally:</p><pre class="line-numbers language-none"><code class="language-none">athlete.store_locally()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>To store only the metadata:</p><pre class="line-numbers language-none"><code class="language-none">athlete.store_locally(data&#x3D;False)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>the rest of the data could always be retrieved later:</p><pre class="line-numbers language-none"><code class="language-none">from opendata.models import LocalAthletelocal_athlete &#x3D; LocalAthlete(athlete.id)local_athlete.download_remote_data()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="Working-with-local-data-storage"><a href="#Working-with-local-data-storage" class="headerlink" title="Working with local data storage"></a>Working with local data storage</h3><p>List all local athletes.</p><pre class="line-numbers language-none"><code class="language-none">for athlete in od.local_athletes():    # do something    pass<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>od.local_athletes()</code> returns a generator of <code>LocalAthlete</code> models. Here again, no data is actually loaded (from disk in this case) untill you access the <code>metadata</code> attribute or call <code>athlete.activities()</code> or <code>athlete.get_activity()</code>.</p><p>To check which athletes are available that you do not have downloaded locally:</p><pre class="line-numbers language-none"><code class="language-none">missing_athletes &#x3D; list(od.missing_athletes())print(len(missing_athletes))&gt;&gt; 168<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>To get a specific athlete:</p><pre class="line-numbers language-none"><code class="language-none">athlete &#x3D; od.get_local_athlete(&#39;0031326c-e796-4f35-8f25-d3937edca90f&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="General-usage"><a href="#General-usage" class="headerlink" title="General usage"></a>General usage</h3><pre class="line-numbers language-none"><code class="language-none">athlete.metadata[&#39;ATHLETE&#39;]&gt;&gt; &#123;&#39;gender&#39;: &#39;M&#39;, &#39;yob&#39;: &#39;2062&#39;, &#39;id&#39;: &#39;&#123;0031326c-e796-4f35-8f25-d3937edca90f&#125;&#39;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>To get all activities for an athlete:</p><pre class="line-numbers language-none"><code class="language-none">activities &#x3D; athlete.activities()for activity in activities:    # do some calculation on the data    pass<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>As you might have guessed, <code>athlete.activities()</code> returns a generator of <code>Activity</code> models, so to have all activities as a list:</p><pre class="line-numbers language-none"><code class="language-none">activities &#x3D; list(athlete.activities())<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>This way you can access single activities by index:</p><pre class="line-numbers language-none"><code class="language-none">activity &#x3D; actitivies[99]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>To get a specific activity for an athlete by activity_id:</p><pre class="line-numbers language-none"><code class="language-none">activity &#x3D; athlete.get_activity(&#39;2018_03_17_09_29_27.csv&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>The activity data for an activity is available as a Pandas DataFrame in the <code>data</code> attribute. Once again, for memory usage and performance reasons, this data is only loaded in memory once you access it.</p><pre class="line-numbers language-none"><code class="language-none">activity.data.power.plot()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><a href="https://github.com/GoldenCheetah/OpenData/blob/master/opendata-python/resources/power_plot.png"><img src="https://github.com/GoldenCheetah/OpenData/raw/master/opendata-python/resources/power_plot.png" alt="png"></a></p><pre class="line-numbers language-none"><code class="language-none">activity.metadata[&#39;sport&#39;]&gt;&gt; &#39;Bike&#39;athlete.metadata[&#39;ATHLETE&#39;]&gt;&gt; &#123;&#39;gender&#39;: &#39;M&#39;, &#39;yob&#39;: &#39;2062&#39;, &#39;id&#39;: &#39;&#123;0031326c-e796-4f35-8f25-d3937edca90f&#125;&#39;&#125;activities &#x3D; list(athlete.activities())activities[99].metadata &gt;&gt; &#123;&#39;date&#39;: &#39;2017&#x2F;10&#x2F;21 12:01:56 UTC&#39;,     &#39;data&#39;: &#39;TDS-H--AGL-----&#39;,     &#39;sport&#39;: &#39;Bike&#39;,     &#39;METRICS&#39;: &#123;&#39;ride_count&#39;: &#39;1.00000&#39;,      &#39;workout_time&#39;: &#39;1077.00000&#39;,      &#39;time_riding&#39;: &#39;1072.00000&#39;,      &#39;total_distance&#39;: &#39;6.69220&#39;,      &#39;climb_rating&#39;: [&#39;0.08019&#39;, &#39;1.00000&#39;],      &#39;athlete_weight&#39;: &#39;81.00000&#39;,      &#39;elevation_gain&#39;: &#39;23.16500&#39;,      &#39;elevation_loss&#39;: &#39;9.14400&#39;,      &#39;average_speed&#39;: &#39;22.47381&#39;,      &#39;average_hr&#39;: [&#39;123.17920&#39;, &#39;1077.00000&#39;],      &#39;average_ct&#39;: [&#39;37.15861&#39;, &#39;1077.00000&#39;],      &#39;heartbeats&#39;: &#39;2211.06667&#39;,      &#39;average_temp&#39;: &#39;-255.00000&#39;,      &#39;max_heartrate&#39;: &#39;134.00000&#39;,      &#39;min_heartrate&#39;: &#39;100.00000&#39;,        ...    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ä½œå›¾ç¬¬äºŒå¼¹ï¼šPPT&amp;EXCEL</title>
      <link href="/2022/02/11/zuo-tu-di-er-dan-ppt-excel/"/>
      <url>/2022/02/11/zuo-tu-di-er-dan-ppt-excel/</url>
      
        <content type="html"><![CDATA[<h1 id="1-ä½¿ç”¨å·¥å…·"><a href="#1-ä½¿ç”¨å·¥å…·" class="headerlink" title="1. ä½¿ç”¨å·¥å…·"></a>1. ä½¿ç”¨å·¥å…·</h1><ul><li>PPT</li><li>EXCEL</li></ul><h1 id="2-æ ·ä¾‹ä»¥åŠä½œå›¾ç»†èŠ‚"><a href="#2-æ ·ä¾‹ä»¥åŠä½œå›¾ç»†èŠ‚" class="headerlink" title="2. æ ·ä¾‹ä»¥åŠä½œå›¾ç»†èŠ‚"></a>2. æ ·ä¾‹ä»¥åŠä½œå›¾ç»†èŠ‚</h1><h2 id="2-1-æƒé‡å›¾ã€çƒ­åŠ›å›¾ä¸ä¸‰ç»´åœ°å›¾"><a href="#2-1-æƒé‡å›¾ã€çƒ­åŠ›å›¾ä¸ä¸‰ç»´åœ°å›¾" class="headerlink" title="2.1 æƒé‡å›¾ã€çƒ­åŠ›å›¾ä¸ä¸‰ç»´åœ°å›¾"></a>2.1 æƒé‡å›¾ã€çƒ­åŠ›å›¾ä¸ä¸‰ç»´åœ°å›¾</h2><h3 id="2-1-1-æƒé‡å›¾"><a href="#2-1-1-æƒé‡å›¾" class="headerlink" title="2.1.1 æƒé‡å›¾"></a>2.1.1 æƒé‡å›¾</h3><h3 id="2-1-2-ä¸‰ç»´åœ°å›¾"><a href="#2-1-2-ä¸‰ç»´åœ°å›¾" class="headerlink" title="2.1.2 ä¸‰ç»´åœ°å›¾"></a>2.1.2 ä¸‰ç»´åœ°å›¾</h3><p><a href="https://support.microsoft.com/zh-cn/office/%E4%B8%89%E7%BB%B4%E5%9C%B0%E5%9B%BE%E5%85%A5%E9%97%A8-6b56a50d-3c3e-4a9e-a527-eea62a387030">ã€excelå®˜æ–¹æ–‡æ¡£ã€‘</a></p><p>ä¿å­˜çš„æ—¶å€™ï¼Œâ€œç‚¹å‡»â€˜æ•è·å±å¹•â€™â€ï¼Œå¤åˆ¶åˆ°wordå³å¯</p><h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2>]]></content>
      
      
      <categories>
          
          <category> å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä½œå›¾ </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NLPè®ºæ–‡é˜…è¯»ç¬¬äºŒå¼¹â€”â€”MemNet</title>
      <link href="/2022/02/10/nlp-lun-wen-yue-du-di-er-dan-memnet/"/>
      <url>/2022/02/10/nlp-lun-wen-yue-du-di-er-dan-memnet/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§1001-1100è¡¥ä¸</title>
      <link href="/2022/02/10/pta-jia-ji-1001-1100-bu-ding/"/>
      <url>/2022/02/10/pta-jia-ji-1001-1100-bu-ding/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡ä½œä¸šå±äºè¡¥æ¼~ğŸ˜œï¼Œæ€»ä½“ä¸Šâ€¦â€¦å‰1069çš„é¢˜ç›®æœ‰ä¸€äº›ä¸æ˜¯å¾€å±ŠçœŸé¢˜ï¼ˆä¼¼ä¹ï¼‰ï¼Œæ‰€ä»¥éš¾åº¦å’Œè€ƒå¯ŸèŒƒå›´å’Œæ¨¡æ‹Ÿçš„æ‰‹æ„Ÿä¸å¤ªä¸€æ ·ï¼Œå‡†å¤‡æœºè¯•çš„è¯ï¼Œä¸ªäººæ„Ÿè§‰è¿˜å¥½ï¼Œé€‚åˆâ€œæŸ¥æ¼è¡¥ç¼ºâ€ï¼š</p><p>æŒ‰ç…§åˆ†å€¼æ’åº</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1096</td><td>ğŸ¸</td><td>æš´åŠ›+æ•°å­¦</td></tr><tr><td>1059</td><td>ğŸ¸</td><td>ç®€å•æ•°å­¦+è‹±è¯­é˜…è¯»</td></tr><tr><td>1082</td><td>ğŸ¸ğŸ¸</td><td>å­—ç¬¦ä¸²å¤„ç†</td></tr><tr><td>1075</td><td>ğŸ¸</td><td>ç»“æ„ä½“æ’åº+STLåº”ç”¨</td></tr><tr><td>1026</td><td></td><td></td></tr><tr><td>1014</td><td></td><td></td></tr><tr><td>1080</td><td></td><td></td></tr><tr><td>1049</td><td></td><td></td></tr><tr><td>1057</td><td></td><td></td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-1096-Consecutive-Factors-20-åˆ†"><a href="#2-1-1096-Consecutive-Factors-20-åˆ†" class="headerlink" title="2.1 1096 Consecutive Factors (20 åˆ†)"></a>2.1 <strong>1096 Consecutive Factors (20 åˆ†)</strong></h2><blockquote><p>æš´åŠ›çš„è¯ï¼Œä¼šæœ‰ä¸€ä¸ªæµ‹è¯•ç‚¹è¶…æ—¶,æ³¨æ„åœ¨isOkä¹‹å‰åˆ¤æ–­N%iä»¥åŠN%jå¯å¦ä¸º0ï¼Œå¦åˆ™ä¸æšä¸¾ç­”æ¡ˆâ€”â€”AC</p></blockquote><p>æ„Ÿè§‰ä¸æ˜¯æœ€ä¼˜åšæ³•ï¼Œä½†æ˜¯PTAæµ‹è¯•ç‚¹ç»™çš„æ ·ä¾‹å¡æ—¶é—´å¡çš„ä¸æ˜¯å¾ˆä¸¥æ ¼ğŸ˜‚ï¼Œæš´åŠ›ACæ²¡æƒ³åˆ°â€¦â€¦æ˜æ˜çœ‹å¾€å±Šæ­£ç¡®ç‡ä¸æ˜¯å¾ˆé«˜</p><p>ACä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//æœ€å¤§çš„è¿ç»­</span><span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>ll N<span class="token punctuation">;</span> ll low<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>high<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isOk</span><span class="token punctuation">(</span>ll a<span class="token punctuation">,</span>ll b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ll temp<span class="token operator">=</span>N<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>a<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>b<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">%</span>i<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>temp<span class="token operator">/=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>high<span class="token operator">-</span>low<span class="token operator">&lt;</span>b<span class="token operator">-</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>high<span class="token operator">=</span>b<span class="token punctuation">;</span>low<span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span>  <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ll min_temp<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>min_temp<span class="token operator">=</span>N<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>N<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>min_temp<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token punctuation">;</span>j<span class="token operator">*</span>j<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>N<span class="token operator">%</span>j<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token function">isOk</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span>high<span class="token operator">-</span>low<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>high<span class="token operator">!=</span>low<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>low<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>high<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>low<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>min_temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-1059-Prime-Factors-25-åˆ†"><a href="#2-2-1059-Prime-Factors-25-åˆ†" class="headerlink" title="2.2 1059 Prime Factors (25 åˆ†)"></a>2.2 <strong>1059 Prime Factors (25 åˆ†)</strong></h2><blockquote><p>å…¶å®ä¸éš¾ï¼Œæ³¨æ„éœ€è¦ç‰¹åˆ¤è¾“å…¥ä¸º1 çš„æƒ…å†µ</p><p>é¢˜æ„ï¼šè¾“å‡ºä¸€ä¸ªæ•°çš„åˆ†è§£å®Œå› å­çš„å½¢å¼p^k+â€¦â€¦ï¼Œæ³¨æ„p=1ä»¥åŠk=1çš„æƒ…å†µä¸éœ€è¦è¾“å‡ºå¯¹åº”çš„p^kä»¥åŠk</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>ll n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span>ll x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">5</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1=1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>m<span class="token operator">=</span>n<span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld="</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span><span class="token function">isPrime</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>n<span class="token operator">/=</span>i<span class="token punctuation">;</span>num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld^%d"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">!=</span>m<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-1082-Read-Number-in-Chinese-25-åˆ†"><a href="#2-3-1082-Read-Number-in-Chinese-25-åˆ†" class="headerlink" title="2.3 1082 Read Number in Chinese (25 åˆ†)"></a>2.3 <strong>1082 Read Number in Chinese (25 åˆ†)</strong></h2><blockquote><p>æ„Ÿè§‰ä¸æ˜¯å¾ˆéš¾çš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å¤„ç†èµ·æ¥è€ƒå¯Ÿæ€ç»´å…¨é¢æ€§ä»¥åŠâ€¦â€¦è«æ…Œ</p><p>ç¬¬ä¸€é22/25ï¼Œæ²¡æ‰¾åˆ°é”™å› ï¼Œä»£ç è´´åœ¨ç¬¬ä¸€ç‰ˆ</p><p>è®¢æ­£çš„æ—¶å€™å‚è€ƒäº†åˆ«äººçš„ä»£ç ï¼Œå‘ç°è‡ªå·±æ€è·¯æœç„¶å†—ä½™â€¦â€¦ACä»£ç åœ¨ç¬¬äºŒç‰ˆ</p></blockquote><p>ç¬¬ä¸€ç‰ˆï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">DoFu</span><span class="token punctuation">(</span>string <span class="token operator">&amp;</span>str<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'-'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Fu "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>str<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>string number<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"ling"</span><span class="token punctuation">,</span><span class="token string">"yi"</span><span class="token punctuation">,</span><span class="token string">"er"</span><span class="token punctuation">,</span><span class="token string">"san"</span><span class="token punctuation">,</span><span class="token string">"si"</span><span class="token punctuation">,</span><span class="token string">"wu"</span><span class="token punctuation">,</span><span class="token string">"liu"</span><span class="token punctuation">,</span><span class="token string">"qi"</span><span class="token punctuation">,</span><span class="token string">"ba"</span><span class="token punctuation">,</span><span class="token string">"jiu"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>string danwei<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"Shi"</span><span class="token punctuation">,</span><span class="token string">"Bai"</span><span class="token punctuation">,</span><span class="token string">"Qian"</span><span class="token punctuation">,</span><span class="token string">"Wan"</span><span class="token punctuation">,</span><span class="token string">"Yi"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">Domin</span><span class="token punctuation">(</span><span class="token keyword">int</span> min_danwei<span class="token punctuation">,</span><span class="token keyword">int</span> max_danwei<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//1234 1åƒ2ç™¾3å4</span><span class="token keyword">if</span><span class="token punctuation">(</span>min_danwei<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>danwei<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>min_danwei<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>danwei<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>min_danwei<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>danwei<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Domax</span><span class="token punctuation">(</span><span class="token keyword">int</span> min_danwei<span class="token punctuation">,</span><span class="token keyword">int</span> max_danwei<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>max_danwei<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>max_danwei<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>danwei<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>max_danwei<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>danwei<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> flag1<span class="token punctuation">,</span>flag2<span class="token punctuation">;</span><span class="token keyword">bool</span> numflag<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token function">DoFu</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag1<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>flag2<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>numflag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">int</span> pos<span class="token operator">=</span>len<span class="token operator">-</span>i<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">;</span><span class="token keyword">int</span> min_danwei<span class="token operator">=</span>pos<span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">int</span> max_danwei<span class="token operator">=</span>pos<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//0888 8088 8808 8880 </span><span class="token comment">//8080 8008 </span><span class="token comment">//</span>flag1<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//å°å•ä½ä¸€å®šä¸å‡ºç° </span><span class="token keyword">if</span><span class="token punctuation">(</span>min_danwei<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>numflag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœæ˜¯æ’åœ¨æœ€åçš„ä¸ªä½ </span><span class="token comment">//å¤§å•ä½ä¸å‡ºç°çš„å¯èƒ½åªæœ‰ä¸€ä¸ªï¼Œå‰é¢ä¸‰ä¸ªéƒ½æ˜¯0</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token operator">>=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>str<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token operator">>=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>str<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token operator">>=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>str<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag2<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>min_danwei<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>min_danwei<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>min_danwei<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœæ˜¯æ’åœ¨åä½</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœä¸‹ä¸€ä½ ä¸º0ï¼Œæœ¬ä½ä¹Ÿä¸è¾“å‡º</span>numflag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>numflag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout<span class="token operator">&lt;&lt;</span>number<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag1<span class="token operator">&amp;&amp;</span>min_danwei<span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Domin</span><span class="token punctuation">(</span>min_danwei<span class="token punctuation">,</span>max_danwei<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag2<span class="token operator">&amp;&amp;</span>min_danwei<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Domax</span><span class="token punctuation">(</span>min_danwei<span class="token punctuation">,</span>max_danwei<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒç‰ˆ</p><h2 id="2-4"><a href="#2-4" class="headerlink" title="2.4"></a>2.4</h2><blockquote><p>ä¸æ˜¯å¾ˆéš¾çš„é¢˜ç›®ï¼Œä¸æ¸…æ¥šä¸ºå•¥ä¹‹å‰å†™é”™äº†ï¼Œå¯èƒ½æ˜¯å®¡é¢˜å­</p><p>æ³¨æ„çš„æ˜¯ï¼šå› ä¸ºæœ‰äººå¯èƒ½ä¸€æ¬¡éƒ½æ²¡æœ‰æäº¤ï¼Œæ‰€ä»¥anséå†çš„æ—¶å€™ä¸æ˜¯æŒ‰ç…§Nè€Œæ˜¯ans.size()</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">,</span>M<span class="token punctuation">,</span>K<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>p<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">User</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token keyword">int</span> total<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">bool</span> can<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>score<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>User<span class="token operator">></span>mp<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>User<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">int</span> id<span class="token punctuation">,</span>pid<span class="token punctuation">,</span>score<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>User a<span class="token punctuation">,</span>User b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>total<span class="token operator">!=</span>b<span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>total<span class="token operator">></span>b<span class="token punctuation">.</span>total<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>num<span class="token operator">!=</span>b<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>num<span class="token operator">></span>b<span class="token punctuation">.</span>num<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>id<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>K<span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>K<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>id<span class="token punctuation">,</span><span class="token operator">&amp;</span>pid<span class="token punctuation">,</span><span class="token operator">&amp;</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>mp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token operator">==</span>mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>User temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>id<span class="token operator">=</span>id<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">[</span>pid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>score<span class="token punctuation">;</span>mp<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">[</span>pid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>mp<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">[</span>pid<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ’åº</span><span class="token keyword">for</span><span class="token punctuation">(</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>User<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>mp<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>User temp<span class="token operator">=</span>it<span class="token operator">-></span>second<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>K<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//-2 æ²¡æœ‰æäº¤ -1ç¼–è¯‘é”™è¯¯ </span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>sum<span class="token operator">+=</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>temp<span class="token punctuation">.</span>total<span class="token operator">=</span>sum<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num<span class="token operator">=</span>num<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>can<span class="token operator">=</span>flag<span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> rank<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>can<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&amp;&amp;</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>total<span class="token operator">!=</span>ans<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>rank<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %05d"</span><span class="token punctuation">,</span>rank<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" %d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>K<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">></span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" %d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" 0"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" -"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ:1124-1131</title>
      <link href="/2022/02/08/pta-jia-ji-mo-ni-1124-1131/"/>
      <url>/2022/02/08/pta-jia-ji-mo-ni-1124-1131/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡ä½œä¸šæ²¡æœ‰ä¸¥æ ¼æŒ‰ç…§è¯•å·é¢˜ç›®ç¼–æ’ï¼ŒåŒæ—¶è·³è¿‡äº†ä¹‹å‰ï¼ˆä¹…è¿œæ—¶ï¼‰åšè¿‡çš„é¢˜ç›®ï¼Œè¿™æ ·å®‰æ’â€¦â€¦åˆ«é—®ï¼Œé—®å°±æ˜¯æƒ³è¦å¡«æ»¡ç©ºéš™çš„æŸç§ä¸çŸ¥åå¼ºè¿«ç—‡ğŸ¤£</p><p>æœ¬æ¬¡ä½œä¸šæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰</p><ul><li>map+å…­çº§</li><li>äºŒå‰æ ‘</li><li><strong>ä¼˜å…ˆé˜Ÿåˆ—</strong></li><li>æ·±åº¦ä¼˜å…ˆæœç´¢</li></ul><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1124</td><td>ğŸ¸ğŸ¸</td><td>æ•°ç»„+mapï¼Œè‹±è¯­ğŸ˜±é˜…è¯»</td></tr><tr><td>1125</td><td>ğŸ¸</td><td>æ•°ç»„ï¼Œæ‰¾è§„å¾‹</td></tr><tr><td>1127</td><td>ğŸ¸ğŸ¸</td><td>äºŒå‰æ ‘ï¼Œä½†æ˜¯åªæƒ³ç»™ä¸€ä¸ªåŠğŸ¸ï¼Œæ¨¡æ¿ï¼Œæ³¨æ„è¾“å‡ºSTLé‡æ’åº~</td></tr><tr><td>1129</td><td>ğŸ¸ğŸ¸</td><td>ä¼˜å…ˆé˜Ÿåˆ—+ç»“æ„ä½“æ’åº(ä¸ç®—éš¾é¢˜ï¼Œä½†æ˜¯ä¼˜å…ˆé˜Ÿåˆ—å¿˜è®°æ€ä¹ˆå¤„ç†ç»“æ„ä½“ï¼Œå®å±ä¸åº”è¯¥)</td></tr><tr><td>1130</td><td>ğŸ¸</td><td>äºŒå‰æ ‘çš„ä¸­åºéå†å’Œæ‹¬å·ä¹‹é—´çš„çˆ±æ¨æƒ…ä»‡</td></tr><tr><td>1131</td><td>ğŸ¸ğŸ¸ğŸ¸</td><td>å…¶å®ä¸åº”è¯¥æœ‰è¿™ä¸ªéš¾åº¦ï¼Œçœ‹å®Œé¢˜è§£ğŸ˜±çŸ¥é“æ˜¯æ¯”è¾ƒåŸºç¡€çš„DFSå˜å¼<strong>ä¸»è¦æ˜¯æé†’è‡ªå·±DFSç»ƒå°‘äº†</strong></td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜-1124-Raffle-for-Weibo-Followers-20-åˆ†"><a href="#2-1-ç¬¬ä¸€é¢˜-1124-Raffle-for-Weibo-Followers-20-åˆ†" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜ 1124 Raffle for Weibo Followers (20 åˆ†)"></a>2.1 ç¬¬ä¸€é¢˜ <strong>1124 Raffle for Weibo Followers (20 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805350803292160">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>éš¾ç‚¹åœ¨äºâ€¦â€¦è‹±æ–‡å­ï¼Œæ²¡çœ‹æ‡‚ä»–çš„æ„æ€ï¼Œæ„Ÿè§‰ä¸æ˜¯å¾ˆéš¾çš„é¢˜ç›®ï¼Œä½†æ˜¯å¡åœ¨é˜…è¯»ç†è§£ä¸Šç€å®éš¾å—ï¼š</p><p>é¢˜ç›®çš„æ„æ€ï¼Œä¸è§„å®šæœ‰å‡ ä¸ªä¸­å¥–çš„äººï¼Œåªéœ€è¦å¯¹äºè¾“å…¥çš„äººï¼Œä»åˆå§‹ä½ç½®s,æ¯éš”ç€nä¸ªç®—ä¸€æ¬¡ä¸­å¥–ï¼Œå¦‚æœæœ‰äººé‡å¤ä¸­ï¼Œs++ï¼Œè·³è¿‡è¿™ä¸ªäºº</p></blockquote><p>ç¬¬ä¸€éç…§ç€æ¨¡ç³Šçš„ç†è§£å†™ï¼Œæš´åŠ›12/20,è·ªäº†ğŸ˜¥ï¼Œå› ä¸ºä»¥ä¸ºnæ˜¯é™åˆ¶ï¼Œç„¶åmä¸ªäººæ˜¯å›´æˆä¸€åœˆğŸ˜¶ï¼Œé”™è¯¯ç†è§£æ‰“å’©ï¼ï¼ï¼æ­£è§£åœ¨ä¸‹é¢</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>s<span class="token punctuation">;</span><span class="token comment">//mç§å¯èƒ½ï¼Œè½¬çš„æ¬¡æ•°ï¼Œå¼€å§‹åœ°æ–¹ </span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span>fid<span class="token punctuation">;</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>winned<span class="token punctuation">;</span> set<span class="token operator">&lt;</span>string<span class="token operator">></span>st<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>fid<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>fid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>winned<span class="token punctuation">[</span>fid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>fid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>n<span class="token operator">||</span>s<span class="token operator">></span>m<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Keep going..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>s<span class="token operator">--</span><span class="token punctuation">;</span><span class="token comment">//å¼€å§‹çš„ä½ç½® </span><span class="token keyword">while</span><span class="token punctuation">(</span>cnt<span class="token operator">!=</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>s<span class="token operator">%=</span>m<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>winned<span class="token punctuation">[</span>fid<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>winned<span class="token punctuation">[</span>fid<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>fid<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span>s<span class="token operator">+=</span>n<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>s<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">//è¾“å‡ºç­”æ¡ˆ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¢æ­£ä¹‹åï¼š</p><p>å‚è€ƒæŸ³ç¥ä»£ç ï¼Œç®€æ´åº¦è¢«ç¬é—´ç§’æ€</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">,</span>s<span class="token punctuation">;</span><span class="token comment">//mç§å¯èƒ½ï¼Œè½¬çš„æ¬¡æ•°ï¼Œå¼€å§‹åœ°æ–¹ </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//æ˜¯å¦æœ‰äººä¸­è¿‡å¥– </span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>winned<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>winned<span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>s<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>s<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>winned<span class="token punctuation">[</span>str<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>str<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>s<span class="token operator">=</span>s<span class="token operator">+</span>n<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Keep going..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜-1125-Chain-the-Ropes-25-åˆ†"><a href="#2-2-ç¬¬äºŒé¢˜-1125-Chain-the-Ropes-25-åˆ†" class="headerlink" title="2.2 ç¬¬äºŒé¢˜ 1125 Chain the Ropes (25 åˆ†)"></a>2.2 ç¬¬äºŒé¢˜ <strong>1125 Chain the Ropes (25 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805350316752896">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>æ‰¾è§„å¾‹é¢˜ï¼Œç¨³ä½å¿ƒæ€ï¼š</p><p>å…ˆå°†è¾“å…¥çš„ç»³å­é•¿åº¦ç‰‡æ®µæŒ‰ç…§ä»å°åˆ°å¤§æ’åºï¼Œsum=(sum+v[i])/2ï¼Œä¸€ç›´åˆ°æœ€åï¼Œè¿™æ ·ï¼ŒçŸ­çš„è¢«åå¤æŠ˜å ï¼Œä½†æ˜¯é•¿çš„å®‰ç„¶æ— æ™ï¼Œå¯ä»¥ä¿è¯æœ€åç»“æœæ­£ç¡®ï¼ˆæœ¬æ¥ä»¥ä¸ºæ˜¯æ·±æœï¼Œç»“æœè‰ç¨¿çº¸ä¸Šæ¨äº†ä¸€ä¸‹å‘ç°æ‰¾è§„å¾‹æ¯”è¾ƒç®€å•~ï¼‰</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">=</span><span class="token punctuation">(</span>sum<span class="token operator">+</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜-1130-Infix-Expression-25-åˆ†"><a href="#2-3-ç¬¬ä¸‰é¢˜-1130-Infix-Expression-25-åˆ†" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜ 1130 Infix Expression (25 åˆ†)"></a>2.3 ç¬¬ä¸‰é¢˜ <strong>1130 Infix Expression (25 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805347921805312">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>æ ‘çš„ä¸­åºéå†ï¼Œæ‹¬å·çš„è¾“å‡ºéœ€è¦æ³¨æ„ï¼Œæœ€å¤–å±‚çš„æ‹¬å·å’Œå¶å­èŠ‚ç‚¹æ‹¬å·ä¸éœ€è¦è¾“å‡ºï¼Œå…¶ä½™çš„åœ¨é€’å½’è¿‡ç¨‹ä¸­è¾“å‡ºæ‹¬å·</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> left<span class="token punctuation">;</span><span class="token keyword">int</span> right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>nodes<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isLeaf</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>nodes<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">isOk</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isLeaf</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">isLeaf</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">preTravel</span><span class="token punctuation">(</span><span class="token keyword">int</span> root<span class="token punctuation">,</span><span class="token keyword">int</span> cnt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//bool flag=isOk(root);</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">isLeaf</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">preTravel</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span>cnt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>nodes<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">preTravel</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">,</span>cnt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">&amp;&amp;</span><span class="token operator">!</span><span class="token function">isLeaf</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span><span class="token keyword">bool</span> isc<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>nodes<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s %d %d"</span><span class="token punctuation">,</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span><span class="token operator">&amp;</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span><span class="token operator">&amp;</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>isc<span class="token punctuation">[</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>isc<span class="token punctuation">[</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾åˆ°æ ¹èŠ‚ç‚¹ </span><span class="token keyword">int</span> root<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isc<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">preTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜-1129-Recommendation-System-25-åˆ†"><a href="#2-4-ç¬¬å››é¢˜-1129-Recommendation-System-25-åˆ†" class="headerlink" title="2.4 ç¬¬å››é¢˜ 1129 Recommendation System (25 åˆ†)"></a>2.4 ç¬¬å››é¢˜ <strong>1129 Recommendation System (25 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805348471259136">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>ç›´è§‰å‘Šè¯‰æˆ‘åº”è¯¥ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œç„¶é¹…â€¦â€¦å¿˜è®°ä¼˜å…ˆé˜Ÿåˆ—æ€ä¹ˆç”¨äº†ï¼Œç¿»çœ‹äº†APIâ€¦â€¦ç½ªè¿‡ç½ªè¿‡</p><p>ä¼˜å…ˆé˜Ÿåˆ—+ç»“æ„ä½“</p><p>æ¯æ¬¡è¾“å‡ºçš„æ—¶å€™è¿˜å¾—å°†ä¸åŒidå­˜åˆ°vectorä¸­ï¼Œè¾“å‡ºåå†å­˜å›åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>k<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token keyword">int</span> t<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span>Node a<span class="token punctuation">,</span>Node b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>t<span class="token operator">!=</span>b<span class="token punctuation">.</span>t<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>t<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>t<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>id<span class="token operator">></span>b<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>priority_queue<span class="token operator">&lt;</span>Node<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">50009</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>Node temp<span class="token punctuation">;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>op<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>st<span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>cnt<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d:"</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> output<span class="token operator">=</span>k<span class="token operator">&lt;</span>st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span>k<span class="token operator">:</span>st<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡º </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span>output<span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" %d"</span><span class="token punctuation">,</span>temp<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span>id<span class="token operator">!=</span>id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>op<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å­˜å›å»</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span>op<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>op<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>op<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>temp<span class="token punctuation">.</span>id<span class="token operator">=</span>id<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>t<span class="token operator">=</span>cnt<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>st<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-5-ç¬¬äº”é¢˜-1127-ZigZagging-on-a-Tree-30-åˆ†"><a href="#2-5-ç¬¬äº”é¢˜-1127-ZigZagging-on-a-Tree-30-åˆ†" class="headerlink" title="2.5 ç¬¬äº”é¢˜ 1127 ZigZagging on a Tree (30 åˆ†)"></a>2.5 ç¬¬äº”é¢˜ <strong>1127 ZigZagging on a Tree (30 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805349394006016">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>æ„Ÿè§‰PTAä¸€èˆ¬è€ƒäºŒå‰æ ‘å˜å¼æ¯”è¾ƒå¤šï¼Œä½†æ˜¯Dijã€å¹¶æŸ¥é›†ã€ä¼˜å…ˆé˜Ÿåˆ—è¿˜æ˜¯å¾—ç†Ÿç»ƒæŒæ¡ï¼Œä¸ç„¶çœŸçš„ç™½ç»™ğŸ˜‚ï¼Œï¼ˆè²Œä¼¼ã€ä¹Ÿè®¸ã€å¥½åƒå…¶ä»–æœºè¯•ä¸ä¼šè¿™ä¹ˆç—´è¿·äºæ ‘çš„~</p><ul><li>ä¸­åºéå†+ååºéå†**â€”&gt;**å±‚åºéå†è¾“å‡ºç»“æœ</li><li>ç»“æ„ä½“å­˜å‚¨å±‚æ¬¡éå†è¾“å‡ºçš„ç»“æœï¼Œé‡æ–°æ’åºåæŒ‰ç…§è¦æ±‚è¾“å‡º</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>post<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>in<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node <span class="token operator">*</span>left<span class="token punctuation">;</span>Node <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token keyword">int</span> level<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Ans</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> data<span class="token punctuation">;</span><span class="token keyword">int</span> level<span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Ans<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Ans a<span class="token punctuation">,</span>Ans b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>level<span class="token operator">!=</span>b<span class="token punctuation">.</span>level<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>level<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>level<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>level<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å•æ•°å±‚ï¼Œä»å³å¾€å·¦</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>cnt<span class="token operator">></span>b<span class="token punctuation">.</span>cnt<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>cnt<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>cnt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> inL<span class="token punctuation">,</span><span class="token keyword">int</span> inR<span class="token punctuation">,</span><span class="token keyword">int</span> postL<span class="token punctuation">,</span><span class="token keyword">int</span> postR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inL<span class="token operator">></span>inR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>post<span class="token punctuation">[</span>postR<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span>inL<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>inR<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>in<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>post<span class="token punctuation">[</span>postR<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> left_num<span class="token operator">=</span>k<span class="token operator">-</span>inL<span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>inL<span class="token punctuation">,</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>postL<span class="token punctuation">,</span>postL<span class="token operator">+</span>left_num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>inR<span class="token punctuation">,</span>postL<span class="token operator">+</span>left_num<span class="token punctuation">,</span>postR<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">levelTravel</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>queue<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span>q<span class="token punctuation">;</span>root<span class="token operator">-></span>level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>temp<span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>top<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>left<span class="token punctuation">;</span>temp<span class="token operator">-></span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>right<span class="token punctuation">;</span>temp<span class="token operator">-></span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¿å­˜æ¯ä¸€è¡Œçš„ </span>Ans a<span class="token punctuation">;</span>a<span class="token punctuation">.</span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token punctuation">;</span>a<span class="token punctuation">.</span>data<span class="token operator">=</span>top<span class="token operator">-></span>val<span class="token punctuation">;</span>a<span class="token punctuation">.</span>cnt<span class="token operator">=</span>cnt<span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>post<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>in<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>post<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node<span class="token operator">*</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">levelTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-6-ç¬¬å…­é¢˜-1131-Subway-Map-30-åˆ†"><a href="#2-6-ç¬¬å…­é¢˜-1131-Subway-Map-30-åˆ†" class="headerlink" title="2.6 ç¬¬å…­é¢˜ 1131 Subway Map (30 åˆ†)"></a>2.6 ç¬¬å…­é¢˜ <strong>1131 Subway Map (30 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805347523346432">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>ç¢ç¢å¿µï¼šæ„Ÿè§‰è€ƒæœç´¢ä¸æ˜¯å¾ˆå¤šï¼Œéš¾åº¦çš„è¯ï¼Œåªè¦è¯»æ‡‚é¢˜ç›®ï¼Œä¸€èˆ¬ä¸æ˜¯å¾ˆå¡æ—¶é—´ï¼ˆğŸ˜ï¼‰~</p><p>å› ä¸ºèŠ±äº†ä¸€ä¸ªä¸‹åˆæ‰å‹‰å¼ºä¸Š19â€¦â€¦å–µå‘œå‘œå‘œï¼Œåœ¨é¢å£äº†ï¼Œæ‰€ä»¥ç›´æ¥çœ‹äº†åšå®¢çš„ç­”æ¡ˆï¼ŒæŸ³ç¥ç»™çš„æ€è·¯è¿˜æ˜¯æ·±æœâ€¦â€¦ï¼ˆæ ‡å‡†ç®€ä»‹ç‰ˆï¼‰ï¼Œæœ‰å¤§ä½¬è¯´DFSåœ¨æ•°æ®ä¸¥æ ¼ä¸‹å…¶å®æ˜¯ä¸å¯ä»¥çš„ï¼ŒPTAæµ‹è¯•æ•°æ®ç‚¹æ²¡æœ‰éå¸¸ä¸¥æ ¼ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„DFSå¯ä»¥è¿‡</p><p>è®¢æ­£æ€è·¯å’Œæ³¨æ„ç‚¹è´´åœ¨ç¬¬ä¸€ç‰ˆä¸‹é¢~ğŸ˜¥</p></blockquote><p>ç¬¬ä¸€ç‰ˆï¼š19/30</p><p>DFSæ„Ÿè§‰æ‰‹ç”Ÿå‘œå‘œå‘œ</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token macro property"><span class="token directive-hash">#</span> <span class="token directive keyword">define</span> <span class="token macro-name">INF</span> <span class="token expression"><span class="token number">99999999</span></span></span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> sid<span class="token punctuation">;</span><span class="token keyword">int</span> line<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>k<span class="token punctuation">,</span>num<span class="token punctuation">,</span>sid<span class="token punctuation">;</span><span class="token keyword">int</span> sign<span class="token punctuation">;</span><span class="token keyword">int</span> vis<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>taken<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span><span class="token keyword">final</span><span class="token punctuation">;</span><span class="token comment">//æœ€ç»ˆç­”æ¡ˆ </span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>lines<span class="token punctuation">;</span><span class="token comment">//æ¯æ¡çº¿è·¯ç»è¿‡çš„ç«™ç‚¹åç§°</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>stop<span class="token punctuation">;</span> <span class="token comment">//æ¯ä¸ªç«™ç‚¹å±äºå“ªä¸ªè·¯çº¿ </span><span class="token comment">//è®¡ç®—æœ€å°‘çš„ç«™å°</span><span class="token keyword">int</span> st<span class="token punctuation">,</span>ed<span class="token punctuation">;</span> <span class="token keyword">int</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> changes<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">getNextSid</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> line<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token operator">=</span>lines<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>lines<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span>  lines<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">getPreSid</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> line<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token operator">=</span>lines<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>lines<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>pos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> lines<span class="token punctuation">[</span>line<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> line<span class="token punctuation">,</span><span class="token keyword">int</span> gone<span class="token punctuation">,</span><span class="token keyword">int</span> cnt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">/*å½“å‰ç«™å°ç¼–å·ï¼Œçº¿è·¯ï¼Œå·²ç»ç»è¿‡çš„ç«™ç‚¹ä¸ªæ•°*/</span><span class="token comment">//ç­”æ¡ˆä¸å”¯ä¸€çš„è¯ï¼Œè¾“å‡ºè½¬ä¹˜æœ€å°çš„ </span><span class="token comment">//printf("å½“å‰ç«™ç‚¹%04d, å½“å‰è·¯çº¿:%d ,å½“å‰ç»è¿‡ç«™ç‚¹ä¸ªæ•°%d\n",pos,line,gone); </span>gone<span class="token operator">++</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">=</span>sign<span class="token punctuation">;</span>Node node<span class="token punctuation">;</span>node<span class="token punctuation">.</span>line<span class="token operator">=</span>line<span class="token punctuation">;</span>node<span class="token punctuation">.</span>sid<span class="token operator">=</span>pos<span class="token punctuation">;</span>taken<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>gone<span class="token operator">></span>ans<span class="token operator">||</span><span class="token punctuation">(</span>gone<span class="token operator">==</span>ans<span class="token operator">&amp;&amp;</span>cnt<span class="token operator">></span>changes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç»“æŸï¼Œä¸éœ€è¦ç»§ç»­æ¢ç´¢ </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pos<span class="token operator">==</span>ed<span class="token operator">&amp;&amp;</span>ans<span class="token operator">></span>gone<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>pos<span class="token operator">==</span>ed<span class="token operator">&amp;&amp;</span>ans<span class="token operator">==</span>gone<span class="token operator">&amp;&amp;</span>cnt<span class="token operator">&lt;</span>changes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>gone<span class="token punctuation">;</span><span class="token keyword">final</span><span class="token operator">=</span>taken<span class="token punctuation">;</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ¢ç´¢ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>stop<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> tline<span class="token operator">=</span>stop<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//ä¸‹ä¸€ç«™ï¼š </span><span class="token keyword">int</span> nextpos<span class="token operator">=</span><span class="token function">getNextSid</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span>tline<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> nc<span class="token operator">=</span>cnt<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>tline<span class="token operator">!=</span>line<span class="token punctuation">)</span>nc<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>nextpos<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>vis<span class="token punctuation">[</span>nextpos<span class="token punctuation">]</span><span class="token operator">!=</span>sign<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>nextpos<span class="token punctuation">,</span>tline<span class="token punctuation">,</span>gone<span class="token punctuation">,</span>nc<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æº¯ </span>taken<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>nextpos<span class="token punctuation">]</span><span class="token operator">=</span>sign<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä¸Šä¸€ç«™ï¼š</span><span class="token keyword">int</span> prepos<span class="token operator">=</span><span class="token function">getPreSid</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span>tline<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>prepos<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>vis<span class="token punctuation">[</span>prepos<span class="token punctuation">]</span><span class="token operator">!=</span>sign<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>prepos<span class="token punctuation">,</span>tline<span class="token punctuation">,</span>gone<span class="token punctuation">,</span>nc<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æº¯ </span>taken<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>prepos<span class="token punctuation">]</span><span class="token operator">=</span>sign<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>lines<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>sid<span class="token punctuation">)</span><span class="token punctuation">;</span>lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>sid<span class="token punctuation">)</span><span class="token punctuation">;</span>stop<span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sign<span class="token operator">=</span>i<span class="token punctuation">;</span>taken<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token operator">=</span>INF<span class="token punctuation">;</span>changes<span class="token operator">=</span>INF<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>stop<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>stop<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¾“å‡ºç­”æ¡ˆ </span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>ans<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag1<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">,</span>flag2<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//èµ·ç‚¹ã€ç»ˆç‚¹æ˜¯å¦è¾“å‡ºè¿‡ </span><span class="token keyword">int</span> s<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sid<span class="token punctuation">,</span>e<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sid<span class="token punctuation">,</span>myline<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>line<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span><span class="token keyword">final</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">final</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>line<span class="token operator">==</span>myline<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>e<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>sid<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//ä¸ä¸€æ ·</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Take Line#%d from %04d to %04d.\n"</span><span class="token punctuation">,</span>myline<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>s<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> s<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sid<span class="token punctuation">,</span>e<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>sid<span class="token punctuation">,</span>myline<span class="token operator">=</span><span class="token keyword">final</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>line<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Take Line#%d from %04d to %04d.\n"</span><span class="token punctuation">,</span>myline<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>s<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>DFSç‰ˆæœ¬ï¼š</p><p>å¿½ç•¥Lineè·¯çº¿çš„å½±å“ï¼Œå…ˆå½“ä½œå›¾è®ºä¸­çš„å¯»æ‰¾æœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œæ·±æœå±•å¼€ï¼Œæœ€ååˆ¤æ–­çš„æ—¶å€™å…ˆæ¯”è¾ƒè·¯å¾„é•¿åº¦ï¼Œé•¿åº¦ä¸€è‡´çš„æƒ…å†µä¸‹æ¯”è¾ƒçº¿è·¯ç«™æ¬¡æ•°ã€‚</p><p>åœ¨ä¼ ç»Ÿçš„dfsæ±‚æœ€çŸ­è·¯å¾„ä¸Šï¼ŒåŠ ä¸Šäº†<code>linesã€iã€‘ã€jã€‘</code>æ•°ç»„å­˜å‚¨æŸè·¯æ®µå±äºå“ªä¸€ä¸ªè·¯çº¿Line(<strong>å› ä¸ºé¢˜ç›®ä¸­æ˜ç¡®è¯´æ²¡æœ‰é‡åˆçš„è·¯æ®µï¼Œåªæœ‰é‡åˆçš„ç«™ç‚¹ï¼Œå†æ¬¡åæ˜ å®¡é¢˜çš„é‡è¦æ€§ï¼ï¼ï¼ï¼</strong>)</p><ul><li>å›¾è®ºï¼ˆDFSæœ€çŸ­è·¯å¾„ï¼‰</li><li>STLå­˜å‚¨ç­”æ¡ˆ</li><li>æœ€åè·¯çº¿é•¿åº¦ç›¸åŒæ—¶ï¼Œ<code>transCount(temppath)</code>å‡½æ•°å¦å¤–è®¡ç®—è½¬ç«™æ¬¡æ•°~</li></ul></blockquote><p>ç¬¬äºŒç‰ˆï¼šAC</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> inf<span class="token operator">=</span><span class="token number">99999999</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span><span class="token function">graph</span><span class="token punctuation">(</span>maxn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å­˜å‚¨å›¾_ç«™ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³» </span><span class="token keyword">int</span> lines<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> vis<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>path<span class="token punctuation">,</span>temppath<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>k<span class="token punctuation">,</span>num<span class="token punctuation">,</span>sid<span class="token punctuation">;</span> <span class="token keyword">int</span> st<span class="token punctuation">,</span>ed<span class="token punctuation">,</span>pre<span class="token punctuation">;</span><span class="token keyword">int</span> minCnt<span class="token punctuation">,</span>minTrans<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">transCount</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>temppath<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token operator">=</span>temppath<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> pre<span class="token operator">=</span>temppath<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>sid<span class="token operator">=</span>temppath<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> preLine<span class="token operator">=</span>lines<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>pre<span class="token operator">=</span>temppath<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>sid<span class="token operator">=</span>temppath<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>lines<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token operator">!=</span>preLine<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">++</span><span class="token punctuation">;</span>preLine<span class="token operator">=</span>lines<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//å½“å‰è½¦ç«™å·ç ï¼Œèµ°è¿‡çš„ç«™æ•°</span><span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token operator">==</span>ed<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token punctuation">(</span>cnt<span class="token operator">&lt;</span>minCnt<span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span>minCnt<span class="token operator">&amp;&amp;</span><span class="token function">transCount</span><span class="token punctuation">(</span>temppath<span class="token punctuation">)</span><span class="token operator">&lt;</span>minTrans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ç¬¦åˆæ¡ä»¶</span><span class="token comment">//printf("pos==%d\n",pos);</span><span class="token comment">//printf("debug:%d %d    real:%d %d\n",temppath[0],temppath[temppath.size()-1],st,ed); </span>minCnt<span class="token operator">=</span>cnt<span class="token punctuation">;</span>minTrans<span class="token operator">=</span><span class="token function">transCount</span><span class="token punctuation">(</span>temppath<span class="token punctuation">)</span><span class="token punctuation">;</span>path<span class="token operator">=</span>temppath<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pos<span class="token operator">==</span>ed<span class="token operator">||</span>cnt<span class="token operator">></span>minCnt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ·±æœ</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>graph<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> newpos<span class="token operator">=</span>graph<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>newpos<span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vis<span class="token punctuation">[</span>newpos<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>temppath<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>newpos<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span>newpos<span class="token punctuation">,</span>cnt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å›æº¯</span>vis<span class="token punctuation">[</span>newpos<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>temppath<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">,</span><span class="token operator">&amp;</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>sid<span class="token punctuation">)</span><span class="token punctuation">;</span>graph<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>sid<span class="token punctuation">)</span><span class="token punctuation">;</span>graph<span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>lines<span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>lines<span class="token punctuation">[</span>pre<span class="token punctuation">]</span><span class="token punctuation">[</span>sid<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>pre<span class="token operator">=</span>sid<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>st<span class="token punctuation">,</span><span class="token operator">&amp;</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span>minCnt<span class="token operator">=</span>inf<span class="token punctuation">;</span>minTrans<span class="token operator">=</span>inf<span class="token punctuation">;</span>temppath<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>temppath<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>minCnt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºç­”æ¡ˆ</span><span class="token keyword">int</span> s<span class="token operator">=</span>st<span class="token punctuation">,</span>len<span class="token operator">=</span>path<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> preLine<span class="token operator">=</span>lines<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span>path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>lines<span class="token punctuation">[</span>path<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">!=</span>preLine<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Take Line#%d from %04d to %04d.\n"</span><span class="token punctuation">,</span>preLine<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>s<span class="token punctuation">,</span>path<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> s<span class="token operator">=</span>path<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>preLine<span class="token operator">=</span>lines<span class="token punctuation">[</span>path<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>path<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æœ€åè¾“å‡º</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Take Line#%d from %04d to %04d.\n"</span><span class="token punctuation">,</span>lines<span class="token punctuation">[</span>path<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>ed<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>s<span class="token punctuation">,</span>ed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//for(int j=1;j&lt;len;j++)&#123;</span><span class="token comment">//printf("line#%d: %04d->%04d\n",lines[path[j-1]][path[j]],path[j-1],path[j]);</span><span class="token comment">//&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŒ–ä¸ªå‘ï¼Œæˆ‘è§‰å¾—Dijä¹Ÿæ˜¯å¯ä»¥çš„~</p><h1 id="3-å‚è€ƒé“¾æ¥"><a href="#3-å‚è€ƒé“¾æ¥" class="headerlink" title="3. å‚è€ƒé“¾æ¥"></a>3. å‚è€ƒé“¾æ¥</h1><ol><li><a href="https://blog.csdn.net/liuchuo/article/details/60467398">1124é¢˜è§£â€”â€”æŸ³ç¥</a></li><li><a href="https://blog.csdn.net/chent86/article/details/78986875">C++ä¼˜å…ˆé˜Ÿåˆ—åœ¨ç»“æ„ä½“ä¸­ä½¿ç”¨</a></li><li><a href="https://blog.csdn.net/liuchuo/article/details/68925193">1131é¢˜è§£â€”â€”æŸ³ç¥ï¼ˆDFSï¼‰</a></li><li><a href="https://www.acwing.com/blog/content/3012/">1131é¢˜è§£â€”â€”æ•ˆç‡</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1119-1123</title>
      <link href="/2022/02/07/pta-jia-ji-mo-ni-1119-1123/"/>
      <url>/2022/02/07/pta-jia-ji-mo-ni-1119-1123/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡ä½œä¸šï¼Œæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><ul><li>STL</li><li>äºŒå‰æ ‘ï¼ˆååº+å‰åºï¼‰</li><li>AVLäºŒå‰å¹³è¡¡æ ‘</li></ul><p>å› ä¸ºæ˜¯å‡‘å¾—é¢˜ç›®ï¼Œæ‰€ä»¥æŒ‰ç…§éš¾åº¦åˆ†å€¼æ’åº</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>é¢˜å‹</th></tr></thead><tbody><tr><td>1120</td><td>ğŸ¸</td><td>setåŸºç¡€</td></tr><tr><td>1121</td><td>ğŸ¸</td><td>mapé”®å€¼åˆ¤æ–­æ˜¯å¦å­˜åœ¨</td></tr><tr><td>1119</td><td>ğŸ¸ğŸ¸ğŸ˜…</td><td>æ ¼å¼å·¨å‘ğŸ˜“ï¼Œå‰åº+ååºè¾“å‡ºä¸­åºï¼Œä¼šæ ¹æ®æ•°æ®ç»“æ„æ¨è§£é¢˜æ€è·¯å³å¯</td></tr><tr><td>1123</td><td>ğŸ¸ğŸ¸ğŸ¸</td><td><strong>å¼ºè°ƒAVLæ ‘ï¼Œ</strong>è€ƒçš„æ„Ÿè§‰ä¸å¤šï¼Œä½†æ˜¯è‡ªå·±è¿˜ä¸ä¼šç›²æ‰“ï¼Œæ‰“å’©ï¼</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜ï¼š1120-Friend-Numbers-20-åˆ†"><a href="#2-1-ç¬¬ä¸€é¢˜ï¼š1120-Friend-Numbers-20-åˆ†" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜ï¼š1120 Friend Numbers (20 åˆ†)"></a>2.1 ç¬¬ä¸€é¢˜ï¼š<strong>1120 Friend Numbers (20 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805352925609984">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>ç®€å•é¢˜,ç”¨äº†set,æ‰€ä»¥ä¸éœ€è¦è‡ªå·±é‡æ–°æ’åº</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>num<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>fid<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">countDigit</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">+=</span>x<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">;</span>x<span class="token operator">/=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>num<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token function">countDigit</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fid<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>fid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>fid<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>fid<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>it<span class="token operator">!=</span>fid<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜ï¼š1121-Damn-Single-25-åˆ†"><a href="#2-2-ç¬¬äºŒé¢˜ï¼š1121-Damn-Single-25-åˆ†" class="headerlink" title="2.2 ç¬¬äºŒé¢˜ï¼š1121 Damn Single (25 åˆ†)"></a>2.2 ç¬¬äºŒé¢˜ï¼š<strong>1121 Damn Single (25 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805352359378944">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>ç¢ç¢å¿µï¼šå¥½å®¶ä¼™ï¼Œæ ‡é¢˜å­¦åˆ°äº†ï¼Œä¸‹æ¬¡åˆ«å‡ºäº†ğŸ˜…,æœ‰è¢«å†’çŠ¯åˆ°</p><ul><li><p>è€ƒå¯Ÿçš„æ˜¯åŸºæœ¬çš„å›¾è®ºï¼Œæ£€æŸ¥Mä¸ªå®¢äººä¸­é‚£äº›å•èº«æˆ–è€…å·²å©šä½†æ˜¯é…å¶æœªåˆ°åœºçš„å³å¯</p></li><li><p>setå­˜å‚¨é¿å…äº†æŒ‰ç…§IDå‡åºæ’åºçš„éº»çƒ¦</p></li></ul><p>ç®€å•é¢˜ï¼Œä¹‹å‰ä¹Ÿé‡åˆ°è¿‡</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">int</span> M<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>couple<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>iscome<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>dog<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>guest<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>id<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>couple<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">=</span>b<span class="token punctuation">;</span>couple<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>guest<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>iscome<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>guest<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>guest<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>couple<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æƒ…ä¾£ä¸­ä¸å­˜åœ¨ </span>dog<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>iscome<span class="token punctuation">[</span>couple<span class="token punctuation">[</span><span class="token operator">*</span>it<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æœ‰æƒ…ä¾£ä½†æ˜¯æƒ…ä¾£ä¸åœ¨ </span>dog<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>dog<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>dog<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>dog<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>it<span class="token operator">!=</span>dog<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d"</span><span class="token punctuation">,</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜ï¼š1119-Pre-and-Post-order-Traversals-30-åˆ†"><a href="#2-3-ç¬¬ä¸‰é¢˜ï¼š1119-Pre-and-Post-order-Traversals-30-åˆ†" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜ï¼š1119 Pre- and Post-order Traversals (30 åˆ†)"></a>2.3 ç¬¬ä¸‰é¢˜ï¼š<strong>1119 Pre- and Post-order Traversals (30 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805353470869504">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>ç–¯äº†ï¼Œå¡äº†ä¸€ä¸ªå°æ—¶çš„æ ¼å¼é”™è¯¯çˆ†é›¶ï¼Œç»“æœæ˜¯æœ€åè¦è¾“å‡ºä¸€ä¸ªprintf(â€œ\nâ€)ï¼Œéº»äº†ğŸ™„</p><ul><li>æ³¨æ„æœ€åè¾“å‡ºprintf(â€œ\nâ€)</li><li>å¤šè§£çš„æƒ…å†µåœ¨äºpreR-preL+1==2çš„æ—¶å€™ï¼Œæ²¡æœ‰åŠæ³•ç¡®å®šå…·ä½“æ˜¯å·¦è¿˜æ˜¯å³</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>pre<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>post<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node <span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//Yes---å”¯ä¸€</span><span class="token comment">//No--- ä¸å”¯ä¸€ </span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> preL<span class="token punctuation">,</span><span class="token keyword">int</span> preR<span class="token punctuation">,</span><span class="token keyword">int</span> postL<span class="token punctuation">,</span><span class="token keyword">int</span> postR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰“å°æ¯æ¬¡</span><span class="token comment">//printf("post:");</span><span class="token comment">//for(int i=postL;i&lt;=postR;i++)printf("%d ",post[i]); </span><span class="token comment">//printf("\n pre:");</span><span class="token comment">//for(int i=preL;i&lt;=preR;i++)printf("%d ",pre[i]); </span><span class="token comment">//printf("\n");</span><span class="token comment">//printf("postnum%d prenum%d\n",postR-postL+1,preR-preL+1);</span><span class="token keyword">if</span><span class="token punctuation">(</span>preR<span class="token operator">-</span>preL<span class="token operator">+</span><span class="token number">1</span><span class="token operator">==</span><span class="token number">2</span><span class="token operator">&amp;&amp;</span>postR<span class="token operator">-</span>postL<span class="token operator">+</span><span class="token number">1</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>preR<span class="token operator">&lt;</span>preL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>preR<span class="token operator">==</span>preL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>pre<span class="token punctuation">[</span>preL<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾åˆ°å…¬å…±å·¦èŠ‚ç‚¹ï¼Œå³èŠ‚ç‚¹</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>pre<span class="token punctuation">[</span>preL<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token keyword">int</span> preVal<span class="token operator">=</span>pre<span class="token punctuation">[</span>preL<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span>postL<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>postR<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>post<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>preVal<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> left_num<span class="token operator">=</span>k<span class="token operator">-</span>postL<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>preL<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>preL<span class="token operator">+</span>left_num<span class="token punctuation">,</span>postL<span class="token punctuation">,</span>postL<span class="token operator">+</span>left_num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>preL<span class="token operator">+</span>left_num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>preR<span class="token punctuation">,</span>postL<span class="token operator">+</span>left_num<span class="token punctuation">,</span>postR<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> ok<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>in<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">inTravel</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">inTravel</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>in<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">inTravel</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>post<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>post<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°ç»“æœ </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">inTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>in<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜ï¼š-1123-Is-It-a-Complete-AVL-Tree-30-åˆ†"><a href="#2-4-ç¬¬å››é¢˜ï¼š-1123-Is-It-a-Complete-AVL-Tree-30-åˆ†" class="headerlink" title="2.4 ç¬¬å››é¢˜ï¼š 1123 Is It a Complete AVL Tree (30 åˆ†)"></a>2.4 ç¬¬å››é¢˜ï¼š <strong>1123 Is It a Complete AVL Tree (30 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805351302414336">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>äºŒå‰å¹³è¡¡æ ‘ï¼šè¯´å®è¯å¥½ä¹…æ²¡çœ‹æ¨¡æ¿å¿˜å…‰äº†ğŸ˜±~</p><p>ä¸‹é¢æ˜¯çœ‹ã€Šç®—æ³•ç¬”è®°ã€‹æ‰¾å›æ¥çš„ä¸€ç‚¹ç‚¹è®°å¿†ï¼Œè€ƒå‰ç»å¯¹æ˜¯å¿…çœ‹çŸ¥è¯†ç‚¹ï¼ˆä¸‡ä¸€è€ƒåˆ°ï¼ŒåŸºæœ¬ä¸Šä¸çœ‹å¾ˆéš¾ç«‹é©¬æ¨å‡ºæ¥â”—|ï½€Oâ€²|â”› å—·~~ï¼‰</p><ul><li>å®Œå…¨äºŒå‰æ ‘ï¼šå€’æ•°ç¬¬äºŒå±‚å•ç‹¬åˆ¤æ–­ï¼Œå…¶ä½™å±‚ï¼ˆé™¤äº†å€’æ•°ç¬¬ä¸€å±‚ï¼‰å¿…é¡»æ˜¯æ»¡çš„</li><li>AVLæ ‘</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>nodes<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span><span class="token keyword">int</span> height<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> root<span class="token operator">-></span>height<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token operator">-</span><span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">void</span> <span class="token function">updateHeight</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">-></span>height<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">L</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node <span class="token operator">*</span>temp<span class="token operator">=</span>root<span class="token operator">-></span>right<span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span>temp<span class="token operator">-></span>left<span class="token punctuation">;</span>temp<span class="token operator">-></span>left<span class="token operator">=</span>root<span class="token punctuation">;</span><span class="token function">updateHeight</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">updateHeight</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">R</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node <span class="token operator">*</span>temp<span class="token operator">=</span>root<span class="token operator">-></span>left<span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span>temp<span class="token operator">-></span>right<span class="token punctuation">;</span>temp<span class="token operator">-></span>right<span class="token operator">=</span>root<span class="token punctuation">;</span><span class="token function">updateHeight</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">updateHeight</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">build</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token operator">&lt;</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ’å…¥åˆ°å·¦å­æ ‘ </span><span class="token function">build</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">updateHeight</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ›´æ–°æ ¹èŠ‚ç‚¹åœ¨å†…æ ‘çš„é«˜åº¦</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å·¦è¾¹</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//LL</span><span class="token function">R</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//LRå½¢çŠ¶</span><span class="token function">L</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">R</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">build</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">updateHeight</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ›´æ–°æ ¹èŠ‚ç‚¹åœ¨å†…æ ‘çš„é«˜åº¦</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å³è¾¹</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//RR</span><span class="token function">L</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">getBalanceFactor</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//RLå½¢çŠ¶</span><span class="token function">R</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">L</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å±‚æ¬¡éå†</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">int</span> max_level<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">levelTravel</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å±‚æ¬¡éå†æœ€åä¸€å±‚ï¼Œè¦ </span>queue<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span>q<span class="token punctuation">;</span>root<span class="token operator">-></span>height<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> ok<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node<span class="token operator">*</span>top<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>max_level<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>max_level<span class="token punctuation">,</span>top<span class="token operator">-></span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>temp<span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>left<span class="token punctuation">;</span>temp<span class="token operator">-></span>height<span class="token operator">=</span>top<span class="token operator">-></span>height<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>ok<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ok<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>top<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>right<span class="token punctuation">;</span>temp<span class="token operator">-></span>height<span class="token operator">=</span>top<span class="token operator">-></span>height<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">void</span> <span class="token function">check</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>queue<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span>q<span class="token punctuation">;</span>root<span class="token operator">-></span>height<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> ok<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">int</span> nu<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node<span class="token operator">*</span>top<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>max_level<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>max_level<span class="token punctuation">,</span>top<span class="token operator">-></span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>temp<span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>left<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>right<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ¤æ–­</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>height<span class="token operator">&lt;</span>max_level<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>top<span class="token operator">-></span>right<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>height<span class="token operator">==</span>max_level<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>nu<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">||</span>top<span class="token operator">-></span>right<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>nu<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>nu<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">||</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>nodes<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">build</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¾“å‡ºç­”æ¡ˆ </span><span class="token function">levelTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">check</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¯¹æ¯”</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"YES\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NO\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol><li><p><a href="https://blog.csdn.net/pzhw520hchy/article/details/77945713">C++ä¸­å¦‚ä½•åˆ¤æ–­mapçš„keyå€¼æ˜¯å¦å­˜åœ¨</a></p></li><li><p>ã€Šç®—æ³•ç¬”è®°ã€‹AVLæ ‘part</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bå…ˆç”Ÿå¸¸è§ç®—æ³•</title>
      <link href="/2022/02/07/b-chang-jian-suan-fa/"/>
      <url>/2022/02/07/b-chang-jian-suan-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="1-å¸¸è§ç¦»æ•£å‹ç®—æ³•"><a href="#1-å¸¸è§ç¦»æ•£å‹ç®—æ³•" class="headerlink" title="1. å¸¸è§ç¦»æ•£å‹ç®—æ³•"></a>1. å¸¸è§ç¦»æ•£å‹ç®—æ³•</h1><blockquote><p>è¿™é‡Œè¡¥å……ä¸€ä¸ªæ±‚å‡½æ•°æå€¼çš„æ–¹æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/258719725">ã€Frank-Wolfeã€‘</a></p></blockquote><h2 id="1-1-ç¦å¿Œæœç´¢ç®—æ³•"><a href="#1-1-ç¦å¿Œæœç´¢ç®—æ³•" class="headerlink" title="1.1 ç¦å¿Œæœç´¢ç®—æ³•"></a>1.1 ç¦å¿Œæœç´¢ç®—æ³•</h2><blockquote><p>å¸¸è§ä½¿ç”¨åœºæ™¯ï¼š</p><p>æ±‚è§£æœ€ä¼˜ï¼ˆæ¡ä»¶ï¼šï¼‰</p></blockquote><h3 id="1-1-1-æ¦‚å¿µ"><a href="#1-1-1-æ¦‚å¿µ" class="headerlink" title="1.1.1 æ¦‚å¿µ"></a>1.1.1 æ¦‚å¿µ</h3><p>ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œ<a href="https://www.cnblogs.com/dengfaheng/p/9737556.html#:~:text=%E7%A6%81%E5%BF%8C%EF%BC%88Tabu%20Search%EF%BC%89%E7%AE%97%E6%B3%95%E6%98%AF%E4%B8%80%E7%A7%8D%E4%BA%9A%E5%90%AF%E5%8F%91%E5%BC%8F,%28meta-heuristic%29%E9%9A%8F%E6%9C%BA%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95%EF%BC%8C%E5%AE%83%E4%BB%8E%E4%B8%80%E4%B8%AA%E5%88%9D%E5%A7%8B%E5%8F%AF%E8%A1%8C%E8%A7%A3%E5%87%BA%E5%8F%91%EF%BC%8C%E9%80%89%E6%8B%A9%E4%B8%80%E7%B3%BB%E5%88%97%E7%9A%84%E7%89%B9%E5%AE%9A%E6%90%9C%E7%B4%A2%E6%96%B9%E5%90%91%EF%BC%88%E7%A7%BB%E5%8A%A8%EF%BC%89%E4%BD%9C%E4%B8%BA%E8%AF%95%E6%8E%A2%EF%BC%8C%E9%80%89%E6%8B%A9%E5%AE%9E%E7%8E%B0%E8%AE%A9%E7%89%B9%E5%AE%9A%E7%9A%84%E7%9B%AE%E6%A0%87%E5%87%BD%E6%95%B0%E5%80%BC%E5%8F%98%E5%8C%96%E6%9C%80%E5%A4%9A%E7%9A%84%E7%A7%BB%E5%8A%A8%E3%80%82.%20%E4%B8%BA%E4%BA%86%E9%81%BF%E5%85%8D%E9%99%B7%E5%85%A5%E5%B1%80%E9%83%A8%E6%9C%80%E4%BC%98%E8%A7%A3%EF%BC%8CTS%E6%90%9C%E7%B4%A2%E4%B8%AD%E9%87%87%E7%94%A8%E4%BA%86%E4%B8%80%E7%A7%8D%E7%81%B5%E6%B4%BB%E7%9A%84%22%E8%AE%B0%E5%BF%86%22%E6%8A%80%E6%9C%AF%EF%BC%8C%E5%AF%B9%E5%B7%B2%E7%BB%8F%E8%BF%9B%E8%A1%8C%E7%9A%84%E4%BC%98%E5%8C%96%E8%BF%87%E7%A8%8B%E8%BF%9B%E8%A1%8C%E8%AE%B0%E5%BD%95%E5%92%8C%E9%80%89%E6%8B%A9%EF%BC%8C%E6%8C%87%E5%AF%BC%E4%B8%8B%E4%B8%80%E6%AD%A5%E7%9A%84%E6%90%9C%E7%B4%A2%E6%96%B9%E5%90%91%EF%BC%8C%E8%BF%99%E5%B0%B1%E6%98%AFTabu%E8%A1%A8%E7%9A%84%E5%BB%BA%E7%AB%8B%E3%80%82.">ã€åšå®¢è§£é‡Šã€‘</a></p><p>å¯ä»¥æ±‚è§£æœ€ä¼˜é—®é¢˜</p><h3 id="1-1-2-pythonå®ç°ç¦å¿Œæœç´¢æ³•â€”â€”æ—…è¡Œå•†é—®é¢˜"><a href="#1-1-2-pythonå®ç°ç¦å¿Œæœç´¢æ³•â€”â€”æ—…è¡Œå•†é—®é¢˜" class="headerlink" title="1.1.2 pythonå®ç°ç¦å¿Œæœç´¢æ³•â€”â€”æ—…è¡Œå•†é—®é¢˜"></a>1.1.2 pythonå®ç°ç¦å¿Œæœç´¢æ³•â€”â€”æ—…è¡Œå•†é—®é¢˜</h3><p><font color='orange'>æ—…è¡Œæ¨é”€å‘˜é—®é¢˜æ˜¯å›¾è®ºä¸­æœ€è‘—åçš„é—®é¢˜ä¹‹ä¸€ï¼Œå³â€œå·²ç»™ä¸€ä¸ªnä¸ªç‚¹çš„å®Œå…¨å›¾ï¼Œæ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªé•¿åº¦ï¼Œæ±‚æ€»é•¿åº¦æœ€çŸ­çš„ç»è¿‡æ¯ä¸ªé¡¶ç‚¹æ­£å¥½ä¸€æ¬¡çš„å°é—­å›è·¯â€ã€‚</font></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">#<span class="token operator">!</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>python#_<span class="token operator">*</span>_ coding<span class="token operator">:</span>utf<span class="token operator">-</span><span class="token number">8</span> _<span class="token operator">*</span>_  <span class="token keyword">import</span> <span class="token module">math</span><span class="token keyword">import</span> <span class="token module">random</span><span class="token keyword">import</span> <span class="token module">numpy</span> as np <span class="token keyword">import</span> <span class="token module">matplotlib<span class="token punctuation">.</span>pyplot</span> as pltfrom mpl_toolkits<span class="token punctuation">.</span>mplot3d <span class="token keyword">import</span> <span class="token module">Axes3D</span><span class="token keyword">import</span> <span class="token module">sys</span>from numpy<span class="token punctuation">.</span>matlib <span class="token keyword">import</span> <span class="token module">rand</span>from matplotlib<span class="token punctuation">.</span>mlab <span class="token keyword">import</span> <span class="token module">dist</span>from matplotlib<span class="token punctuation">.</span>artist <span class="token keyword">import</span> <span class="token module">getp</span><span class="token keyword">import</span> <span class="token module">copy</span>from test<span class="token punctuation">.</span>test__locale <span class="token keyword">import</span> <span class="token module">candidate_locales</span>from cProfile <span class="token keyword">import</span> <span class="token module">run</span>#åˆå§‹ä¸‰åä¸ªåŸå¸‚åæ ‡city_x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">41</span><span class="token punctuation">,</span><span class="token number">37</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">68</span><span class="token punctuation">,</span><span class="token number">71</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">,</span><span class="token number">83</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">83</span><span class="token punctuation">,</span><span class="token number">91</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">58</span><span class="token punctuation">,</span><span class="token number">71</span><span class="token punctuation">,</span><span class="token number">74</span><span class="token punctuation">,</span><span class="token number">87</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">82</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">,</span><span class="token number">58</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">41</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>city_y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">94</span><span class="token punctuation">,</span><span class="token number">84</span><span class="token punctuation">,</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">58</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">,</span><span class="token number">69</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">38</span><span class="token punctuation">,</span><span class="token number">42</span><span class="token punctuation">,</span><span class="token number">69</span><span class="token punctuation">,</span><span class="token number">71</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">35</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">]</span>#åŸå¸‚æ•°é‡n <span class="token operator">=</span> <span class="token number">30</span>distance <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> raw in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>#ç¦å¿Œè¡¨tabu_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>tabu_time <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>#å½“å‰ç¦å¿Œå¯¹è±¡æ•°é‡current_tabu_num <span class="token operator">=</span> <span class="token number">0</span>#ç¦å¿Œé•¿åº¦ï¼Œå³ç¦å¿ŒæœŸé™tabu_limit <span class="token operator">=</span> <span class="token number">50</span>#å€™é€‰é›†candidate <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> raw in <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">]</span>candidate_distance <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">]</span>#æœ€ä½³è·¯å¾„ä»¥åŠæœ€ä½³è·ç¦»best_route <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>best_distance <span class="token operator">=</span> sys<span class="token punctuation">.</span>maxsizecurrent_route <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>current_distance <span class="token operator">=</span> <span class="token number">0.0</span>def <span class="token function">greedy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    #é€šè¿‡è´ªå©ªç®—æ³•ç¡®å®šåˆå§‹rå€¼ï¼Œä¹Ÿå°±æ˜¯åˆå§‹ä¿¡æ¯ç´ æµ“åº¦           sum <span class="token operator">=</span> <span class="token number">0.0</span>    #å¿…é¡»å®ä¾‹åŒ–ä¸€ä¸ªä¸€ä¸ªèµ‹å€¼ï¼Œä¸ç„¶åªæ˜¯æŠŠåœ°å€èµ‹å€¼ï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«    dis <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> raw in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>        <span class="token keyword">for</span> j in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>            dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> distance<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span>                    visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        #è¿›è¡Œè´ªå©ªé€‰æ‹©â€”â€”æ¯æ¬¡éƒ½é€‰æ‹©è·ç¦»æœ€è¿‘çš„    id <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>        <span class="token keyword">for</span> j in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>            dis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> sys<span class="token punctuation">.</span>maxsize        minvalue <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> i <span class="token operator">!=</span> <span class="token number">29</span><span class="token operator">:</span>            sum <span class="token operator">+=</span> minvalue        visited<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>        id <span class="token operator">=</span> dis<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>minvalue<span class="token punctuation">)</span>    sum <span class="token operator">+=</span> distance<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>visited<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> visited#æ„å»ºåˆå§‹å‚è€ƒè·ç¦»çŸ©é˜µdef <span class="token function">getdistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>        <span class="token keyword">for</span> j in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>            x <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span>city_x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> city_x<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>            y <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span>city_y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> city_y<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>            distance<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>        <span class="token keyword">for</span> j in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>            <span class="token keyword">if</span> distance<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token operator">:</span>                distance<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> sys<span class="token punctuation">.</span>maxsize                #è®¡ç®—æ€»è·ç¦»def <span class="token function">cacl_best</span><span class="token punctuation">(</span>rou<span class="token punctuation">)</span><span class="token operator">:</span>    sumdis <span class="token operator">=</span> <span class="token number">0.0</span>    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span>        sumdis <span class="token operator">+=</span> distance<span class="token punctuation">[</span>rou<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>rou<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    sumdis <span class="token operator">+=</span> distance<span class="token punctuation">[</span>rou<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>rou<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>         <span class="token keyword">return</span> sumdis#åˆå§‹è®¾ç½®def <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    global best_route    global best_distance    global tabu_time    global current_tabu_num    global current_distance    global current_route    global tabu_list    #å¾—åˆ°åˆå§‹è§£ä»¥åŠåˆå§‹è·ç¦»    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">current</span><span class="token expression">_route <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">sample</span><span class="token punctuation">(</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span> </span></span>    current_route <span class="token operator">=</span> <span class="token function">greedy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    best_route <span class="token operator">=</span> copy<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>current_route<span class="token punctuation">)</span>    #å‡½æ•°å†…éƒ¨ä¿®æ”¹å…¨å±€å˜é‡çš„å€¼    current_distance <span class="token operator">=</span> <span class="token function">cacl_best</span><span class="token punctuation">(</span>current_route<span class="token punctuation">)</span>    best_distance <span class="token operator">=</span> current_distance        #ç½®ç¦å¿Œè¡¨ä¸ºç©º    tabu_list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    tabu_time<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    current_tabu_num <span class="token operator">=</span> <span class="token number">0</span>#äº¤æ¢æ•°ç»„ä¸¤ä¸ªå…ƒç´ def <span class="token function">exchange</span><span class="token punctuation">(</span>index1<span class="token punctuation">,</span> index2<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token operator">:</span>    current_list <span class="token operator">=</span> copy<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>    current <span class="token operator">=</span> current_list<span class="token punctuation">[</span>index1<span class="token punctuation">]</span>    current_list<span class="token punctuation">[</span>index1<span class="token punctuation">]</span> <span class="token operator">=</span> current_list<span class="token punctuation">[</span>index2<span class="token punctuation">]</span>    current_list<span class="token punctuation">[</span>index2<span class="token punctuation">]</span> <span class="token operator">=</span> current    <span class="token keyword">return</span> current_list        #å¾—åˆ°é‚»åŸŸ å€™é€‰è§£def <span class="token function">get_candidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    global best_route    global best_distance    global current_tabu_num    global current_distance    global current_route    global tabu_list    #å­˜å‚¨ä¸¤ä¸ªäº¤æ¢çš„ä½ç½®    exchange_position <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    temp <span class="token operator">=</span> <span class="token number">0</span>    #éšæœºé€‰å–é‚»åŸŸ    <span class="token keyword">while</span> True<span class="token operator">:</span>        current <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">sample</span><span class="token punctuation">(</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">print</span><span class="token expression"><span class="token punctuation">(</span>current<span class="token punctuation">)</span></span></span>        <span class="token keyword">if</span> current <span class="token operator">not</span> in exchange_position<span class="token operator">:</span>            exchange_position<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>            candidate<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">exchange</span><span class="token punctuation">(</span>current<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> current<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> current_route<span class="token punctuation">)</span>            <span class="token keyword">if</span> candidate<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">not</span> in tabu_list<span class="token operator">:</span>                candidate_distance<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">cacl_best</span><span class="token punctuation">(</span>candidate<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token punctuation">)</span>                temp <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> temp <span class="token operator">>=</span> <span class="token number">200</span><span class="token operator">:</span>                <span class="token keyword">break</span>                    #å¾—åˆ°å€™é€‰è§£ä¸­çš„æœ€ä¼˜è§£    candidate_best <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>candidate_distance<span class="token punctuation">)</span>    best_index <span class="token operator">=</span> candidate_distance<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>candidate_best<span class="token punctuation">)</span>            current_distance <span class="token operator">=</span> candidate_best    current_route <span class="token operator">=</span> copy<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>candidate<span class="token punctuation">[</span>best_index<span class="token punctuation">]</span><span class="token punctuation">)</span>    #ä¸å½“å‰æœ€ä¼˜è§£è¿›è¡Œæ¯”è¾ƒ         <span class="token keyword">if</span> current_distance <span class="token operator">&lt;</span> best_distance<span class="token operator">:</span>        best_distance <span class="token operator">=</span> current_distance        best_route <span class="token operator">=</span> copy<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>current_route<span class="token punctuation">)</span>        #åŠ å…¥ç¦å¿Œè¡¨    tabu_list<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>candidate<span class="token punctuation">[</span>best_index<span class="token punctuation">]</span><span class="token punctuation">)</span>    tabu_time<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>tabu_limit<span class="token punctuation">)</span>    current_tabu_num <span class="token operator">+=</span> <span class="token number">1</span>        #æ›´æ–°ç¦å¿Œè¡¨ä»¥åŠç¦å¿ŒæœŸé™def <span class="token function">update_tabu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    global current_tabu_num    global tabu_time    global tabu_list        del_num <span class="token operator">=</span> <span class="token number">0</span>    temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>    #æ›´æ–°æ­¥é•¿    tabu_time <span class="token operator">=</span> <span class="token punctuation">[</span>x<span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">for</span> x in tabu_time<span class="token punctuation">]</span>    #å¦‚æœè¾¾åˆ°æœŸé™ï¼Œé‡Šæ”¾    <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>current_tabu_num<span class="token punctuation">)</span><span class="token operator">:</span>        <span class="token keyword">if</span> tabu_time<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token operator">:</span>            del_num <span class="token operator">+=</span> <span class="token number">1</span>            tabu_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp               current_tabu_num <span class="token operator">-=</span> del_num            <span class="token keyword">while</span> <span class="token number">0</span> in tabu_time<span class="token operator">:</span>        tabu_time<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> temp in tabu_list<span class="token operator">:</span>        tabu_list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span>            def <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    result_x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>    result_y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token keyword">for</span> col in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> i in <span class="token function">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token operator">:</span>        result_x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> city_x<span class="token punctuation">[</span>best_route<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>        result_y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> city_y<span class="token punctuation">[</span>best_route<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>    result_x<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> result_x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    result_y<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> result_y<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token function">print</span><span class="token punctuation">(</span>result_x<span class="token punctuation">)</span>    <span class="token function">print</span><span class="token punctuation">(</span>result_y<span class="token punctuation">)</span>    plt<span class="token punctuation">.</span><span class="token function">xlim</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  # é™å®šæ¨ªè½´çš„èŒƒå›´    plt<span class="token punctuation">.</span><span class="token function">ylim</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  # é™å®šçºµè½´çš„èŒƒå›´    plt<span class="token punctuation">.</span><span class="token function">plot</span><span class="token punctuation">(</span>result_x<span class="token punctuation">,</span> result_y<span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token char">'>'</span><span class="token punctuation">,</span> mec<span class="token operator">=</span><span class="token char">'r'</span><span class="token punctuation">,</span> mfc<span class="token operator">=</span><span class="token char">'w'</span><span class="token punctuation">,</span>label<span class="token operator">=</span>u<span class="token char">'Route'</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span><span class="token function">legend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # è®©å›¾ä¾‹ç”Ÿæ•ˆ    plt<span class="token punctuation">.</span><span class="token function">margins</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span><span class="token function">subplots_adjust</span><span class="token punctuation">(</span>bottom<span class="token operator">=</span><span class="token number">0.15</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span><span class="token function">xlabel</span><span class="token punctuation">(</span>u<span class="token string">"x"</span><span class="token punctuation">)</span> #Xè½´æ ‡ç­¾    plt<span class="token punctuation">.</span><span class="token function">ylabel</span><span class="token punctuation">(</span>u<span class="token string">"y"</span><span class="token punctuation">)</span> #Yè½´æ ‡ç­¾    plt<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"TSP Solution"</span><span class="token punctuation">)</span> #æ ‡é¢˜        plt<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    plt<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>                      def <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>    <span class="token function">getdistance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    runtime <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token function">input</span><span class="token punctuation">(</span><span class="token string">"è¿­ä»£æ¬¡æ•°ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> rt in <span class="token function">range</span><span class="token punctuation">(</span>runtime<span class="token punctuation">)</span><span class="token operator">:</span>        <span class="token function">get_candidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token function">update_tabu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"å½“å‰è·ç¦»ï¼š"</span><span class="token punctuation">)</span>    <span class="token function">print</span><span class="token punctuation">(</span>current_distance<span class="token punctuation">)</span>    <span class="token function">print</span><span class="token punctuation">(</span>current_route<span class="token punctuation">)</span>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"æœ€ä¼˜è·ç¦»ï¼š"</span><span class="token punctuation">)</span>        <span class="token function">print</span><span class="token punctuation">(</span>best_route<span class="token punctuation">)</span>    <span class="token function">print</span><span class="token punctuation">(</span>best_distance<span class="token punctuation">)</span>    <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">"__main__"</span><span class="token operator">:</span>    <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="1-2-å¤šç›®æ ‡ä¼˜åŒ–"><a href="#1-2-å¤šç›®æ ‡ä¼˜åŒ–" class="headerlink" title="1.2 å¤šç›®æ ‡ä¼˜åŒ–"></a>1.2 å¤šç›®æ ‡ä¼˜åŒ–</h2><blockquote><p>ä½¿ç”¨åœºæ™¯ï¼š</p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/28057405">ä¸€ä¸ªå¼€æºçš„Pythonåº“</a></p><h2 id="1-3-å…ƒèƒè‡ªåŠ¨æœº"><a href="#1-3-å…ƒèƒè‡ªåŠ¨æœº" class="headerlink" title="1.3 å…ƒèƒè‡ªåŠ¨æœº"></a>1.3 å…ƒèƒè‡ªåŠ¨æœº</h2><blockquote><p>ä½¿ç”¨åœºæ™¯ï¼š</p><p>1ã€å®¹æ˜“ä¸GISã€é¥æ„Ÿæ•°æ®å¤„ç†ç­‰ç³»ç»Ÿç»“åˆ</p><p>2ã€åŸå¸‚å‘å±•æ¼”å˜ã€åœŸåœ°åˆ©ç”¨å˜åŒ–</p><p>3ã€åº”ç”¨äºç‰©ç†æ¨¡æ‹Ÿï¼Œç”Ÿç‰©æ¨¡æ‹Ÿç­‰é¢†åŸŸ</p><p>4ã€æ£®æ—ç«ç¾æ¨¡æ‹Ÿ</p></blockquote><h3 id="1-3-2-pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”ç®€å•ç”Ÿå‘½æ¸¸æˆ"><a href="#1-3-2-pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”ç®€å•ç”Ÿå‘½æ¸¸æˆ" class="headerlink" title="1.3.2 pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”ç®€å•ç”Ÿå‘½æ¸¸æˆ"></a>1.3.2 pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”ç®€å•ç”Ÿå‘½æ¸¸æˆ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> random<span class="token keyword">import</span> copy<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment"># å®šä¹‰å…ƒèƒç”Ÿé•¿æ£‹ç›˜å¤§å°ï¼Œä»¥æ­¤åˆ›å»ºçŸ©é˜µ</span>length <span class="token operator">=</span> <span class="token number">100</span>width <span class="token operator">=</span> <span class="token number">200</span>cell <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">)</span>cell_temp <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>cell<span class="token punctuation">)</span><span class="token comment"># åˆå§‹åŒ–çŸ©é˜µä¸ºéšæœº0-1 çŸ©é˜µï¼Œ1 è¡¨ç¤ºç”Ÿå­˜ï¼Œ0 ä»£è¡¨æ­»äº¡</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>        cell_temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">"""å½“å‰ç»†èƒä¸ºå­˜æ´»çŠ¶æ€æ—¶ï¼Œå½“å‘¨å›´çš„å­˜æ´»ç»†èƒä½äº2ä¸ªæ—¶ï¼ˆä¸åŒ…å«2ä¸ªï¼‰ï¼Œè¯¥ç»†èƒå˜æˆæ­»äº¡çŠ¶æ€ã€‚ï¼ˆæ¨¡æ‹Ÿç”Ÿå‘½æ•°é‡ç¨€å°‘ï¼‰å½“å‰ç»†èƒä¸ºå­˜æ´»çŠ¶æ€æ—¶ï¼Œå½“å‘¨å›´æœ‰2ä¸ªæˆ–3ä¸ªå­˜æ´»ç»†èƒæ—¶ï¼Œè¯¥ç»†èƒä¿æŒåŸæ ·ã€‚å½“å‰ç»†èƒä¸ºå­˜æ´»çŠ¶æ€æ—¶ï¼Œå½“å‘¨å›´æœ‰è¶…è¿‡3ä¸ªå­˜æ´»ç»†èƒæ—¶ï¼Œè¯¥ç»†èƒå˜æˆæ­»äº¡çŠ¶æ€ã€‚ï¼ˆæ¨¡æ‹Ÿç”Ÿå‘½æ•°é‡è¿‡å¤šï¼‰å½“å‰ç»†èƒä¸ºæ­»äº¡çŠ¶æ€æ—¶ï¼Œå½“å‘¨å›´æœ‰3ä¸ªå­˜æ´»ç»†èƒæ—¶ï¼Œè¯¥ç»†èƒå˜æˆå­˜æ´»çŠ¶æ€ã€‚ï¼ˆæ¨¡æ‹Ÿç¹æ®–ï¼‰"""</span><span class="token comment">#å½“æ‰€æœ‰ç»†èƒçŠ¶æ€ä¸å˜æ—¶ç»“æŸ</span><span class="token comment">#å¯èƒ½å­˜åœ¨æ£‹ç›˜ä¸€ç›´å‘¨æœŸæ€§å˜åŒ–ï¼Œæ­¤æ—¶å¦‚æœéœ€è¦ç»“æŸå¯æ‰‹åŠ¨ç»“æŸ</span><span class="token keyword">while</span> <span class="token keyword">not</span><span class="token punctuation">(</span>cell_temp<span class="token operator">==</span>cell<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#é€šè¿‡è¯»å–cellçŸ©é˜µï¼Œä¸æ–­åˆ¤æ–­æ¯ä¸€ä¸ªå•å…ƒæ ¼æ˜¯å­˜æ´»è¿˜æ˜¯æ­»äº¡ï¼Œå°†åˆ¤æ–­ç»“æœä¿å­˜åœ¨cell_tempä¸­ï¼Œæœ€ç»ˆå†å¤åˆ¶ç»™cellçŸ©é˜µ</span>    cell <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>cell_temp<span class="token punctuation">)</span>    <span class="token comment">#æ˜¾ç¤ºæ¯ä¸€è½®çš„å›¾åƒ</span>    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>cell<span class="token punctuation">)</span>    plt<span class="token punctuation">.</span>pause<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>    <span class="token comment">#ä¸¤é‡å¾ªç¯éå†æ•´ä¸ªçŸ©é˜µï¼Œåˆ¤æ–­æ¯ä¸ªç»†èƒä¸‹ä¸€ä¸ªçŠ¶æ€æ˜¯ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>width<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token triple-quoted-string string">'''            countä¿å­˜ä¸€ä¸ªç»†èƒå‘¨å›´8ä¸ªæ–¹æ ¼å†…æœ‰å‡ ä¸ªå­˜æ´»çš„ç»†èƒï¼Œæ³¨æ„è¿™ä¸¤å°†ä¸Šä¸‹è¾¹ç•Œå’Œå·¦å³è¾¹ç•Œè¿æ¥èµ·æ¥è¿›è¡Œåˆ¤æ–­ï¼Œ            å¦‚å¯¹äº8*8çš„æ£‹ç›˜,[0,0]ä¸[0,7]å’Œ[7,0]åœ¨é€»è¾‘ä¸Šç›¸é‚»            '''</span>            count <span class="token operator">=</span> cell<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>width<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>width<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>width<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>width<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>width<span class="token punctuation">]</span> <span class="token operator">+</span> cell<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>width<span class="token punctuation">]</span>            <span class="token comment">#å¦‚æœä¸€ä¸ªå•å…ƒæ ¼æ˜¯æ­»äº¡ï¼Œä¸”å‘¨å›´æ˜¯ä¸‰ä¸ªå•å…ƒæ ¼åˆ™å­˜æ´»ï¼Œå¦åˆ™ä¿æŒæ­»äº¡</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cell<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">and</span> count <span class="token operator">!=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">continue</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>cell<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">and</span> count <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                cell_temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>                <span class="token keyword">continue</span>            <span class="token comment">#å¦‚æœä¸€ä¸ªå­˜æ´»çš„å•å…ƒæ ¼å‘¨å›´æœ‰2æˆ–3ä¸ªå•å…ƒæ ¼å­˜æ´»åˆ™è¯¥å•å…ƒæ ¼ç»§ç»­å­˜æ´»ï¼Œå¦åˆ™æ­»äº¡</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">2</span> <span class="token keyword">or</span> count <span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">continue</span>            cell_temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="1-3-2-pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹ŸåŸå¸‚æ‰©å¼ "><a href="#1-3-2-pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹ŸåŸå¸‚æ‰©å¼ " class="headerlink" title="1.3.2 pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹ŸåŸå¸‚æ‰©å¼ "></a>1.3.2 pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹ŸåŸå¸‚æ‰©å¼ </h3><p><a href="https://www.jianshu.com/p/ae8852e700ef">ã€å‚è€ƒåšå®¢ã€‘</a></p><h3 id="1-3-3-pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹Ÿæ£®æ—ç«ç¾"><a href="#1-3-3-pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹Ÿæ£®æ—ç«ç¾" class="headerlink" title="1.3.3 pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹Ÿæ£®æ—ç«ç¾"></a>1.3.3 pythonå®ç°å…ƒèƒè‡ªåŠ¨æœºâ€”â€”æ¨¡æ‹Ÿæ£®æ—ç«ç¾</h3><p><a href="https://zhuanlan.zhihu.com/p/420348047">ã€å‚è€ƒåšå®¢ã€‘</a></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> matplotlib <span class="token keyword">as</span> mpl<span class="token keyword">import</span> time<span class="token triple-quoted-string string">"""å®šä¹‰å¸¸æ•°éƒ¨åˆ†ï¼Œå‡è®¾æ•´å—åœ°æ£®æ—è¦†ç›–ç‡80%ï¼Œæ ‘æœ¨æ¯”è¾ƒå¹²ç‡¥ï¼Œæ˜“ä»¥å¼•ç‡ƒæ‰€ä»¥ï¼Œfiringè®¾ç½®ä¸º0.8è€Œä¸”æ ‘æœ¨ä¸æ˜“é‡ç”Ÿï¼Œæ‰€åœ¨åŒºåŸŸå‘ç”Ÿé—ªç”µå¼•ç‡ƒæ ‘æœ¨çš„æ¦‚ç‡æä½"""</span>N <span class="token operator">=</span> <span class="token number">100</span>  <span class="token comment"># æ£®æ—çš„å¤§å°</span>forest_area <span class="token operator">=</span> <span class="token number">0.8</span>  <span class="token comment"># åˆå§‹æ£®æ—è¦†ç›–ç‡</span>firing <span class="token operator">=</span> <span class="token number">0.8</span>  <span class="token comment"># å‘¨å›´æ ‘æœ¨å¼•ç‡ƒæ¦‚ç‡</span>grow <span class="token operator">=</span> <span class="token number">0.001</span>  <span class="token comment"># æ ‘æœ¨ç”Ÿé•¿æ¦‚ç‡</span>lightning <span class="token operator">=</span> <span class="token number">0.00006</span>  <span class="token comment"># é—ªç”µæ¦‚ç‡</span>forest <span class="token operator">=</span> <span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>N<span class="token punctuation">,</span> N<span class="token punctuation">)</span> <span class="token operator">&lt;</span> forest_area<span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>  <span class="token comment"># åˆå§‹æ ‘æœ¨</span><span class="token comment"># çŸ©é˜µå¯è§†åŒ–</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"step=1"</span><span class="token punctuation">,</span> fontdict<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"family"</span><span class="token punctuation">:</span> <span class="token string">'Times New Roman'</span><span class="token punctuation">,</span> <span class="token string">"weight"</span><span class="token punctuation">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span> <span class="token string">"fontsize"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span>  <span class="token comment"># é»‘è‰²ï¼ˆç©ºåœ°ï¼‰ï¼Œç»¿è‰²ï¼ˆæ ‘æœ¨ï¼‰ï¼Œçº¢è‰²ï¼ˆç«ï¼‰</span>bounds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>cmap <span class="token operator">=</span> mpl<span class="token punctuation">.</span>colors<span class="token punctuation">.</span>ListedColormap<span class="token punctuation">(</span>colors<span class="token punctuation">)</span>w <span class="token operator">=</span> plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>forest<span class="token punctuation">,</span> cmap<span class="token operator">=</span>cmap<span class="token punctuation">,</span> norm<span class="token operator">=</span>mpl<span class="token punctuation">.</span>colors<span class="token punctuation">.</span>BoundaryNorm<span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> cmap<span class="token punctuation">.</span>N<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># hç”»å›¾</span>T <span class="token operator">=</span> <span class="token number">3000</span>  <span class="token comment"># çŠ¶æ€æ¼”åŒ–è¿›è¡Œ3000æ­¥</span><span class="token keyword">for</span> t <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># time.sleep(0.5)</span>    Temp <span class="token operator">=</span> forest  <span class="token comment"># ç”¨Tempè¿™ä¸ªçŸ©é˜µï¼Œæ¥è®°å½•æ£®æ—çŠ¶æ€çš„å˜åŒ–</span>    Temp <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>forest <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Temp<span class="token punctuation">)</span>  <span class="token comment"># æ£®æ—ä¸­ï¼Œå€¼ä¸º2çš„åœ°æ–¹å€¼å˜æˆ0ï¼Œå…¶ä½™åœ°æ–¹ä¸å˜ï¼Œç»“æœå­˜å…¥Temp</span>    rule4prob <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>N<span class="token punctuation">,</span> N<span class="token punctuation">)</span>  <span class="token comment"># ä¸ºæ£®æ—çš„æ¯ä¸ªä½ç½®ç”Ÿæˆä¸€ä¸ªæ¦‚ç‡,ç”¨äºè¡¨ç¤ºè§„åˆ™4çš„æ¦‚ç‡</span>    Temp <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span><span class="token punctuation">(</span>forest <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>rule4prob <span class="token operator">&lt;</span> grow<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> Temp<span class="token punctuation">)</span>  <span class="token comment"># æ£®æ—ä¸­ï¼Œæ— æ ‘ï¼ˆå€¼ä¸º0ï¼‰çš„åœ°æ–¹ï¼Œä¸”éšæœºæ•°&lt;growçš„åœ°æ–¹ï¼Œå€¼å˜æˆ1ï¼Œå…¶ä½™ä¸å˜,è¡¨ç¤ºæ ‘æœ¨ç”Ÿé•¿</span>    fire <span class="token operator">=</span> <span class="token punctuation">(</span>forest <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int8<span class="token punctuation">)</span>  <span class="token comment"># æ‰¾åˆ°ç‡ƒçƒ§çš„æ ‘æœ¨ï¼Œä»¥0ï¼Œ1è¡¨ç¤º(ç¤ºæ€§å‡½æ•°)</span>    <span class="token comment"># å›ºå®šè¾¹ç•Œ</span>    firepad <span class="token operator">=</span> np<span class="token punctuation">.</span>pad<span class="token punctuation">(</span>fire<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'constant'</span><span class="token punctuation">)</span>  <span class="token comment"># è¾¹ç•Œå›ºå®šå€¼0ï¼Œç”¨äºè®¡ç®—é‚»åŸŸæ ‘æœ¨ç‡ƒçƒ§æƒ…å†µï¼Œnp.padå‡½æ•°</span>    <span class="token comment"># å‘¨æœŸæ€§è¾¹ç•Œ</span>    <span class="token comment"># firepad=np.pad(fire,(1,1),'wrap')#ä¸Šä¸‹è¾¹ç•Œï¼Œå·¦å³è¾¹ç•Œç›¸è¿æ¥</span>    <span class="token comment"># æ˜ å°„å‹è¾¹ç•Œ</span>    <span class="token comment"># firepad=np.pad(fire,(1,1),'reflect')#ä»¥è¾¹ç•Œå€¼ä¸ºè½´é•œé¢åå°„</span>    <span class="token comment"># ç»ç¼˜è¾¹ç•Œ</span>    <span class="token comment"># firepad=np.pad(fire,(1,1),'edge')#ä»¥è¾¹ç•Œå€¼ä¸ºè½´é•œé¢åå°„</span>    <span class="token comment"># Mooreé‚»å±…</span>    <span class="token comment"># å¾—åˆ°äº†æ¯ä¸ªæ ¼ç‚¹å‘¨å›´æœ‰å¤šå°‘ç‡ƒçƒ§çš„æ ‘æœ¨ï¼ˆ8ä¸ªé‚»å±…ï¼‰</span>    <span class="token comment"># numfire=firepad[0:-2,1:-1]+firepad[2:,1:-1]\</span>    <span class="token comment">#             +firepad[1:-1,0:-2]+firepad[1:-1,2:]\</span>    <span class="token comment">#             +firepad[0:-2,0:-2]+firepad[0:-2,2:]\</span>    <span class="token comment">#             +firepad[2:,0:-2]+firepad[2:,2:]</span>    <span class="token comment"># VonNeumanné‚»å±…ï¼ˆ4ä¸ªé‚»å±…ï¼‰</span>    numfire <span class="token operator">=</span> firepad<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> firepad<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> \              <span class="token operator">+</span> firepad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> firepad<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span> \ \        <span class="token comment"># ä¸ºæ£®æ—çš„æ¯ä¸ªä½ç½®ç”Ÿæˆä¸€ä¸ªæ¦‚ç‡,ç”¨äºè¡¨ç¤ºè§„åˆ™1çš„æ¦‚ç‡ï¼Œè¡¨ç¤ºæ ‘æœ¨ç‡ƒçƒ§çš„æ¦‚ç‡</span>    rule1prob <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>N<span class="token punctuation">,</span> N<span class="token punctuation">)</span>    <span class="token comment"># ä¸ºæ£®æ—çš„æ¯ä¸ªä½ç½®ç”Ÿæˆä¸€ä¸ªæ¦‚ç‡,ç”¨äºè¡¨ç¤ºè§„åˆ™34çš„æ¦‚ç‡ï¼Œå³å‘ç”Ÿé—ªç”µçš„æ¦‚ç‡</span>    rule3prob <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span>N<span class="token punctuation">,</span> N<span class="token punctuation">)</span>    <span class="token comment"># æ£®æ—ä¸­ï¼Œå€¼ä¸º1ï¼Œä¸”å‘¨å›´æœ‰ç‡ƒçƒ§çš„æ ‘æœ¨ï¼Œä¸”éšæœºæ•°å°äºfiringï¼ˆæ¦‚ç‡firingï¼‰çš„åœ°æ–¹å€¼å˜ä¸º2(ç‡ƒçƒ§)</span>    <span class="token comment"># Temp = np.where((forest == 1)&amp;(numfire>0)&amp;(rule1prob&lt;firing),2,Temp)</span>    <span class="token comment"># æ£®æ—ä¸­ï¼Œå€¼ä¸º1ï¼Œä¸”å‘¨å›´æ²¡æœ‰ç‡ƒçƒ§çš„æ ‘æœ¨ï¼Œä¸”éšæœºæ•°å°äºlightningï¼ˆæ¦‚ç‡lightningï¼‰çš„åœ°æ–¹å€¼å˜ä¸º2(ç‡ƒçƒ§)ï¼Œè¡¨ç¤ºè¢«é—ªç”µåŠˆä¸­</span>    <span class="token comment"># Temp = np.where((forest == 1)&amp;(numfire==0)&amp;(rule4prob&lt;lightning),2,Temp)</span>    <span class="token comment"># ä¸Šé¢ä¸¤å¥å¯ä»¥å†™æˆä¸€å¥</span>    Temp <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>        <span class="token punctuation">(</span>forest <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>numfire <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>rule1prob <span class="token operator">&lt;</span> firing<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>numfire <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>rule3prob <span class="token operator">&lt;</span> lightning<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> Temp<span class="token punctuation">)</span>    <span class="token comment"># !!!!æ›´æ–°æ£®æ—çš„çŠ¶æ€</span>    forest <span class="token operator">=</span> Temp    plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"step="</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> fontdict<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"family"</span><span class="token punctuation">:</span> <span class="token string">'Times New Roman'</span><span class="token punctuation">,</span> <span class="token string">"weight"</span><span class="token punctuation">:</span> <span class="token string">'bold'</span><span class="token punctuation">,</span> <span class="token string">"fontsize"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    w<span class="token punctuation">.</span>set_data<span class="token punctuation">(</span>forest<span class="token punctuation">)</span>    <span class="token comment"># !!!!æ›´æ–°æ£®æ—çš„çŠ¶æ€</span>    plt<span class="token punctuation">.</span>pause<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="2-ä¾‹é¢˜åˆ†æ"><a href="#2-ä¾‹é¢˜åˆ†æ" class="headerlink" title="2. ä¾‹é¢˜åˆ†æ"></a>2. ä¾‹é¢˜åˆ†æ</h1><h1 id="3-é¢„æµ‹ç®—æ³•"><a href="#3-é¢„æµ‹ç®—æ³•" class="headerlink" title="3. é¢„æµ‹ç®—æ³•"></a>3. é¢„æµ‹ç®—æ³•</h1><p><a href="https://blog.csdn.net/yijiantao/article/details/51142953">ã€é¢„æµ‹æ¨¡å‹æ€»ç»“ã€‘</a></p><h2 id="3-1-LSTMé¢„æµ‹â€”â€”å®ä¾‹"><a href="#3-1-LSTMé¢„æµ‹â€”â€”å®ä¾‹" class="headerlink" title="3.1 LSTMé¢„æµ‹â€”â€”å®ä¾‹"></a>3.1 LSTMé¢„æµ‹â€”â€”å®ä¾‹</h2><h2 id="3-2"><a href="#3-2" class="headerlink" title="3.2"></a>3.2</h2><h1 id="3-1"><a href="#3-1" class="headerlink" title="3.1"></a>3.1</h1><h1 id="4-åˆ†æè¯„ä»·"><a href="#4-åˆ†æè¯„ä»·" class="headerlink" title="4. åˆ†æè¯„ä»·"></a>4. åˆ†æè¯„ä»·</h1><h2 id="4-1-å±‚æ¬¡åˆ†ææ³•"><a href="#4-1-å±‚æ¬¡åˆ†ææ³•" class="headerlink" title="4.1 å±‚æ¬¡åˆ†ææ³•"></a>4.1 å±‚æ¬¡åˆ†ææ³•</h2><h2 id="4-2-ç°åº¦åˆ†ææ³•"><a href="#4-2-ç°åº¦åˆ†ææ³•" class="headerlink" title="4.2 ç°åº¦åˆ†ææ³•"></a>4.2 ç°åº¦åˆ†ææ³•</h2><h1 id="5-èšç±»KNN"><a href="#5-èšç±»KNN" class="headerlink" title="5. èšç±»KNN"></a>5. èšç±»KNN</h1><h1 id="6-å‚è€ƒèµ„æ–™"><a href="#6-å‚è€ƒèµ„æ–™" class="headerlink" title="6. å‚è€ƒèµ„æ–™"></a>6. å‚è€ƒèµ„æ–™</h1><ol><li><p>ç¦å¿Œä¼˜åŒ–ç®—æ³•</p></li><li><p><a href="https://blog.csdn.net/weixin_39526651/article/details/111607386">å…ƒèƒè‡ªåŠ¨æœºé€‚ç”¨èŒƒå›´</a></p></li></ol>]]></content>
      
      
      <categories>
          
          <category> æ•°å­¦å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
            <tag> coding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½œå›¾ç¬¬ä¸€å¼¹ï¼šFolium</title>
      <link href="/2022/02/06/zuo-tu-di-yi-dan-folium/"/>
      <url>/2022/02/06/zuo-tu-di-yi-dan-folium/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Foliumçš„å®‰è£…"><a href="#1-Foliumçš„å®‰è£…" class="headerlink" title="1. Foliumçš„å®‰è£…"></a>1. Foliumçš„å®‰è£…</h1><h1 id="2-Foliumçš„ä½¿ç”¨"><a href="#2-Foliumçš„ä½¿ç”¨" class="headerlink" title="2. Foliumçš„ä½¿ç”¨"></a>2. Foliumçš„ä½¿ç”¨</h1><h2 id="2-1-ä½œå›¾ä¿å­˜"><a href="#2-1-ä½œå›¾ä¿å­˜" class="headerlink" title="2.1 ä½œå›¾ä¿å­˜"></a>2.1 ä½œå›¾ä¿å­˜</h2><p>ç›®å‰åªå‘ç°å¯ä»¥ä½œä¸ºç½‘é¡µä¿å­˜,éœ€è¦å¯¼å‡ºå›¾ç‰‡çš„è¯ï¼ŒIEæµè§ˆå™¨æ‰“å¼€ç½‘é¡µï¼Œå³é”®ç½‘é¡µæ•è·ï¼Œå¤åˆ¶å³å¯å¾—åˆ°pngçš„å›¾ï¼Œç¼ºç‚¹æ˜¯æ”¾å¤§ä¹‹åä¼šæ¨¡ç³Šèµ·æ¥</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">print</span><span class="token punctuation">(</span>folium<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span>word_map<span class="token operator">=</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">45.5236</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.6750</span><span class="token punctuation">]</span><span class="token punctuation">)</span>word_map<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€äº›æ¯”è¾ƒé‡è¦çš„å‚æ•°ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">folium</span><span class="token punctuation">.</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token string">'100%'</span><span class="token punctuation">,</span> height<span class="token operator">=</span><span class="token string">'100%'</span><span class="token punctuation">,</span> left<span class="token operator">=</span><span class="token string">'0%'</span><span class="token punctuation">,</span> top<span class="token operator">=</span><span class="token string">'0%'</span><span class="token punctuation">,</span> position<span class="token operator">=</span><span class="token string">'relative'</span><span class="token punctuation">,</span> tiles<span class="token operator">=</span><span class="token string">'OpenStreetMap'</span><span class="token punctuation">,</span> attr<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> min_zoom<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> max_zoom<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span> zoom_start<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> min_lat<span class="token operator">=</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> max_lat<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">,</span> min_lon<span class="token operator">=</span><span class="token operator">-</span><span class="token number">180</span><span class="token punctuation">,</span> max_lon<span class="token operator">=</span><span class="token number">180</span><span class="token punctuation">,</span> max_bounds<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> crs<span class="token operator">=</span><span class="token string">'EPSG3857'</span><span class="token punctuation">,</span> control_scale<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> prefer_canvas<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> no_touch<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> disable_3d<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> png_enabled<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> zoom_control<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>location:ç»çº¬åº¦ï¼Œlistæˆ–è€…tupleå½¢å¼ï¼Œé¡ºåºä¸ºã€ latitude, longitudeã€‘</li><li>zoom_startç¼©æ”¾å€¼ï¼Œé»˜è®¤ä¸º 10ï¼Œå€¼è¶Šå¤§æ¯”ä¾‹å°ºè¶Šå°ï¼Œåœ°å›¾æ”¾å¤§çº§åˆ«è¶Šå¤§</li><li>tilesæ˜¾ç¤ºæ ·å¼ï¼Œé»˜è®¤*â€™OpenStreetMapâ€™*ï¼Œä¹Ÿå°±æ˜¯å¼€å¯è¡—é“æ˜¾ç¤º</li><li>crs åœ°ç†åæ ‡å‚è€ƒç³»ç»Ÿï¼Œé»˜è®¤ä¸ºâ€<em>EPSG3857</em>â€œ</li></ul><h2 id="2-2-ä¸åŒæ ·å¼çš„åœ°å›¾"><a href="#2-2-ä¸åŒæ ·å¼çš„åœ°å›¾" class="headerlink" title="2.2 ä¸åŒæ ·å¼çš„åœ°å›¾"></a>2.2 ä¸åŒæ ·å¼çš„åœ°å›¾</h2><p><strong>Type1:é»‘ç™½ç®€çº¦</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowsercity_map<span class="token operator">=</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span><span class="token number">116.4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>zoom_start<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>tiles<span class="token operator">=</span><span class="token string">'Stamen Toner'</span><span class="token punctuation">)</span>city_map<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>Type1:é»„ç»¿åœ°ç†</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowsercity_map<span class="token operator">=</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span><span class="token number">116.4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>zoom_start<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>tiles<span class="token operator">=</span><span class="token string">'Stamen Terrain'</span><span class="token punctuation">)</span>city_map<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-æ ‡è®°çš„æ·»åŠ "><a href="#2-3-æ ‡è®°çš„æ·»åŠ " class="headerlink" title="2.3 æ ‡è®°çš„æ·»åŠ "></a>2.3 æ ‡è®°çš„æ·»åŠ </h2><ol><li>å®šä½æ ‡å¿—</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowsercity_map<span class="token operator">=</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">115.40</span><span class="token punctuation">]</span><span class="token punctuation">,</span>zoom_start<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span>tiles<span class="token operator">=</span><span class="token string">'Stamen Terrain'</span><span class="token punctuation">)</span><span class="token comment"># æ·»åŠ æ ‡è®°---è¿™è¾¹æ˜¯å®šä½æ ‡å¿—</span>folium<span class="token punctuation">.</span>Marker<span class="token punctuation">(</span>    location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.95</span><span class="token punctuation">,</span> <span class="token number">115.33</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    popup<span class="token operator">=</span><span class="token string">'Mt. Hood Meadows'</span><span class="token punctuation">,</span>    icon<span class="token operator">=</span>folium<span class="token punctuation">.</span>Icon<span class="token punctuation">(</span>icon<span class="token operator">=</span><span class="token string">'cloud'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>city_map<span class="token punctuation">)</span>folium<span class="token punctuation">.</span>Marker<span class="token punctuation">(</span>    location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.96</span><span class="token punctuation">,</span> <span class="token number">115.32</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    popup<span class="token operator">=</span><span class="token string">'Timberline Lodge'</span><span class="token punctuation">,</span>    icon<span class="token operator">=</span>folium<span class="token punctuation">.</span>Icon<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>city_map<span class="token punctuation">)</span>folium<span class="token punctuation">.</span>Marker<span class="token punctuation">(</span>    location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">115.34</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    popup<span class="token operator">=</span><span class="token string">'Some Other Location'</span><span class="token punctuation">,</span>    icon<span class="token operator">=</span>folium<span class="token punctuation">.</span>Icon<span class="token punctuation">(</span>color<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span> icon<span class="token operator">=</span><span class="token string">'info-sign'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>city_map<span class="token punctuation">)</span>city_map<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>åœ†å½¢æ ‡è®°</li></ol><p>â‘ çº¢è‰²åœ†åœˆ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowsercity_map<span class="token operator">=</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">116.40</span><span class="token punctuation">]</span><span class="token punctuation">,</span>zoom_start<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span>tiles<span class="token operator">=</span><span class="token string">'Stamen Toner'</span><span class="token punctuation">)</span><span class="token comment"># æ·»åŠ æ ‡è®°---è¿™è¾¹æ˜¯åœ†å½¢èŒƒå›´æ ‡è®°</span><span class="token comment"># çº¢è‰²çš„åœ†åœˆ</span>folium<span class="token punctuation">.</span>Circle<span class="token punctuation">(</span>    radius<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">,</span>    location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.92</span><span class="token punctuation">,</span><span class="token number">116.43</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    popup<span class="token operator">=</span><span class="token string">'The Waterfront'</span><span class="token punctuation">,</span>    color<span class="token operator">=</span><span class="token string">'crimson'</span><span class="token punctuation">,</span>    fill<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>city_map<span class="token punctuation">)</span>city_map<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â‘¡è“è‰²èŒƒå›´ï¼Œå¡«å……âšª</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowsercity_map<span class="token operator">=</span>folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span>location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">116.40</span><span class="token punctuation">]</span><span class="token punctuation">,</span>zoom_start<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span>tiles<span class="token operator">=</span><span class="token string">'Stamen Toner'</span><span class="token punctuation">)</span><span class="token comment"># æ·»åŠ æ ‡è®°---è¿™è¾¹æ˜¯åœ†å½¢èŒƒå›´æ ‡è®°</span>folium<span class="token punctuation">.</span>CircleMarker<span class="token punctuation">(</span>    location<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">116.38</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    radius<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span>    popup<span class="token operator">=</span><span class="token string">'Laurelhurst Park'</span><span class="token punctuation">,</span>    color<span class="token operator">=</span><span class="token string">'#3186cc'</span><span class="token punctuation">,</span>    fill<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>    fill_color<span class="token operator">=</span><span class="token string">'#3186cc'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>city_map<span class="token punctuation">)</span>city_map<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç»˜åˆ¶çƒ­åŠ›å›¾"><a href="#2-4-ç»˜åˆ¶çƒ­åŠ›å›¾" class="headerlink" title="2.4 ç»˜åˆ¶çƒ­åŠ›å›¾"></a>2.4 ç»˜åˆ¶çƒ­åŠ›å›¾</h2><p>éœ€è¦æä¾›ä½ç½®ä»¥åŠå¯¹åº”ä½ç½®çš„æ•°å€¼ï¼ˆçƒ­åŠ›å€¼ï¼‰</p><p>data=list([[ç»åº¦ï¼Œçº¬åº¦ï¼Œçƒ­åŠ›å€¼]ï¼Œ[ç»åº¦ï¼Œçº¬åº¦ï¼Œçƒ­åŠ›å€¼]]â€¦â€¦[ç»åº¦ï¼Œçº¬åº¦ï¼Œçƒ­åŠ›å€¼])</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowser<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npdata <span class="token operator">=</span> <span class="token punctuation">(</span>    np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span>    np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span>    np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">116.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token comment"># HeatMap</span><span class="token keyword">from</span> folium<span class="token punctuation">.</span>plugins <span class="token keyword">import</span> HeatMapm <span class="token operator">=</span> folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">116.38</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tiles<span class="token operator">=</span><span class="token string">'stamentoner'</span><span class="token punctuation">,</span> zoom_start<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span>HeatMap<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>m<span class="token punctuation">)</span>m<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-5-å¯†åº¦åœ°å›¾ç»˜åˆ¶"><a href="#2-5-å¯†åº¦åœ°å›¾ç»˜åˆ¶" class="headerlink" title="2.5 å¯†åº¦åœ°å›¾ç»˜åˆ¶"></a>2.5 å¯†åº¦åœ°å›¾ç»˜åˆ¶</h2><p>æ•ˆæœæ˜¯â€¦â€¦ä¸€ä¸ªä¸ªå°åœ†çƒ,æ„Ÿè§‰ç”¨çš„åº”è¯¥ä¸å¤š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> folium<span class="token keyword">import</span> webbrowser<span class="token keyword">from</span> folium<span class="token punctuation">.</span>plugins <span class="token keyword">import</span> MarkerCluster<span class="token keyword">import</span> numpy <span class="token keyword">as</span> npdata <span class="token operator">=</span> <span class="token punctuation">(</span>    np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span>    np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span>    np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">116.5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tolist<span class="token punctuation">(</span><span class="token punctuation">)</span>m <span class="token operator">=</span> folium<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">39.93</span><span class="token punctuation">,</span> <span class="token number">116.38</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tiles<span class="token operator">=</span><span class="token string">'stamentoner'</span><span class="token punctuation">,</span> zoom_start<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token comment"># create a mark cluster object</span>marker_cluster <span class="token operator">=</span> MarkerCluster<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token comment"># add data point to the mark cluster</span><span class="token keyword">for</span> lat<span class="token punctuation">,</span> lng<span class="token punctuation">,</span> label <span class="token keyword">in</span> data<span class="token punctuation">:</span>    folium<span class="token punctuation">.</span>Marker<span class="token punctuation">(</span>        location<span class="token operator">=</span><span class="token punctuation">[</span>lat<span class="token punctuation">,</span> lng<span class="token punctuation">]</span><span class="token punctuation">,</span>        icon<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>        popup<span class="token operator">=</span>label<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">.</span>add_to<span class="token punctuation">(</span>marker_cluster<span class="token punctuation">)</span><span class="token comment"># add marker_cluster to map</span>m<span class="token punctuation">.</span>add_child<span class="token punctuation">(</span>marker_cluster<span class="token punctuation">)</span>m<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'world.html'</span><span class="token punctuation">)</span>webbrowser<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"world.html"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-6-ç»“åˆå®é™…æ•°æ®çš„å®æˆ˜"><a href="#2-6-ç»“åˆå®é™…æ•°æ®çš„å®æˆ˜" class="headerlink" title="2.6 ç»“åˆå®é™…æ•°æ®çš„å®æˆ˜"></a>2.6 ç»“åˆå®é™…æ•°æ®çš„å®æˆ˜</h2><h3 id="2-6-1-ç«å±±åˆ†å¸ƒ"><a href="#2-6-1-ç«å±±åˆ†å¸ƒ" class="headerlink" title="2.6.1 ç«å±±åˆ†å¸ƒ"></a>2.6.1 ç«å±±åˆ†å¸ƒ</h3><p><a href="https://blog.csdn.net/lemonbit/article/details/122780392">ã€å‚è€ƒåšå®¢ã€‘</a></p><h3 id="2-6-2-åŒ—äº¬é“è·¯"><a href="#2-6-2-åŒ—äº¬é“è·¯" class="headerlink" title="2.6.2 åŒ—äº¬é“è·¯"></a>2.6.2 åŒ—äº¬é“è·¯</h3><p><a href="https://cloud.tencent.com/developer/article/1856621">ã€å‚è€ƒåšå®¢ã€‘</a></p><h3 id="2-6-3-ç–«æƒ…åˆ†æ"><a href="#2-6-3-ç–«æƒ…åˆ†æ" class="headerlink" title="2.6.3 ç–«æƒ…åˆ†æ"></a>2.6.3 ç–«æƒ…åˆ†æ</h3><p><a href="https://www.bobobk.com/624.html">ã€å‚è€ƒåšå®¢ã€‘</a></p><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol><li><p><a href="https://zhuanlan.zhihu.com/p/112324234">çŸ¥ä¹ç©è½¬å·¥ç¨‹å¼€å‘åšæ–‡</a></p></li><li><p><a href="https://zhuanlan.zhihu.com/p/248011466">çŸ¥ä¹æ•°æ®å¯è§†åŒ–</a></p></li><li><p>[å¦ä¸€ç§pyechartsåŒ…ç»˜åˆ¶åœ°å›¾](<a href="https://cloud.tencent.com/developer/article/1699692">python pyechartsåœ°ç†æ•°æ®å¯è§†åŒ– ç»˜åˆ¶åœ°ç†å›¾è¡¨ - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</a>)</p></li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> å»ºæ¨¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä½œå›¾ </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022NLPè®ºæ–‡é˜…è¯»ç¬¬ä¸€å¼¹â€”â€”TNET</title>
      <link href="/2022/02/06/nlp-lun-wen-yue-du-di-yi-dan-tnet/"/>
      <url>/2022/02/06/nlp-lun-wen-yue-du-di-yi-dan-tnet/</url>
      
        <content type="html"><![CDATA[<h1 id="1-è®ºæ–‡é˜…è¯»"><a href="#1-è®ºæ–‡é˜…è¯»" class="headerlink" title="1. è®ºæ–‡é˜…è¯»"></a>1. è®ºæ–‡é˜…è¯»</h1><p> <em>ã€ŠTransformation Networks for Target-Oriented Sentiment Classifificationã€‹</em></p><p><a href="https://aclanthology.org/P18-1087.pdf">[paper]</a></p><p>[code]</p><h2 id="1-1-introduction"><a href="#1-1-introduction" class="headerlink" title="1.1  introduction"></a>1.1  introduction</h2><p>æå‡ºäº†<strong>T</strong>ransformation <strong>Net</strong>works (TNet)è§£å†³Attentionæœºåˆ¶å’ŒCNNæœ¬èº«åœ¨ABSCä»»åŠ¡ä¸Šçš„ç¼ºé™·ï¼ˆå…·ä½“ç¼ºé™·è§1.2ï¼‰</p><p>ä¸»è¦è´¡çŒ®ï¼š</p><ul><li>é‡‡ç”¨äº†CNNçš„TNetè§£å†³ABSCé—®é¢˜ï¼Œä¸”æ€§èƒ½åœ¨åŸºå‡†æ•°æ®é›†ä¸Šå–å¾—äº†æœ€å¥½çš„æ•ˆæœã€‚</li><li>æå‡ºäº†ä¸€ç§æ–°çš„æ ¹æ®ç›®æ ‡targetçš„è½¬æ¢ç»„ä»¶ï¼Œä»¥æ›´å¥½åœ°å°†ç›®æ ‡ä¿¡æ¯é›†æˆåˆ°å•è¯è¡¨ç¤ºä¸­ã€‚</li><li>è®¾è®¡äº†ä¸€ç§ä¸Šä¸‹æ–‡ä¿å­˜æœºåˆ¶ï¼Œå°†ä¸Šä¸‹æ–‡ä¿¡æ¯è½¬å‘åˆ°æ·±åº¦è½¬æ¢ä½“ç³»ç»“æ„ä¸­ï¼Œå› æ­¤ï¼Œè¯¥æ¨¡å‹å¯ä»¥æ›´æ·±ä»å±‚æ¬¡çš„ç½‘ç»œä¸­å­¦ä¹ åˆ°æ›´åŠ æŠ½è±¡çš„ä¸Šä¸‹æ–‡å•è¯ç‰¹å¾ã€‚</li></ul><h2 id="1-2-motivation"><a href="#1-2-motivation" class="headerlink" title="1.2  motivation"></a>1.2  motivation</h2><ul><li>æ³¨æ„åŠ›æœºåˆ¶æœ¬èº«çš„ç¼ºé™·ï¼š<ul><li>å¯¹æŸå•è¯è¿›è¡Œæ³¨æ„åŠ›åˆ†å€¼è®¡ç®—çš„æ—¶å€™ï¼Œä¼šå¼•å…¥å™ªå£°</li></ul></li></ul><p><font color="ï¼ƒ20B2AA">è§£é‡Šï¼šæ¯”å¦‚è¯´ï¼Œâ€œThis dish is my favorite and I always get it and never get tired of it.â€å¯¹å…¶ä¸­çš„dishåšæ³¨æ„åŠ›æœºåˆ¶è®¡ç®—çš„æ—¶å€™ï¼Œä¼šå¼•å…¥ä¸ç›¸å…³çš„è¯æ¯”å¦‚â€œneverâ€â€œtiredâ€</font></p><ul><li>CNNæœ¬èº«å¯¹äºæ–‡æœ¬å¤„ç†çš„ç¼ºé™·ï¼š<ul><li><p>ä¸èƒ½åƒRNNä¸€æ ·å®Œæ•´æ¢ç´¢åˆ°ä¸Šä¸‹æ–‡ä¿¡æ¯</p></li><li><p>éš¾ä»¥å¤„ç†å¤šç›®æ ‡è¯çš„æƒ…å†µï¼ˆå³ä½¿æ¢ç´¢åˆ°ä¹Ÿå¾ˆéš¾åŸºäºä¸Šä¸‹æ–‡è¿›è¡Œå–èˆï¼‰</p></li></ul></li></ul><p><font color="ï¼ƒ20B2AA">è§£é‡Šï¼šå¦‚å¥å­â€œgreat food but the service was dreadfulâ€ï¼Œå¯¹äºç›®æ ‡è¯â€œfoodâ€è€Œè¨€ï¼ŒCNNå¾ˆéš¾ç»™å‡ºâ€œgoodâ€å’Œâ€œdreadfulâ€ä¹‹é—´åˆç†çš„æŠ‰æ‹©</font></p><h2 id="1-3-model"><a href="#1-3-model" class="headerlink" title="1.3  model"></a>1.3  model</h2><p><img src="https://img-blog.csdnimg.cn/20190315195759550.png"></p><p>ç»“åˆä¸Šå›¾ï¼Œä»ä¸‹å¾€ä¸Šè§£é‡Šä¸€ä¸‹æ¨¡å‹éƒ¨åˆ†ï¼š</p><ol><li><p>$x_i$æ˜¯åŸå§‹è¾“å…¥ï¼Œçº¢è‰²æ¨¡å—æ˜¯åŒå‘LSTMï¼Œï¼ˆå› ä¸ºå‰äººç ”ç©¶è¡¨æ˜åŸºäºä¸Šä¸‹æ–‡çš„å•è¯è¡¨ç¤ºæ˜¯å·ç§¯æ¶æ„ä¸­å•è¯çš„æœ‰æ•ˆè¡¨ç¤ºæ–¹å¼ï¼‰ï¼Œè¾“å‡º$h_i$æ˜¯è¿™ä¸€å±‚åŠ å…¥ä¸Šä¸‹æ–‡å…³ç³»çš„å•è¯è¡¨ç¤ºçš„ç»“æœã€‚$h_i=[LSTM_{left-&gt;right}(x_i);LSTM_{right-&gt;left}(x_i)],iâˆˆ[1,n]$</p></li><li><p>ç°è‰²æ¨¡å—æ˜¯CPTï¼ˆä¸Šä¸‹æ–‡ä¿å­˜è½¬æ¢ï¼‰ï¼Œä¸»è¦ä½œç”¨æ˜¯å¼•å…¥targetåˆ°å•è¯è¡¨ç¤ºä¸­æ¥<font color='light blue'>æ²¡æœ‰ç”¨ä¼ ç»Ÿçš„attentionè®¡ç®—çš„æƒé‡æ¥åšâ€¦â€¦è€Œæ˜¯ç”¨äº†è‡ªå·±è®¾è®¡çš„TSTæ¨¡å—ï¼ŒåŒæ—¶å¼ºè°ƒCPTæ˜¯å¤šå±‚çš„</font></p><p>TSTç»„ä»¶ä»ä¸‹å¾€ä¸Šä»‹ç»ï¼š</p><ul><li><p>åŒå‘LSTMè·å–ç›®æ ‡è¯çš„è¡¨ç¤º$h^{\tau}$</p></li><li><p>å°†ä¸Šä¸€æ­¥çš„$h^{\tau}$åŠ¨æ€åœ°ä¸å¥å­ä¸­åœ°å•è¯$w_i$å…³è”èµ·æ¥ï¼Œå¼‚å˜åœ¨æ—¶é—´æ­¥æ—¶å®šåˆ¶ç›®æ ‡è¡¨ç¤º$r_i^{\tau}}$</p></li><li><p>å…¨è¿æ¥å±‚ï¼Œè·å–ç¬¬$i$ä¸ªç›®æ ‡è¯çš„è¡¨ç¤º</p></li><li><p>LF/ASï¼šTSTä¹‹åï¼Œç”±Bi-LSTMå¾—åˆ°çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ä¼šä¸¢å¤±ï¼Œä¸ºäº†åˆ©ç”¨ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè¿™é‡Œæå‡ºäº†ä¸¤ç§ç­–ç•¥LFå’ŒAS</p><ul><li><p>LFï¼šæ— æŸè½¬å‘ï¼Œæ¨¡å‹ä¸€å¼€å§‹çº¢è‰²Bi-LSTMç”Ÿæˆçš„è¡¨ç¤ºå’ŒTSTç”Ÿæˆçš„è¡¨ç¤ºç›´æ¥ç›¸åŠ </p></li><li><p>ASï¼šè‡ªé€‚åº”ç¼©æ”¾ï¼Œå¼•å…¥å‚æ•°$W$å’Œ$b$ï¼Œå­¦ä¹ æ¨¡å‹åº”è¯¥ä¿ç•™å¤šå°‘ä¸€å¼€å§‹çº¢è‰²Bi-LSTMç”Ÿæˆçš„è¡¨ç¤ºå’Œå¤šå°‘TSTç”Ÿæˆçš„è¡¨ç¤ºã€‚ç›¸å½“äºå¼•å…¥äº†é—¨æ§æœºåˆ¶ã€‚</p></li></ul></li></ul></li></ol><p><img src="https://img-blog.csdnimg.cn/20190315200203487.png"></p><ol start="3"><li>CNNï¼šä½ç½®ç¼–ç ï¼ˆå‡è®¾ä¸€ä¸ªtargetå‘¨å›´æ£€æµ‹åˆ°å¤šä¸ªopinionçš„æ—¶å€™ï¼Œé»˜è®¤ç¦»ä»–æœ€è¿‘çš„è´¡çŒ®æœ€å¤§ï¼‰</li></ol><h2 id="1-4-Examination"><a href="#1-4-Examination" class="headerlink" title="1.4  Examination"></a>1.4  Examination</h2><h2 id="1-5-Result"><a href="#1-5-Result" class="headerlink" title="1.5  Result"></a>1.5  Result</h2><h1 id="2-Codingçš„æ•…äº‹"><a href="#2-Codingçš„æ•…äº‹" class="headerlink" title="2. Codingçš„æ•…äº‹"></a>2. Codingçš„æ•…äº‹</h1><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://blog.csdn.net/weixin_44740082/article/details/88582633">Tneté˜…è¯»ç¬”è®°</a></li></ol><blockquote><p><strong>ç¢ç¢å¿µï¼š</strong></p><p>ç»ˆäºè¦å¼€å­¦äº†å“‡~å‡†å¤‡è¿æ¥â€œç¥ä»™æ‰“æ¶â€~~~åšä¸€ä¸ªåˆæ ¼çš„ç‚®ç°ç”²ğŸ˜Š</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> NLP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®ºæ–‡é˜…è¯» </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1114-1117</title>
      <link href="/2022/02/06/pta-jia-ji-mo-ni-1114-1117/"/>
      <url>/2022/02/06/pta-jia-ji-mo-ni-1114-1117/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>å› ä¸ºä¸æ˜¯å®Œæ•´çš„ä¸€æ¬¡è€ƒæ ¸ï¼ˆå°†ä¸¤æ¬¡ä¸­å‰2å’Œå2æ‹†åˆ†åæ‹¼èµ·æ¥çš„é¢˜ç›®ï¼‰ï¼Œæ‰€ä»¥é¢˜ç›®æŒ‰ç…§éš¾åº¦æ’åº</p><p>æ€»ä½“æ¥è®²â€¦â€¦ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºåšçš„æ˜¯æ‹¼å‡‘çš„ä¸€å¥—ï¼Œæ²¡æœ‰éš¾é¢˜åŸºæœ¬ğŸ¤£~</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1116</td><td>ğŸ¸</td><td>ï¼ˆåªæƒ³ç»™åŠä¸ªğŸ¸ï¼‰ï¼ŒSTLç®€å•ä½¿ç”¨</td></tr><tr><td>1117</td><td>ğŸ¸</td><td>ï¼ˆåªæƒ³ç»™åŠä¸ªğŸ¸ï¼‰ï¼Œä¼šC++ï¼Œçœ‹æ‡‚è‹±æ–‡é¢˜æ„å°±å¥½ğŸ˜œ</td></tr><tr><td>1114</td><td>ğŸ¸</td><td>å¹¶æŸ¥é›†åŸºç¡€ï¼ˆæ³¨æ„ç»†èŠ‚ï¼‰</td></tr><tr><td>1115</td><td>ğŸ¸</td><td>BSTæ ‘ï¼ŒåŸºç¡€é¢˜ï¼Œæ³¨æ„**&amp;**çš„ä½¿ç”¨</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜-1116-Come-on-Letâ€™s-C-20-åˆ†"><a href="#2-1-ç¬¬ä¸€é¢˜-1116-Come-on-Letâ€™s-C-20-åˆ†" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜ 1116 Come on! Letâ€™s C (20 åˆ†)"></a>2.1 ç¬¬ä¸€é¢˜ <strong>1116 Come on! Letâ€™s C (20 åˆ†)</strong></h2><blockquote><p>æ²¡æœ‰éš¾åº¦ï¼Œmapä¼šç®€å•ä¸€ç‚¹ï¼Œæ³¨æ„å®¡é¢˜</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span>string id<span class="token punctuation">;</span><span class="token keyword">int</span> rank<span class="token punctuation">;</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>rank_list<span class="token punctuation">;</span><span class="token keyword">int</span> K<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>id<span class="token punctuation">;</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>K<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>K<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>id<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s: Are you kidding?\n"</span><span class="token punctuation">,</span>id<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s: Checked\n"</span><span class="token punctuation">,</span>id<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s: Mystery Award\n"</span><span class="token punctuation">,</span>id<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s: Minion\n"</span><span class="token punctuation">,</span>id<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s: Chocolate\n"</span><span class="token punctuation">,</span>id<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rank_list<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜-1117-Eddington-Number-25-åˆ†"><a href="#2-2-ç¬¬äºŒé¢˜-1117-Eddington-Number-25-åˆ†" class="headerlink" title="2.2 ç¬¬äºŒé¢˜ 1117 Eddington Number (25 åˆ†)"></a>2.2 ç¬¬äºŒé¢˜ <strong>1117 Eddington Number (25 åˆ†)</strong></h2><blockquote><p>å¡äº†ä¸€ä¸‹æ—¶é—´ï¼Œä¸¤å±‚forå¾ªç¯è®°å¾—å…ˆæ’åºï¼Œä¸æ»¡è¶³æ¡ä»¶åŠæ—¶ç»ˆæ­¢å¾ªç¯</p><p>åŸºç¡€é¢˜</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>dis<span class="token punctuation">;</span> <span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token operator">></span>b<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>dis<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>dis<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dis<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> e<span class="token punctuation">,</span>ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>e<span class="token operator">=</span>n<span class="token punctuation">;</span>e<span class="token operator">>=</span><span class="token number">1</span><span class="token punctuation">;</span>e<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">>=</span>e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>e<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜-1114-Family-Property-25-åˆ†"><a href="#2-3-ç¬¬ä¸‰é¢˜-1114-Family-Property-25-åˆ†" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜ 1114 Family Property (25 åˆ†)"></a>2.3 ç¬¬ä¸‰é¢˜ <strong>1114 Family Property (25 åˆ†)</strong></h2><blockquote><p>å¹¶æŸ¥é›†åŸºç¡€é¢˜ï¼Œä¸€æ¬¡ACï¼Œæ³¨æ„ç»†èŠ‚ï¼ˆæ²¡æœ‰å¡æ—¶é—´å’Œç©ºé—´ï¼ŒSTLå¤§èƒ†è€èµ·æ¥ğŸ¤£ï¼‰</p><ul><li>estate\areaåˆ†åˆ«å­˜å‚¨æ¯ä¸€ä¸ªä¸ªä½“çš„ä¿¡æ¯</li><li>root_estate\root_areaå­˜å‚¨å®¶æ—ä¿¡æ¯</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">10009</span><span class="token punctuation">;</span><span class="token keyword">int</span> f<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> a<span class="token operator">=</span>x<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token operator">!=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>x<span class="token operator">=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å‡å°‘æ—¶é—´å¤æ‚åº¦</span><span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token operator">!=</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> temp<span class="token operator">=</span>a<span class="token punctuation">;</span>a<span class="token operator">=</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">=</span>x<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">void</span> <span class="token function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>maxn<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Union</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> fa<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> fb<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>fa<span class="token operator">&lt;</span>fb<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token operator">=</span>fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>fa<span class="token punctuation">]</span><span class="token operator">=</span>fb<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¹¶æŸ¥é›†</span><span class="token keyword">int</span> root<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æ ¹èŠ‚ç‚¹ä¸­ä¿å­˜çš„å®¶æ—æ•°é‡</span><span class="token keyword">int</span> root_estate<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> root_area<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> estate<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æˆ¿äº§ä¸ªæ•°</span><span class="token keyword">int</span> area<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•é¢ç§¯ </span><span class="token keyword">int</span> id<span class="token punctuation">,</span>fid<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>num<span class="token punctuation">,</span>cid<span class="token punctuation">,</span>e<span class="token punctuation">,</span>a<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>ids<span class="token punctuation">;</span><span class="token comment">//å­˜å‚¨æ¶‰åŠåˆ°çš„ç”¨æˆ·æ•°é‡ </span><span class="token keyword">struct</span> <span class="token class-name">Ans</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token punctuation">;</span><span class="token keyword">double</span> area<span class="token punctuation">;</span><span class="token keyword">double</span> estate<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Ans a<span class="token punctuation">,</span>Ans b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>area<span class="token operator">!=</span>b<span class="token punctuation">.</span>area<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>area<span class="token operator">></span>b<span class="token punctuation">.</span>area<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>id<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>id<span class="token punctuation">,</span><span class="token operator">&amp;</span>fid<span class="token punctuation">,</span><span class="token operator">&amp;</span>mid<span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>fid<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Union</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>mid<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Union</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Union</span><span class="token punctuation">(</span>cid<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>e<span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>estate<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>e<span class="token punctuation">;</span>area<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//è¾“å‡ºç­”æ¡ˆ </span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>ids<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>ids<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span><span class="token operator">*</span>it<span class="token punctuation">;</span><span class="token keyword">int</span> fid<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//è®¡ç®—ä¸€ä¸ªå®¶æ—çš„æ•°é‡</span>root_estate<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token operator">+=</span>estate<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>root_area<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token operator">+=</span>area<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> vector<span class="token operator">&lt;</span>Ans<span class="token operator">></span>ans<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>family<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>ids<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>ids<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span><span class="token operator">*</span>it<span class="token punctuation">;</span><span class="token keyword">int</span> fid<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>family<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>fid<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>family<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>family<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>family<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> fid<span class="token operator">=</span><span class="token operator">*</span>it<span class="token punctuation">;</span>Ans temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>id<span class="token operator">=</span>fid<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num<span class="token operator">=</span>root<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">;</span>temp<span class="token punctuation">.</span>estate<span class="token operator">=</span><span class="token keyword">double</span><span class="token punctuation">(</span>root_estate<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span>root<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">;</span>temp<span class="token punctuation">.</span>area<span class="token operator">=</span><span class="token keyword">double</span><span class="token punctuation">(</span>root_area<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span>root<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%04d %d %.3f %.3f\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>estate<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>area<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//è¿™ä¸ªæ˜¯å¾ˆä¹…ä»¥å‰äº¤çš„22åˆ†ç­”æ¡ˆ(æ²¡å•¥å‚è€ƒä»·å€¼ï¼Œç¼…æ€€å­)1114:22åˆ† </span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>ids<span class="token punctuation">;</span><span class="token comment">//è®¾ç½®ç”¨æ¥å­˜æ”¾äººæ•°çš„é›†åˆ </span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">100000</span><span class="token punctuation">;</span> <span class="token keyword">int</span> f<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">double</span> pe<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">double</span> pa<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> isRoot<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Family</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">double</span> estate<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">double</span> area<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">double</span> isEstate<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">double</span> isArea<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Family a<span class="token punctuation">,</span>Family b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>area<span class="token operator">!=</span>b<span class="token punctuation">.</span>area<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>area<span class="token operator">></span>b<span class="token punctuation">.</span>area<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>id<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¹¶æŸ¥é›†çš„æ¨¡æ¿</span><span class="token keyword">int</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">int</span> idx<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> a<span class="token operator">=</span>idx<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>idx<span class="token operator">!=</span>f<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>idx<span class="token operator">=</span>f<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token operator">!=</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>a<span class="token punctuation">;</span>a<span class="token operator">=</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">=</span>idx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> idx<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Union</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> fa<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> fb<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>fa<span class="token operator">!=</span>fb<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>fa<span class="token operator">&lt;</span>fb<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token operator">=</span>fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>fa<span class="token punctuation">]</span><span class="token operator">=</span>fb<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> father<span class="token punctuation">,</span>mother<span class="token punctuation">,</span>child<span class="token punctuation">;</span><span class="token keyword">int</span> K<span class="token punctuation">;</span><span class="token keyword">double</span> estate<span class="token punctuation">,</span>area<span class="token punctuation">;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>maxn<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ„Ÿè§‰æ˜¯ä¸æ˜¯åˆå¹¶çš„æ—¶å€™ç»“ç‚¹éƒ¨åˆ†æ²¡åˆå¹¶çš„ä¸Šå» </span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>id<span class="token punctuation">,</span><span class="token operator">&amp;</span>father<span class="token punctuation">,</span><span class="token operator">&amp;</span>mother<span class="token punctuation">,</span><span class="token operator">&amp;</span>K<span class="token punctuation">)</span><span class="token punctuation">;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>father<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>father<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Union</span><span class="token punctuation">(</span>father<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>mother<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Union</span><span class="token punctuation">(</span>mother<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>K<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>ids<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Union</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lf %lf"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>estate<span class="token punctuation">,</span><span class="token operator">&amp;</span>area<span class="token punctuation">)</span><span class="token punctuation">;</span>pe<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>estate<span class="token punctuation">;</span>pa<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">=</span>area<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¯¹äºæ€»çš„ç¤¾åŒºçš„ç»Ÿè®¡</span><span class="token keyword">int</span> count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>master<span class="token punctuation">;</span><span class="token comment">//å­˜æ”¾å®¶ä¸»çš„ç¼–å· </span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>ids<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>ids<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>isRoot<span class="token punctuation">[</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//å­˜æ”¾çš„æ˜¯å½“å‰å®¶ä¸»æ‰€åœ¨çš„å®¶åº­äººæ•° </span>master<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isEstate<span class="token punctuation">[</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+=</span>pe<span class="token punctuation">[</span><span class="token operator">*</span>it<span class="token punctuation">]</span><span class="token punctuation">;</span>isArea<span class="token punctuation">[</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+=</span>pa<span class="token punctuation">[</span><span class="token operator">*</span>it<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//ä¸‹é¢ç”±masterçš„ç´¢å¼•æ¥æ„å»ºå®¶æ—ç»“æ„ä½“</span>count<span class="token operator">=</span>master<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Family<span class="token operator">></span><span class="token function">family</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>master<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>master<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token operator">=</span><span class="token operator">*</span>it<span class="token punctuation">;</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token operator">=</span>isRoot<span class="token punctuation">[</span><span class="token operator">*</span>it<span class="token punctuation">]</span><span class="token punctuation">;</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>area<span class="token operator">=</span>isArea<span class="token punctuation">[</span><span class="token operator">*</span>it<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token operator">*</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>estate<span class="token operator">=</span>isEstate<span class="token punctuation">[</span><span class="token operator">*</span>it<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token operator">*</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">sort</span><span class="token punctuation">(</span>family<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>family<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ€»æ•°</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%04d %d %.3f %.3f\n"</span><span class="token punctuation">,</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">,</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>estate<span class="token punctuation">,</span>family<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>area<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜-1115-Counting-Nodes-in-a-BST-30-åˆ†"><a href="#2-4-ç¬¬å››é¢˜-1115-Counting-Nodes-in-a-BST-30-åˆ†" class="headerlink" title="2.4 ç¬¬å››é¢˜ 1115 Counting Nodes in a BST (30 åˆ†)"></a>2.4 ç¬¬å››é¢˜ <strong>1115 Counting Nodes in a BST (30 åˆ†)</strong></h2><blockquote><p>BSTå»ºæ ‘ï¼Œå±‚æ¬¡éå†</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//è®¡ç®—æœ€åä¸¤å±‚ç»“ç‚¹æ•°</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">;</span><span class="token keyword">int</span> levelCnt<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node <span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">int</span> level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">,</span><span class="token keyword">int</span> val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node<span class="token operator">*</span>node<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>node<span class="token operator">-></span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>root<span class="token operator">=</span>node<span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token operator">></span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> max_level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">levelTravel</span><span class="token punctuation">(</span>Node<span class="token operator">*</span> <span class="token operator">&amp;</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>queue<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span>q<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node<span class="token operator">*</span>top<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>levelCnt<span class="token punctuation">[</span>top<span class="token operator">-></span>level<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>max_level<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>max_level<span class="token punctuation">,</span>top<span class="token operator">-></span>level<span class="token punctuation">)</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>temp<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>left<span class="token punctuation">;</span>temp<span class="token operator">-></span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>right<span class="token punctuation">;</span>temp<span class="token operator">-></span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">build</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">levelTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d + %d = %d"</span><span class="token punctuation">,</span>levelCnt<span class="token punctuation">[</span>max_level<span class="token punctuation">]</span><span class="token punctuation">,</span>levelCnt<span class="token punctuation">[</span>max_level<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>levelCnt<span class="token punctuation">[</span>max_level<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>levelCnt<span class="token punctuation">[</span>max_level<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒé“¾æ¥"><a href="#3-å‚è€ƒé“¾æ¥" class="headerlink" title="3. å‚è€ƒé“¾æ¥"></a>3. å‚è€ƒé“¾æ¥</h1><p>æ— </p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1164-1167</title>
      <link href="/2022/02/04/pta-jia-ji-mo-ni-1164-1167/"/>
      <url>/2022/02/04/pta-jia-ji-mo-ni-1164-1167/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p><del>æœ€åä¸€å¼¹ğŸ¤£</del>ï¼Œå¼€ä¸ªç©ç¬‘å•Šå’§ï¼ˆå‰é¢è¿˜æœ‰å¥½å¤šå€ºğŸ˜…ï¼‰</p><p>ç›®å‰1140-1147ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯â€”â€”æ•´ä½“æ²¡æœ‰ç‰¹åˆ«éš¾çš„ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯éš¾åº¦â‰¥ğŸ¸ğŸ¸ğŸ¸çš„é¢˜ç›®ï¼Œå½“ç„¶èœè¿˜æ˜¯èœå¾—ä¾æ—§ğŸ˜ï¼Œå›å®¶æ•ˆç‡çœŸçš„â€¦â€¦æ˜‚ä¸€è¨€éš¾å°½ï¼‰ï¼Œè€Œä¸”éšç€é¢˜å·çš„å¢åŠ ï¼Œå¥—è·¯é¢˜æ„Ÿè§‰æ²¡æœ‰å˜åŒ–ï¼Œæ¨¡æ¿è¯¥èƒŒè¿˜æ˜¯å¾—èƒŒï¼Œæœ€å¥½æ˜¯èƒ½å¤Ÿçµæ´»è¿ç”¨ï¼Œå› ä¸ºä¸€èˆ¬å››é“é¢˜ç›®æœ‰ä¸€é“è€ƒå¯Ÿçš„æ˜¯åº”å˜ï¼ˆä¿—ç§°â€œå¡åˆ†é¢˜â€ï¼‰</p><p>æ„Ÿè§‰ptaå¯ä»¥æ‰“åŸºç¡€~ä½†æ˜¯æ¶‰åŠçš„çŸ¥è¯†ç‚¹è¿˜æ˜¯ä¸å…¨ï¼Œå‡†å¤‡æœºè¯•è¿˜æ˜¯å¾—ç»ƒæ¯”è¾ƒå¹¿â€¦â€¦ä¸ç„¶å°±æ˜¯ç™½ç»™ğŸ˜“</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1164</td><td>ğŸ¸</td><td>å­—ç¬¦ä¸²å¤„ç†+çŸ©é˜µ</td></tr><tr><td>1165</td><td>ğŸ¸ğŸ˜…</td><td>é“¾è¡¨</td></tr><tr><td>1166</td><td>ğŸ¸</td><td>å›¾çš„ç®€å•åº”ç”¨</td></tr><tr><td>1167</td><td>ğŸ¸</td><td>ä¸­åº+å †ï¼ˆäºŒå‰æ ‘ç®€å•åº”ç”¨ï¼‰</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2.åˆ†é¢˜é¢˜è§£"></a>2.åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜1164-Good-in-C-20-åˆ†"><a href="#2-1-ç¬¬ä¸€é¢˜1164-Good-in-C-20-åˆ†" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜1164 Good in C (20 åˆ†)"></a>2.1 ç¬¬ä¸€é¢˜<strong>1164 Good in C (20 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/1478635767601967104">ã€é¢˜ç›®ä¼ é€é—¨ã€‘</a></p><blockquote><p>å­—ç¬¦ä¸²å¤„ç†ä¸çŸ©é˜µçš„åŸºæœ¬ä½¿ç”¨ï¼Œæ³¨æ„å¿ƒæ€ç¨³ä½~</p><ul><li><p>æ ¼å¼ä¸¥æ ¼æŒ‰ç…§é¢˜ç›®æ„æ€(ä¸å¯ä»¥æ¯›èº)</p></li><li><p>éš¾ç‚¹åœ¨äºå¥å­çš„åˆ‡åˆ†ï¼Œæ¶‰åŠåˆ°stringå­ä¸²å‡½æ•°ä½¿ç”¨</p></li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>string sentence<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span>words<span class="token punctuation">;</span><span class="token comment">//åˆ‡åˆ†å¥å­ </span><span class="token keyword">struct</span> <span class="token class-name">Alpha</span><span class="token punctuation">&#123;</span><span class="token keyword">char</span> matrix<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> Alpha alpha<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">Cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//åˆ‡åˆ†å¥å­</span><span class="token keyword">int</span> len<span class="token operator">=</span>sentence<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> left<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>right<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>string word<span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sentence<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token char">'Z'</span><span class="token operator">&amp;&amp;</span>sentence<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">>=</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>left<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å‰é¢å‡ºç°çš„æ˜¯è¿ç»­çš„å­—æ¯ </span><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>word<span class="token operator">=</span>sentence<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>i<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>words<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">&amp;&amp;</span>i<span class="token operator">-</span>left<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>word<span class="token operator">=</span>sentence<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span>i<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>words<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">void</span> <span class="token function">Print</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token operator">=</span>word<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>row<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>row<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>col<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>col<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰“å°æ¯ä¸€ä¸ªå­—æ¯</span><span class="token keyword">if</span><span class="token punctuation">(</span>col<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>word<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token char">'Z'</span><span class="token operator">&amp;&amp;</span>word<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">>=</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>id<span class="token operator">=</span>word<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'A'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>id<span class="token operator">=</span>word<span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'a'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span>alpha<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">26</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> row<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>row<span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">;</span>row<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> column<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>column<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>column<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>alpha<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span>sentence<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Cut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>words<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">Print</span><span class="token punctuation">(</span>words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜1165-Block-Reversing-25-åˆ†"><a href="#2-2-ç¬¬äºŒé¢˜1165-Block-Reversing-25-åˆ†" class="headerlink" title="2.2 ç¬¬äºŒé¢˜1165 Block Reversing (25 åˆ†)"></a>2.2 ç¬¬äºŒé¢˜<strong>1165 Block Reversing (25 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/1478635841315209216">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>é™æ€åˆ—è¡¨åŸºç¡€é¢˜,ä¸æ˜¯å¾ˆéš¾ï¼Œæ³¨æ„è¾“å‡ºçš„ç»†èŠ‚</p></blockquote><p>ä½†æ˜¯éœ€è¦è®¢æ­£ğŸ˜“</p><p><strong>ç¬¬ä¸€ç‰ˆ:24/25</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> L<span class="token punctuation">,</span>N<span class="token punctuation">,</span>num<span class="token punctuation">;</span><span class="token keyword">int</span> head<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span><span class="token keyword">int</span> addr<span class="token punctuation">;</span><span class="token keyword">int</span> next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>Node<span class="token operator">></span>nodes<span class="token punctuation">;</span><span class="token keyword">int</span> addr<span class="token punctuation">,</span>val<span class="token punctuation">,</span>next_node<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>list1<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>head<span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>L<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>addr<span class="token punctuation">,</span><span class="token operator">&amp;</span>val<span class="token punctuation">,</span><span class="token operator">&amp;</span>next_node<span class="token punctuation">)</span><span class="token punctuation">;</span>Node temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>addr<span class="token operator">=</span>addr<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>next<span class="token operator">=</span>next_node<span class="token punctuation">;</span>nodes<span class="token punctuation">[</span>addr<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é¦–å…ˆ</span><span class="token keyword">int</span> p<span class="token operator">=</span>head<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>list1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">=</span>nodes<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//list1ä¸­å­˜æ”¾ :å¦‚ä½•è¾“å‡º</span><span class="token comment">//0 1 2   3 4 5  6 7</span><span class="token keyword">int</span> n<span class="token operator">=</span>N<span class="token operator">/</span>L<span class="token operator">+</span><span class="token punctuation">(</span>N<span class="token operator">%</span>L<span class="token operator">==</span><span class="token number">0</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> res<span class="token operator">=</span>N<span class="token operator">%</span>L<span class="token punctuation">;</span> <span class="token keyword">int</span> fid<span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token punctuation">;</span>i<span class="token operator">>=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">=</span>res<span class="token punctuation">;</span>fid<span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>L<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>num<span class="token operator">=</span>L<span class="token punctuation">;</span>fid<span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>L<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>res<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>fid<span class="token punctuation">;</span>j<span class="token operator">&lt;</span>fid<span class="token operator">+</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" %05d\n"</span><span class="token punctuation">,</span>list1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d"</span><span class="token punctuation">,</span>list1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>list1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" -1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¬¬äºŒç‰ˆï¼šAC</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> head<span class="token punctuation">,</span>n<span class="token punctuation">,</span>block<span class="token punctuation">;</span><span class="token keyword">int</span> arr<span class="token punctuation">,</span>val<span class="token punctuation">,</span>nex<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> arr<span class="token punctuation">;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span><span class="token keyword">int</span> next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>Node<span class="token operator">></span>nodes<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>list0<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>head<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>block<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>arr<span class="token punctuation">,</span><span class="token operator">&amp;</span>val<span class="token punctuation">,</span><span class="token operator">&amp;</span>nex<span class="token punctuation">)</span><span class="token punctuation">;</span>Node temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>arr<span class="token operator">=</span>arr<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>next<span class="token operator">=</span>nex<span class="token punctuation">;</span>nodes<span class="token punctuation">[</span>arr<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> p<span class="token operator">=</span>head<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>list0<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">=</span>nodes<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">.</span>next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ”¹å˜ï¼Œè¾“å‡º: 0 1 2   3 4 5   6 7 </span><span class="token comment">//1 2 3 4    5 6 7 8</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>list0<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> res<span class="token operator">=</span>len<span class="token operator">%</span>block<span class="token punctuation">;</span><span class="token keyword">int</span> times<span class="token operator">=</span>len<span class="token operator">/</span>block<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span>times<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//printf("éœ€è¦%dæ¬¡\n",times);</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>times<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> first<span class="token operator">=</span><span class="token punctuation">(</span>times<span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token operator">*</span>block<span class="token punctuation">;</span><span class="token comment">//printf("first=%d\n",first);</span><span class="token keyword">int</span> num<span class="token operator">=</span>block<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>res<span class="token punctuation">)</span>num<span class="token operator">=</span>res<span class="token punctuation">;</span><span class="token comment">//printf("num=%d\n",num); </span><span class="token comment">//è¾“å‡º </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" %05d\n"</span><span class="token punctuation">,</span>list0<span class="token punctuation">[</span>first<span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d"</span><span class="token punctuation">,</span>list0<span class="token punctuation">[</span>first<span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>arr<span class="token punctuation">,</span>list0<span class="token punctuation">[</span>first<span class="token operator">+</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" -1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/*ä¸€ä¸ªæµ‹è¯•ç‚¹ï¼š00100 8 471120 7 8866600000 4 9999900100 1 1230968237 6 7112033218 3 0000099999 5 6823788666 8 -112309 2 33218éœ€è¦2æ¬¡00100 1 1230912309 2 3321833218 3 0000000000 4 -1*/</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜-1166-Summit-25-åˆ†"><a href="#2-3-ç¬¬ä¸‰é¢˜-1166-Summit-25-åˆ†" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜ 1166 Summit (25 åˆ†)"></a>2.3 ç¬¬ä¸‰é¢˜ <strong>1166 Summit (25 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/1478635919459287040">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>å›¾è®ºåŸºç¡€é¢˜ï¼š</p><p>ğŸ¤£é‚»æ¥å›¾ï¼Œä¸å¡æ—¶é—´å’Œå†…å­˜ï¼Œæ”¾å¿ƒå†™</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>l<span class="token punctuation">;</span><span class="token keyword">int</span> a <span class="token punctuation">,</span>b<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>relation<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>q<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>visnum<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span>isin<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>relation<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>visnum<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isin<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span>relation<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>relation<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>cnt<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>cnt<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">fill</span><span class="token punctuation">(</span>visnum<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>visnum<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>isin<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>isin<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>l<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isin<span class="token punctuation">[</span>q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>l<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span>q<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>relation<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> fid<span class="token operator">=</span>relation<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>visnum<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è®¡ç®— 1 ä¸åˆæ³• 2 æœ‰äººå¿˜è®°é‚€è¯· </span><span class="token keyword">int</span> flag<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">int</span> ans<span class="token operator">=</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>id<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>id<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isin<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>visnum<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">!=</span>l<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Area %d needs help.\n"</span><span class="token punctuation">,</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isin<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>visnum<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">==</span>l<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>flag<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Area %d may invite more people, such as %d.\n"</span><span class="token punctuation">,</span>cnt<span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Area %d is OK.\n"</span><span class="token punctuation">,</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜-1167-Cartesian-Tree-30-åˆ†"><a href="#2-4-ç¬¬å››é¢˜-1167-Cartesian-Tree-30-åˆ†" class="headerlink" title="2.4 ç¬¬å››é¢˜ 1167 Cartesian Tree (30 åˆ†)"></a>2.4 ç¬¬å››é¢˜ <strong>1167 Cartesian Tree (30 åˆ†)</strong></h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/1478636026017230848">ã€é¢˜ç›®é“¾æ¥ã€‘</a></p><blockquote><p>ç®€å•é¢˜ï¼Œå±äºæ˜¯ä¸­åº+å †æ’åºé‡å»ºæ ‘ç»“æ„çš„ä¸€ç±»é¢˜ï¼ˆç±»ä¼¼ä¸­åº+ååº||ä¸­åº+å…ˆåºï¼‰ï¼Œéš¾åº¦è¦ç®€å•ä¸€ç‚¹ï¼Œæ¯æ¬¡ä»ä¸­åºåºåˆ—(inL,inR)ä¹‹é—´æ‰¾åˆ°æœ€å°çš„ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå·¦å³åºåˆ—åˆ†åˆ«é€’å½’ä¸ºä¸‹ä¸€æ¬¡çš„å·¦å³å­æ ‘</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> INF<span class="token operator">=</span><span class="token number">99999999</span><span class="token punctuation">;</span><span class="token comment">//å°é¡¶å †ä¸­åºéå†è¾“å‡ºçš„ç»“æœ---->å±‚åºéå†è¾“å‡ºç»“æœ</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node<span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>in<span class="token punctuation">;</span>Node<span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> inL<span class="token punctuation">,</span><span class="token keyword">int</span> inR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inR<span class="token operator">&lt;</span>inL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span><span class="token keyword">int</span> min_num<span class="token operator">=</span>INF<span class="token punctuation">;</span><span class="token keyword">int</span> min_id<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span>inL<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>inR<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>in<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">&lt;</span>min_num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>min_num<span class="token operator">=</span>in<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>min_id<span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>min_num<span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>inL<span class="token punctuation">,</span>min_id<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>min_id<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>inR<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å±‚æ¬¡éå†</span><span class="token keyword">void</span> <span class="token function">levelTravel</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>queue<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span>q<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node<span class="token operator">*</span>top<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>temp<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>left<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>top<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>top<span class="token operator">-></span>right<span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>top<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span>in<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>N<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">levelTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>~~ç¢ç¢å¿µï¼Œè¿™å¹´çš„è€ƒé¢˜æ¯”è¾ƒeasy~~~</p><h1 id="3-å‚è€ƒé“¾æ¥"><a href="#3-å‚è€ƒé“¾æ¥" class="headerlink" title="3. å‚è€ƒé“¾æ¥"></a>3. å‚è€ƒé“¾æ¥</h1><p>æœ¨æœ‰~</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1160-1163</title>
      <link href="/2022/02/03/pta-jia-ji-mo-ni-1160-1163/"/>
      <url>/2022/02/03/pta-jia-ji-mo-ni-1160-1163/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>å¡åœ¨äº†ç¬¬ä¸€é¢˜â€¦â€¦ç„¶åæ²¡æœ‰â²</p><p>è¿˜å¥½ä¸æ˜¯è€ƒè¯•â€¦â€¦ä¸ç„¶å¿ƒæ€å¯ä»¥è¯´ç‚¸å¾—æ²¡è¾¹äº†ğŸ˜±</p><p>ä½†æ˜¯å…¶ä»–çš„é¢˜ç›®æ¯”è¾ƒåŸºç¡€ï¼ŒDijkstraéœ€è¦å¥½å¥½å¤ä¹ ï¼Œå¥½ä¹…æ²¡åšè¿‡äº†</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1160</td><td>ğŸ¸ğŸ¸</td><td>æ•°å­¦+æ‰¾è§„å¾‹+<strong>æœç´¢DFS+å‰ªæï¼ˆä¸ªäººè§‰å¾—éœ€è¦ä¸‰åˆ·ï¼‰</strong></td></tr><tr><td>1161</td><td>ğŸ¸</td><td>é“¾è¡¨</td></tr><tr><td>1162</td><td>ğŸ¸</td><td>äºŒå‰æ ‘éå†</td></tr><tr><td>1163</td><td>ğŸ¸</td><td>Dijkstra</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜"><a href="#2-1-ç¬¬ä¸€é¢˜" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜"></a>2.1 ç¬¬ä¸€é¢˜</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/1478635415925800960">1160 Forever(20 åˆ†)</a></p><blockquote><p>æ¯”è¾ƒæå¿ƒæ€çš„ä¸€é¢˜ï¼Œä¸€å¼€å§‹æ³¨æ„åˆ°äº†æœ«å°¾çš„æ•°å­—åªå¯ä»¥æ˜¯9ï¼Œä¸ç„¶<code>n=m+1</code>æ˜¯æ— æ³•å¯¼å‡º<code>nä¸må…¬å› æ•°å¤§äº2</code>çš„ï¼Œä½†æ˜¯ç¬¬ä¸€éä»£ç å®Œå…¨æ²¡æœ‰æ¶‰åŠè¿™ä¸ªâ€¦â€¦å› ä¸ºä»¥ä¸ºä¸æ˜¯å¾ˆå¤§çš„ç‚¹â€¦â€¦</p></blockquote><p><strong>ç¬¬ä¸€æ¬¡ï¼š2/20</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token comment">//ç´ æ•°åˆ¤æ–­ </span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span>ll x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">5</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//æœ€å¤§å…¬å› æ•°:è¾—è½¬ç›¸é™¤æ³• a>b </span>ll <span class="token function">maxDiv</span><span class="token punctuation">(</span>ll a<span class="token punctuation">,</span>ll b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&lt;</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ll r<span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>r<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>r<span class="token operator">=</span>a<span class="token operator">%</span>b<span class="token punctuation">;</span>a<span class="token operator">=</span>b<span class="token punctuation">;</span>b<span class="token operator">=</span>r<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">struct</span> <span class="token class-name">Ans</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>ll num<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//è®¡ç®—æ•´æ•°æ¯ä½ç›¸åŠ ä¹‹å’Œ</span><span class="token keyword">int</span>  <span class="token function">CountDigits</span><span class="token punctuation">(</span>string now<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> len<span class="token operator">=</span>now<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">+=</span>now<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token char">'0'</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å®¹è®¸çš„æœ€å°å€¼</span><span class="token keyword">int</span> lowest<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">CountLowest</span><span class="token punctuation">(</span><span class="token keyword">int</span> digit_num<span class="token punctuation">,</span><span class="token keyword">int</span> sum<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&amp;</span> lowest<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>digit_num<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>lowest<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>lowest<span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>digit_num<span class="token operator">--</span><span class="token punctuation">;</span><span class="token keyword">int</span> temp<span class="token operator">=</span>sum<span class="token operator">-</span><span class="token number">9</span><span class="token operator">*</span>digit_num<span class="token punctuation">;</span>lowest<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>lowest<span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//printf("%dä¸ªæ•°å­— ,å’Œä¸º%d,æœ€å°å€¼%d\n",digit_num+1,sum,lowest);</span><span class="token punctuation">&#125;</span> <span class="token comment">//æ·±æœï¼šæœç´¢æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è§£</span>vector<span class="token operator">&lt;</span>Ans<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">,</span><span class="token keyword">int</span> sum<span class="token punctuation">,</span>string now<span class="token punctuation">,</span><span class="token keyword">int</span> digit_num<span class="token punctuation">,</span><span class="token keyword">int</span> mylow<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//printf("digit_num=%d now=%s\n",digit_num,now.c_str());</span><span class="token comment">//å½“å‰éå†åˆ°çš„æ•°å­—æ˜¯num,å½“å‰å’Œä¸ºsum,nowå­˜å‚¨ç›®å‰çš„æ‰€æœ‰æ•°å­— </span>now<span class="token operator">=</span>now<span class="token operator">+</span><span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>sum<span class="token operator">+=</span>num<span class="token punctuation">;</span>digit_num<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">></span>m<span class="token operator">||</span>digit_num<span class="token operator">></span>k<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//çŸ¥é“æ¥ä¸‹æ¥ä¸å¤Ÿäº†</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">+</span><span class="token number">9</span><span class="token operator">*</span><span class="token punctuation">(</span>k<span class="token operator">-</span>digit_num<span class="token punctuation">)</span><span class="token operator">&lt;</span>m<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span>m<span class="token operator">&amp;&amp;</span>digit_num<span class="token operator">==</span>k<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//1 0  &amp;&amp; 11 10ä¸å¯èƒ½æœ‰å¤§äº2çš„å…¬å› æ•° </span>ll candidate<span class="token operator">=</span><span class="token function">stol</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>string candidate1<span class="token operator">=</span><span class="token function">to_string</span><span class="token punctuation">(</span>candidate<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> dsum<span class="token operator">=</span><span class="token function">CountDigits</span><span class="token punctuation">(</span>candidate1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//printf("&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;dsum=%d m=%d\n",dsum,m);</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token function">maxDiv</span><span class="token punctuation">(</span>dsum<span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Ans temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>n<span class="token operator">=</span>dsum<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num<span class="token operator">=</span>candidate<span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//ç»§ç»­æ¢ç´¢</span><span class="token function">CountLowest</span><span class="token punctuation">(</span>k<span class="token operator">-</span>digit_num<span class="token punctuation">,</span>m<span class="token operator">-</span>sum<span class="token punctuation">,</span>mylow<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>lowest<span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>sum<span class="token punctuation">,</span>now<span class="token punctuation">,</span>digit_num<span class="token punctuation">,</span>mylow<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰¾åˆ°kä¸ªæ•°å­—ç»„æˆçš„æ•´æ•°Aï¼Œå®ƒçš„å’Œæ˜¯m</span><span class="token comment">//n=(A+1)å’Œ</span><span class="token comment">//må’Œnçš„æœ€å¤§å…¬å› æ•°ä¸ºå¤§äº2çš„ç´ æ•°</span><span class="token function">CountLowest</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>m<span class="token punctuation">,</span>lowest<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>lowest<span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case %d\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No Solution\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %lld\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>n<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ans<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¬¬äºŒæ¬¡ï¼šè®¢æ­£</strong></p><p>ç¬¬ä¸€ç‰ˆï¼š10åˆ†</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//æœ‰iä¸ª9,m-n=8+9*(i-1)</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">Prime</span><span class="token punctuation">(</span>ll x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>ll i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ll <span class="token function">gcd</span><span class="token punctuation">(</span>ll a<span class="token punctuation">,</span>ll b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">&lt;</span>b<span class="token punctuation">)</span><span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>ll r<span class="token operator">=</span>b<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>r<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>r<span class="token operator">=</span>a<span class="token operator">%</span>b<span class="token punctuation">;</span>a<span class="token operator">=</span>b<span class="token punctuation">;</span>b<span class="token operator">=</span>r<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">struct</span> <span class="token class-name">Ans</span><span class="token punctuation">&#123;</span>ll num<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> vector<span class="token operator">&lt;</span>Ans<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">int</span> target_sum<span class="token punctuation">;</span><span class="token keyword">int</span> digit_sum<span class="token punctuation">;</span>string nine<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">,</span><span class="token keyword">int</span> num<span class="token punctuation">,</span><span class="token keyword">int</span> sum<span class="token punctuation">,</span>string now<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//cout&lt;&lt;"now "&lt;&lt;now&lt;&lt;endl;</span>pos<span class="token operator">++</span><span class="token punctuation">;</span>sum<span class="token operator">+=</span>num<span class="token punctuation">;</span>now<span class="token operator">+=</span><span class="token function">to_string</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span>target_sum<span class="token operator">&amp;&amp;</span>pos<span class="token operator">==</span>digit_sum<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ans.push_back(stol(now+nine));</span>Ans temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>n<span class="token operator">=</span>n<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>num<span class="token operator">=</span><span class="token function">stol</span><span class="token punctuation">(</span>now<span class="token operator">+</span>nine<span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">></span>target_sum<span class="token operator">||</span>pos<span class="token operator">></span>digit_sum<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span>target_sum<span class="token operator">-</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span>i<span class="token punctuation">,</span>sum<span class="token punctuation">,</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Ans a<span class="token punctuation">,</span>Ans b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>n<span class="token operator">!=</span>b<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>n<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>n<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>num<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>num<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>l<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>l<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case %d\n"</span><span class="token punctuation">,</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> num9<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>num9<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>num9<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æœ«å°¾num9çš„ä¸ªæ•°</span>n<span class="token operator">=</span>m<span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token operator">+</span><span class="token number">9</span><span class="token operator">*</span><span class="token punctuation">(</span>num9<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> div<span class="token operator">=</span><span class="token function">gcd</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">Prime</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//åˆæ³• </span>target_sum<span class="token operator">=</span>m<span class="token operator">-</span>num9<span class="token operator">*</span><span class="token number">9</span><span class="token punctuation">;</span>digit_sum<span class="token operator">=</span>k<span class="token operator">-</span>num9<span class="token punctuation">;</span>nine<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>c<span class="token operator">&lt;</span>num9<span class="token punctuation">;</span>c<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>nine<span class="token operator">+=</span><span class="token string">"9"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span>target_sum<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token comment">//è¾“å‡ºç­”æ¡ˆ</span><span class="token keyword">int</span> len<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> c<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>c<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>c<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %lld\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">.</span>n<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> ans<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No Solution\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒç‰ˆï¼šAC</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Ans</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> A<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">5</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">gcd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//a>b </span><span class="token keyword">return</span> b<span class="token operator">==</span><span class="token number">0</span><span class="token operator">?</span>a<span class="token operator">:</span><span class="token function">gcd</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>a<span class="token operator">%</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">digitSum</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">+=</span><span class="token punctuation">(</span>x<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>x<span class="token operator">/=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>vector<span class="token operator">&lt;</span>Ans<span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">,</span><span class="token keyword">int</span> sum<span class="token punctuation">,</span><span class="token keyword">int</span> rest_k<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>rest_k<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">==</span>m<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> n<span class="token operator">=</span><span class="token function">digitSum</span><span class="token punctuation">(</span>A<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token function">gcd</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>n<span class="token punctuation">,</span>A<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>rest_k<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">9</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//å‰ªæ</span><span class="token keyword">if</span><span class="token punctuation">(</span>sum<span class="token operator">+</span>i<span class="token operator">&lt;=</span>m<span class="token operator">&amp;&amp;</span>sum<span class="token operator">+</span>i<span class="token operator">+</span><span class="token punctuation">(</span>rest_k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">9</span><span class="token operator">>=</span>m<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>A<span class="token operator">*</span><span class="token number">10</span><span class="token operator">+</span>i<span class="token punctuation">,</span>sum<span class="token operator">+</span>i<span class="token punctuation">,</span>rest_k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Ans a<span class="token punctuation">,</span>Ans b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>n<span class="token operator">!=</span>b<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>n<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>n<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>A<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>A<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> times<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>times<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>times<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case %d\n"</span><span class="token punctuation">,</span>times<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//dfsæœç´¢ç­”æ¡ˆ</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">9</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>i<span class="token punctuation">,</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºç­”æ¡ˆ</span><span class="token keyword">int</span> len<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>n<span class="token punctuation">,</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ans<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No Solution\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜"><a href="#2-2-ç¬¬äºŒé¢˜" class="headerlink" title="2.2 ç¬¬äºŒé¢˜"></a>2.2 ç¬¬äºŒé¢˜</h2><blockquote><p>é“¾è¡¨çš„åŸºç¡€é¢˜ï¼ˆæ··åˆSTLï¼‰ï¼Œæ³¨æ„è¾“å‡ºæ ¼å¼ä»¥åŠ-1çš„ä½ç½®</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//é“¾è¡¨æ“ä½œ</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> addr<span class="token punctuation">;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span><span class="token keyword">int</span> next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> head1<span class="token punctuation">;</span><span class="token keyword">int</span> head2<span class="token punctuation">;</span> <span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> addr<span class="token punctuation">,</span>val<span class="token punctuation">,</span>next_addr<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>Node<span class="token operator">></span>nodes<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>v1<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>v2<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">Change</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>v1<span class="token punctuation">,</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>v2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> lena<span class="token operator">=</span>v1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> lenb<span class="token operator">=</span>v2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> j<span class="token operator">=</span>lenb<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>lena<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">!=</span>lena<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d %05d\n"</span><span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d -1\n"</span><span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>j<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>i<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å° </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d %05d\n"</span><span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">,</span>v2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d -1\n"</span><span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token operator">!=</span>lena<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d %05d\n"</span><span class="token punctuation">,</span>v2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>v2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">,</span>v1<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%05d %d -1\n"</span><span class="token punctuation">,</span>v2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>addr<span class="token punctuation">,</span>v2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>head1<span class="token punctuation">,</span><span class="token operator">&amp;</span>head2<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>addr<span class="token punctuation">,</span><span class="token operator">&amp;</span>val<span class="token punctuation">,</span><span class="token operator">&amp;</span>next_addr<span class="token punctuation">)</span><span class="token punctuation">;</span>Node temp<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>addr<span class="token operator">=</span>addr<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>temp<span class="token punctuation">.</span>next<span class="token operator">=</span>next_addr<span class="token punctuation">;</span>nodes<span class="token punctuation">[</span>addr<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> p<span class="token operator">=</span>head1<span class="token punctuation">;</span><span class="token comment">//éå†v1</span><span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node temp<span class="token operator">=</span>nodes<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">=</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//éå†v2</span>p<span class="token operator">=</span>head2<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>p<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node temp<span class="token operator">=</span>nodes<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>v2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">=</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>  <span class="token keyword">int</span> len1<span class="token operator">=</span>v1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> len2<span class="token operator">=</span>v2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>len1<span class="token operator">>=</span><span class="token number">2</span><span class="token operator">*</span>len2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Change</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¤§ å° </span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token function">Change</span><span class="token punctuation">(</span>v2<span class="token punctuation">,</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜"><a href="#2-3-ç¬¬ä¸‰é¢˜" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜"></a>2.3 ç¬¬ä¸‰é¢˜</h2><blockquote><p>è¿™ä¸€é¢˜è€ƒå¯Ÿé™æ€äºŒå‰æ ‘çš„éå†ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯:</p><ul><li>åœ¨æ­£å¸¸çš„åç»­éå†ä¸­éœ€è¦åˆ¤æ–­æ˜¯å¦å‡ºç°æŸä¸€ç»“ç‚¹æ˜¯â€œ+â€ã€â€œ-â€ä¸”æ²¡æœ‰å·¦å­©å­çš„æƒ…å†µï¼ˆä¹Ÿå°±æ˜¯æ­¤æ—¶éè¿ç®—ç¬¦ï¼Œè€Œæ˜¯ç¬¦å·è¡¨ç¤ºï¼‰ï¼Œæ­¤æ—¶ååºéå†æ”¹æˆå‰åºéå†</li><li>rootçš„æŸ¥æ‰¾ä¸»è¦æ˜¯çœ‹è¾“å…¥çš„æ—¶å€™ï¼Œå“ªä¸€ä¸ªç»“ç‚¹æ²¡æœ‰ä½œè¿‡å­©å­</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//é™æ€äºŒå‰æ ‘</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">char</span> data<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> left<span class="token punctuation">;</span><span class="token keyword">int</span> right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Node<span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">postTravel</span><span class="token punctuation">(</span><span class="token keyword">int</span> root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'-'</span><span class="token operator">||</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'+'</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">strlen</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">postTravel</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">postTravel</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">postTravel</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">postTravel</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> root<span class="token punctuation">;</span><span class="token keyword">bool</span> isNotRoot<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s%d%d"</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>isNotRoot<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>left<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>isNotRoot<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>right<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>isNotRoot<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">postTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜"><a href="#2-4-ç¬¬å››é¢˜" class="headerlink" title="2.4 ç¬¬å››é¢˜"></a>2.4 ç¬¬å››é¢˜</h2><blockquote><p>æœ¬æƒ³è¦ä¸è¦æ·±æœå°†æ¯ä¸€ä¸ª(st,ed)å¯¹åº”å¾—æ‰€æœ‰å¯èƒ½æ€§è¾“å‡ºï¼Œå’Œqä¸­è¯¢é—®å¾—åºåˆ—æ¯”è¾ƒï¼Œä¸è¿‡åæ¥ç›´æ¥åœ¨Dijå‡½æ•°ä¸­å°†uçš„åˆå§‹åŒ–å¼•å…¥q,åœ¨ç®—æ³•è¿‡ç¨‹ä¸­ç›´æ¥æ¯”è¾ƒï¼Œæ—¶é—´ç©ºé—´éƒ½å¯ä»¥èŠ‚çœğŸ˜œ</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> INF<span class="token operator">=</span><span class="token number">99999999</span><span class="token punctuation">;</span><span class="token comment">//æ£€æŸ¥ä¸€ä¸ªåºåˆ—æ˜¯å¦æ˜¯dijkstraåºåˆ—</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">1009</span><span class="token punctuation">;</span><span class="token keyword">int</span> graph<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> u<span class="token punctuation">,</span>v<span class="token punctuation">,</span>d<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>q<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>temp<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">Dij</span><span class="token punctuation">(</span><span class="token keyword">int</span> st<span class="token punctuation">,</span><span class="token keyword">int</span> ed<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ståˆ°edçš„æœ€çŸ­è·ç¦» </span>temp<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token function">dis</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//èµ·ç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·ç¦»</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">></span><span class="token function">vis</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>vis<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>vis<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>dis<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dis<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>INF<span class="token punctuation">)</span><span class="token punctuation">;</span>dis<span class="token punctuation">[</span>st<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//èµ·ç‚¹è‡ªèº«çš„è·ç¦»ä¸º0</span><span class="token keyword">int</span> id<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//int u=-1,min_dis=INF;</span><span class="token keyword">int</span> u<span class="token operator">=</span>q<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> min_dis<span class="token operator">=</span>dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span>id<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">false</span><span class="token operator">&amp;&amp;</span>dis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>min_dis<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>u<span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>temp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>v<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>v<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>dis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">></span>graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+</span>dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>dis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span>graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+</span>dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>u<span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">,</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span>d<span class="token punctuation">;</span>graph<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">=</span>d<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è¯¢é—®åºåˆ— </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>q<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å¤„ç†</span><span class="token keyword">int</span> st<span class="token operator">=</span>q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ed<span class="token operator">=</span>q<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">Dij</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span>ed<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒé“¾æ¥"><a href="#3-å‚è€ƒé“¾æ¥" class="headerlink" title="3. å‚è€ƒé“¾æ¥"></a>3. å‚è€ƒé“¾æ¥</h1><ol><li><a href="https://blog.csdn.net/j___t/article/details/100696013">1160åšå®¢æ€è·¯è®²è§£</a></li><li><a href="https://blog.csdn.net/cwtnice/article/details/107108972">1160åšå®¢é¢˜è§£</a>ï¼ˆæ¯”è¾ƒç®€å•çš„ä¸€ç‰ˆDFSï¼‰</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”²çº§æ¨¡æ‹Ÿ1156-1159</title>
      <link href="/2022/02/02/pta-jia-ji-mo-ni-1156-1159/"/>
      <url>/2022/02/02/pta-jia-ji-mo-ni-1156-1159/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>ä»Šå¤©æ²¡æœ‰è®¡æ—¶ï¼ˆåº”è¯¥è¶…äº†â€¦â€¦ï¼‰å”¯ä¸€æ²¡æœ‰ACçš„æµ‹è¯•ç‚¹å±…ç„¶æ˜¯1158ğŸ˜…ï¼Œæ‰€ä»¥å€’æ•°ä¸¤é¢˜å°å¿ƒä¸ºä¸Šï¼Œç¨³ä½å¿ƒæ€~</p><p>æœ¬æ¬¡ä½œä¸šæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><ul><li>ç®€å•æ•°å­¦</li><li>å­—ç¬¦ä¸²å¤„ç†+ç»“æ„ä½“æ’åº+<strong>STLï¼ˆå¯é€‰ï¼‰</strong></li><li>å¹¶æŸ¥é›†</li><li>STLä½¿ç”¨+æ ‘</li></ul><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1156</td><td>ğŸ¸</td><td>ç®€å•æ•°å­¦ï¼ˆç´ æ•°åˆ¤æ–­ï¼‰</td></tr><tr><td>1157</td><td>ğŸ¸</td><td>å­—ç¬¦ä¸²å¤„ç†+ç»“æ„ä½“æ’åº</td></tr><tr><td>1158</td><td>ğŸ¸ğŸ¸</td><td>å¹¶æŸ¥é›†+STL</td></tr><tr><td>1159</td><td>ğŸ¸ğŸ¸</td><td>æ ‘ï¼ˆéš¾åº¦è¿˜å¯ä»¥ï¼Œè™½ç„¶ä»£ç é•¿åº¦æ¯”è¾ƒâ€¦â€¦ä½†æ˜¯è€ƒå¯ŸåŸºç¡€ï¼Œæ²¡æœ‰å¡æ—¶é—´ï¼‰</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1156"><a href="#2-1-ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1156" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1156"></a>2.1 ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1156</h2><p>è€ƒå¯Ÿç®€å•æ•°å­¦ï¼š</p><blockquote><p>ç»™å®šä¸€ä¸ªNï¼Œå¦‚æœ<code>N+6å’ŒNåŒæ—¶ä¸ºç´ æ•°</code> æˆ–è€…<code>N-6å’ŒNåŒæ—¶ä¸ºç´ æ•°</code>åˆ™è®¤ä¸ºæ˜¯sexyçš„æ•°å­—</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">5</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> x<span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isSexy</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">isPrime</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">isPrime</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isSexy</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>x<span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>x<span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>x<span class="token operator">+</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token operator">=</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isSexy</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1157"><a href="#2-2-ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1157" class="headerlink" title="2.2 ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1157"></a>2.2 ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1157</h2><blockquote><p>å­—ç¬¦ä¸²å¤„ç†ï¼‹ç»“æ„ä½“æ’åºï¼šç®€å•é¢˜</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> N<span class="token punctuation">;</span><span class="token keyword">int</span> M<span class="token punctuation">;</span> map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>alumni<span class="token punctuation">;</span> vector<span class="token operator">&lt;</span>string<span class="token operator">></span>comer<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span>ans<span class="token punctuation">;</span>string temp<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>string a<span class="token punctuation">,</span>string b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span>b<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span>b<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>string tempa<span class="token operator">=</span>a<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>string tempb<span class="token operator">=</span>b<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> tempa<span class="token operator">&lt;</span>tempb<span class="token punctuation">;</span><span class="token comment">//å‡ºç”Ÿæ—¥æœŸå°çš„ </span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>temp<span class="token punctuation">;</span>alumni<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span>comer<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>comer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>alumni<span class="token punctuation">[</span>comer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>comer<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">sort</span><span class="token punctuation">(</span>comer<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>comer<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>comer<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1158"><a href="#2-3-ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1158" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1158"></a>2.3 ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1158</h2><blockquote><p>æ¯”è¾ƒé­”å¹»çš„ä¸€é“é¢˜ï¼š</p><p>æ€è·¯ä¸æ˜¯å¾ˆéš¾ï¼Œæ³¨æ„ç»†èŠ‚å°±å¥½~</p><p><strong>æ€è·¯1</strong>ï¼šç»•å¼€äº†å¹¶æŸ¥é›†ï¼ˆå› ä¸ºå¿˜è®°äº†ï¼‰â€¦â€¦ç„¶åæ¯å…·äº†</p><p>å½“æˆ‘æ³¨é‡Šæ‰61è¡Œï¼Œç¬¬äºŒä¸ªæµ‹è¯•ç‚¹ä¸è¿‡ğŸ™„</p><p>å½“æˆ‘æ³¨é‡Šæ‰60è¡Œï¼Œç¬¬å››ä¸ªæµ‹è¯•ç‚¹ä¸è¿‡ğŸ™„</p><p>å°±ç¦»è°±çš„éº»éº»ç»™ç¦»è°±å¼€é—¨â€¦â€¦ç¦»è°±åˆ°å®¶äº†ï¼ˆå¥½å­ï¼Œèœæ˜¯åŸç½ªï¼‰</p><p><strong>æ€è·¯2ï¼š</strong></p><p>å¹¶æŸ¥é›†è¾“å‡ºgang</p></blockquote><p><strong>æ€è·¯ä¸€</strong>ï¼š</p><p>å¤æŸ¥çš„æ—¶å€™å‘ç°ä¸ºå•¥å¹¶æŸ¥é›†ç»•ä¸å¼€äº†ï¼ˆa-b b-cæƒ…å†µä¸‹â€¦â€¦aä¸cè¿˜æ˜¯ä¸€çªçš„ğŸ˜‚ï¼‰ï¼Œä¸‹é¢çš„ä»£ç æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>m<span class="token punctuation">,</span>n<span class="token punctuation">;</span><span class="token keyword">int</span> caller<span class="token punctuation">,</span>receiver<span class="token punctuation">,</span>duration<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>suspects<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">1009</span><span class="token punctuation">;</span><span class="token keyword">int</span> hasConnect<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> vis<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°å‡ºçŠ¯ç½ªå›¢ä¼™ </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>vis<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>vis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>caller<span class="token punctuation">,</span><span class="token operator">&amp;</span>receiver<span class="token punctuation">,</span><span class="token operator">&amp;</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">[</span>receiver<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>hasConnect<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">[</span>receiver<span class="token punctuation">]</span><span class="token operator">=</span>duration<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>hasConnect<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">[</span>receiver<span class="token punctuation">]</span><span class="token operator">+=</span>duration<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//çŸ­ç”µè¯,æ‰“å‡ºå»çš„ </span><span class="token keyword">int</span> back<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//å›å¤çš„ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æœ‰æ‰“è¿‡</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">5</span><span class="token operator">&amp;&amp;</span>hasConnect<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">5</span><span class="token operator">&amp;&amp;</span>hasConnect<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span>back<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">></span>k<span class="token operator">&amp;&amp;</span>back<span class="token operator">&lt;=</span><span class="token number">0.2</span><span class="token operator">*</span>cnt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>suspects<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> len<span class="token operator">=</span>suspects<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸Šé¢æ²¡æœ‰é—®é¢˜ </span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"None"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å½¼æ­¤ä¹‹é—´æœ‰è”ç³»çš„å±äºåŒä¸€ä¸ªçŠ¯ç½ªé›†å›¢</span><span class="token function">sort</span><span class="token punctuation">(</span>suspects<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>suspects<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è¾“å‡ºå¤´é¢† </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¾“å‡ºè·Ÿç­ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ç›¸äº’æ‰“ç”µè¯ </span><span class="token comment">//if((hasConnect[suspects[i]][suspects[j]]!=-1&amp;&amp;hasConnect[suspects[j]][suspects[i]]!=-1)&amp;&amp;!vis[suspects[j]])&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">||</span>hasConnect<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" %d"</span><span class="token punctuation">,</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vis<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ€è·¯äºŒ</strong>ï¼š</p><blockquote><p>æ²¡å•¥å¥½è¯´çš„ï¼Œå¹¶æŸ¥é›†å¥½å¥½å¤ä¹ ğŸ™„ï¼Œæ¯”è¾ƒåŸºç¡€</p><p>æ³¨æ„çš„æ˜¯ï¼Œé¦–å…ˆè¿‡æ»¤å¾—åˆ°suspectsæ•°ç»„ï¼Œç„¶åå¯¹å®ƒåšå¹¶æŸ¥é›†çš„æ—¶å€™ï¼Œç”¨äº†map&lt;int,int&gt;å­˜å‚¨çˆ¶èŠ‚ç‚¹</p><p>ä¸ºäº†æ­£åºè¾“å‡ºï¼Œç”¨äº†<code>map&lt;int,set&lt;int&gt; &gt;</code>å­˜å‚¨ç­”æ¡ˆ,é»˜è®¤å‡åº</p></blockquote><p>å‚è€ƒåšå®¢é‡Œç»™äº†DFSå’Œå¹¶æŸ¥é›†ä¸¤ç§åšæ³•ï¼Œç›®å‰æš‚æ—¶å…ˆå·©å›ºå¹¶æŸ¥é›†ğŸ˜</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//å¹¶æŸ¥é›†è§£æ³•</span><span class="token keyword">int</span> k<span class="token punctuation">,</span>m<span class="token punctuation">,</span>n<span class="token punctuation">;</span><span class="token keyword">int</span> caller<span class="token punctuation">,</span>receiver<span class="token punctuation">,</span>duration<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>suspects<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">1009</span><span class="token punctuation">;</span><span class="token keyword">int</span> hasConnect<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> vis<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°å‡ºçŠ¯ç½ªå›¢ä¼™ </span><span class="token comment">//å¹¶æŸ¥é›†æ¨¡æ¿</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>f<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> a<span class="token operator">=</span>x<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token operator">!=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>x<span class="token operator">=</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//å‡å°‘æ—¶é—´å¤æ‚åº¦</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token operator">!=</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>a<span class="token punctuation">;</span>a<span class="token operator">=</span>f<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">=</span>x<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> x<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">void</span> <span class="token function">Union</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> fa<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> fb<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>fa<span class="token operator">&lt;</span>fb<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token operator">=</span>fa<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>fa<span class="token punctuation">]</span><span class="token operator">=</span>fb<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">memset</span><span class="token punctuation">(</span>vis<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>vis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>caller<span class="token punctuation">,</span><span class="token operator">&amp;</span>receiver<span class="token punctuation">,</span><span class="token operator">&amp;</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">[</span>receiver<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>hasConnect<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">[</span>receiver<span class="token punctuation">]</span><span class="token operator">=</span>duration<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>hasConnect<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">[</span>receiver<span class="token punctuation">]</span><span class="token operator">+=</span>duration<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//çŸ­ç”µè¯,æ‰“å‡ºå»çš„ </span><span class="token keyword">int</span> back<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//å›å¤çš„ </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token comment">//æ²¡æœ‰æ‰“è¿‡</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">5</span><span class="token operator">&amp;&amp;</span>hasConnect<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">5</span><span class="token operator">&amp;&amp;</span>hasConnect<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span>back<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">></span>k<span class="token operator">&amp;&amp;</span>back<span class="token operator">&lt;=</span><span class="token number">0.2</span><span class="token operator">*</span>cnt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>suspects<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> len<span class="token operator">=</span>suspects<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸Šé¢æ²¡æœ‰é—®é¢˜ </span><span class="token keyword">if</span><span class="token punctuation">(</span>len<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"None"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//å¹¶æŸ¥é›† </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>f<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ– </span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasConnect<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>hasConnect<span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">Union</span><span class="token punctuation">(</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>suspects<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>ans<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> id<span class="token operator">=</span>suspects<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> fid<span class="token operator">=</span><span class="token function">Find</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>ans<span class="token punctuation">[</span>fid<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¾“å‡ºç­”æ¡ˆ</span><span class="token keyword">for</span><span class="token punctuation">(</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>ans<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>ans<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>temp<span class="token operator">=</span>it<span class="token operator">-></span>second<span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it2<span class="token operator">=</span>temp<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it2<span class="token operator">!=</span>temp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it2<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">*</span>it2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜ï¼šPTAç”²çº§1159"><a href="#2-4-ç¬¬å››é¢˜ï¼šPTAç”²çº§1159" class="headerlink" title="2.4 ç¬¬å››é¢˜ï¼šPTAç”²çº§1159"></a>2.4 ç¬¬å››é¢˜ï¼šPTAç”²çº§1159</h2><blockquote><p>ä¸å¡æ—¶é—´â€¦â€¦æ‰€ä»¥ï¼Œä»£ç è™½ç„¶é•¿ï¼Œä½†æ˜¯éƒ½æ˜¯åŸºç¡€ï¼š</p><ul><li>ä¸­åºéå†+ååºéå†å»ºç«‹æ ‘</li><li>å±‚åºéå†çš„åº”ç”¨ï¼ˆåŸºç¡€ï¼‰</li><li>STLä¸­mapé™ä½ç¼–ç éš¾åº¦</li><li>stringä¸­sscanfçš„ä½¿ç”¨</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span><span class="token keyword">int</span> level<span class="token punctuation">;</span>Node<span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>post<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>in<span class="token punctuation">;</span> <span class="token comment">//æ¨¡æ¿äº†ï¼Œéœ€è¦ç†Ÿæ‚‰æŒæ¡</span>Node<span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> postL<span class="token punctuation">,</span><span class="token keyword">int</span> postR<span class="token punctuation">,</span><span class="token keyword">int</span> inL<span class="token punctuation">,</span><span class="token keyword">int</span> inR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>postL<span class="token operator">></span>postR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>post<span class="token punctuation">[</span>postR<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span>inL<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>inR<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>in<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>post<span class="token punctuation">[</span>postR<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> left_num<span class="token operator">=</span>k<span class="token operator">-</span>inL<span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>postL<span class="token punctuation">,</span>postL<span class="token operator">+</span>left_num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>inL<span class="token punctuation">,</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>postL<span class="token operator">+</span>left_num<span class="token punctuation">,</span>postR<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>inR<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">isFull</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//é™¤äº†å¶å­ç»“ç‚¹ï¼Œéƒ½æœ‰ä¸¤ä¸ªå­©å­</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>root<span class="token operator">-></span>left<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">==</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>root<span class="token operator">-></span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>root<span class="token operator">-></span>left<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">isFull</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">isFull</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>string temp<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>exist<span class="token punctuation">;</span><span class="token comment">//è®°å½•æ˜¯å¦å‡ºç° </span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>levels<span class="token punctuation">;</span><span class="token comment">//è®°å½•å±‚æ•° </span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>father<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>rchild<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>lchild<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">levelTravel</span><span class="token punctuation">(</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>queue<span class="token operator">&lt;</span>Node<span class="token operator">*</span><span class="token operator">></span>q<span class="token punctuation">;</span>root<span class="token operator">-></span>level<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Node <span class="token operator">*</span>top<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>levels<span class="token punctuation">[</span>top<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token punctuation">;</span><span class="token comment">//å±‚æ•° </span>q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Node<span class="token operator">*</span>left<span class="token operator">=</span>top<span class="token operator">-></span>left<span class="token punctuation">;</span>Node<span class="token operator">*</span>right<span class="token operator">=</span>top<span class="token operator">-></span>right<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>left<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>lchild<span class="token punctuation">[</span>top<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span>left<span class="token operator">-></span>val<span class="token punctuation">;</span>left<span class="token operator">-></span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>father<span class="token punctuation">[</span>left<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span>top<span class="token operator">-></span>val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>lchild<span class="token punctuation">[</span>top<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>right<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>rchild<span class="token punctuation">[</span>top<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span>right<span class="token operator">-></span>val<span class="token punctuation">;</span>right<span class="token operator">-></span>level<span class="token operator">=</span>top<span class="token operator">-></span>level<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>father<span class="token punctuation">[</span>right<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span>top<span class="token operator">-></span>val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>rchild<span class="token punctuation">[</span>top<span class="token operator">-></span>val<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>post<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>in<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>post<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>exist<span class="token punctuation">[</span>post<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> isfull<span class="token operator">=</span><span class="token function">isFull</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">levelTravel</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>m<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> len<span class="token operator">=</span>temp<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">==</span><span class="token string">"It is a full tree"</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>isfull<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'t'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//---is the root</span><span class="token keyword">int</span> ask<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"%d is the root"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>ask<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">!=</span><span class="token constant">NULL</span><span class="token operator">&amp;&amp;</span>root<span class="token operator">-></span>val<span class="token operator">==</span>ask<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'s'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//-- and -- are siblings</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"%d and %d are siblings"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span>b<span class="token operator">||</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">==</span>father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'l'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//-- and -- are on the same level</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"%d and %d are on the same level"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>levels<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">==</span>levels<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'p'</span><span class="token punctuation">)</span><span class="token operator">!=</span>string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//32 is the parent of 11</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"%d is the parent of %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">==</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'r'</span><span class="token punctuation">)</span><span class="token operator">!=</span>string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//28 is the right child of 2</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"%d is the right child of %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>rchild<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>rchild<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">==</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'l'</span><span class="token punctuation">)</span><span class="token operator">!=</span>string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//28 is the left child of 2</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>p<span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sscanf</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span><span class="token string">"%d is the left child of %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>lchild<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>lchild<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">==</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://blog.csdn.net/cwtnice/article/details/107204884">PTA1158åšå®¢è®²è§£</a></li><li><a href="https://blog.csdn.net/dnhua/article/details/82866809">c++ä¸­char[]ä¸stringçš„è½¬åŒ–</a></li><li><a href="https://www.jb51.net/article/90495.htm">c++ä¸­çš„sscanf()å‡½æ•°çš„ä½¿ç”¨</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”²çº§æ¨¡æ‹Ÿ1152-1155</title>
      <link href="/2022/02/01/pta-jia-ji-mo-ni-1152-1155/"/>
      <url>/2022/02/01/pta-jia-ji-mo-ni-1152-1155/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡æ¨¡æ‹Ÿæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><ul><li>å­—ç¬¦ä¸²å¤„ç†</li><li>æ’åº+ç»“æ„ä½“</li></ul><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1152</td><td>ğŸ¸</td><td>å­—ç¬¦ä¸²çš„å¤„ç†+åŸºç¡€æ•°å­¦</td></tr><tr><td>1153</td><td>ğŸ¸</td><td>æ’åº+å­—ç¬¦ä¸²å¤„ç†+ç»“æ„ä½“ï¼ˆæ¯”è¾ƒç¹çï¼‰</td></tr><tr><td>1154</td><td>ğŸ•Šå†™è¿‡ï¼Œæš‚æ—¶å’•å’•~</td><td></td></tr><tr><td>1155</td><td>ğŸ•Šå†™è¿‡ï¼Œæš‚æ—¶å’•å’•~</td><td></td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1152"><a href="#2-1-ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1152" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1152"></a>2.1 ç¬¬ä¸€é¢˜ï¼šPTAç”²çº§1152</h2><blockquote><p>åŸºæœ¬çš„å­—ç¬¦ä¸²å¤„ç†ï¼š</p><ul><li>substrçš„ä½¿ç”¨</li><li>stoiçš„è½¬åŒ–</li><li>isPrimeï¼ˆï¼‰ç´ æ•°åˆ¤æ–­</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> L<span class="token punctuation">,</span>k<span class="token punctuation">;</span>string str<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">5</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>L<span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>cin<span class="token operator">>></span>str<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> i<span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>L<span class="token operator">-</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>num<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isPrime</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"404"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>cout<span class="token operator">&lt;&lt;</span>str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1153"><a href="#2-2-ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1153" class="headerlink" title="2.2 ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1153"></a>2.2 ç¬¬äºŒé¢˜ï¼šPTAç”²çº§1153</h2><blockquote><p>ç»“æ„ä½“+æ’åº+å­—ç¬¦ä¸²å¤„ç†</p><p>åŸºç¡€é¢˜ï¼Œæ³¨æ„æ¯ä¸€ç§æƒ…å†µå¦‚æœæŸ¥è¯¢ç»“æœä¸º0éƒ½æœ‰<code>NA</code></p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Player</span><span class="token punctuation">&#123;</span>string cardid<span class="token punctuation">;</span><span class="token keyword">int</span> score<span class="token punctuation">;</span><span class="token keyword">int</span> site<span class="token punctuation">;</span><span class="token keyword">int</span> yy<span class="token punctuation">;</span><span class="token keyword">int</span> mm<span class="token punctuation">;</span><span class="token keyword">int</span> dd<span class="token punctuation">;</span><span class="token keyword">int</span> number<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Player<span class="token operator">></span>player<span class="token punctuation">;</span><span class="token keyword">int</span> type<span class="token punctuation">;</span>string term<span class="token punctuation">;</span>string cardid<span class="token punctuation">;</span><span class="token keyword">int</span> score<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp1</span><span class="token punctuation">(</span>Player a<span class="token punctuation">,</span>Player b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>score<span class="token operator">!=</span>b<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>score<span class="token operator">></span>b<span class="token punctuation">.</span>score<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>cardid<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>cardid<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">struct</span> <span class="token class-name">Ans3</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> site<span class="token punctuation">;</span><span class="token keyword">int</span> Nt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token keyword">bool</span> <span class="token function">cmp3</span><span class="token punctuation">(</span>Ans3 a<span class="token punctuation">,</span>Ans3 b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Nt<span class="token operator">!=</span>b<span class="token punctuation">.</span>Nt<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>Nt<span class="token operator">></span>b<span class="token punctuation">.</span>Nt<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>site<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>site<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">char</span> sign<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>player<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>cardid<span class="token operator">>></span>score<span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cardid<span class="token operator">=</span>cardid<span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token operator">=</span>score<span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>cardid<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>yy<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>cardid<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mm<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>cardid<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dd<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>cardid<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>number<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>cardid<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ‰“å°</span><span class="token comment">//printf("å¤„ç†åçš„ç»“æœï¼š");</span><span class="token comment">//printf("%d %d %d %d %d \n",player[i].site,player[i].yy,player[i].mm,player[i].dd,player[i].number); </span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>player<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>type<span class="token operator">>></span>term<span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token string">"Case "</span><span class="token operator">&lt;&lt;</span>i<span class="token operator">&lt;&lt;</span><span class="token string">":"</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>type<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>term<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>term<span class="token operator">==</span><span class="token string">"A"</span><span class="token punctuation">)</span>sign<span class="token operator">=</span><span class="token char">'A'</span><span class="token punctuation">;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>term<span class="token operator">==</span><span class="token string">"B"</span><span class="token punctuation">)</span>sign<span class="token operator">=</span><span class="token char">'B'</span><span class="token punctuation">;</span><span class="token keyword">else</span> sign<span class="token operator">=</span><span class="token char">'T'</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cardid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span>sign<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cardid<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NA\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>type<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> Nt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>Ns<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> site<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>term<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token operator">==</span>site<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Nt<span class="token operator">++</span><span class="token punctuation">;</span>Ns<span class="token operator">+=</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>score<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>Nt<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NA\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span>Nt<span class="token punctuation">,</span>Ns<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//site ä¸ªæ•°</span><span class="token keyword">int</span> day<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>term<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> year<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>term<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> month<span class="token operator">=</span><span class="token function">stoi</span><span class="token punctuation">(</span>term<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Ans3<span class="token operator">></span><span class="token function">ans3</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dd<span class="token operator">==</span>day<span class="token operator">&amp;&amp;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>mm<span class="token operator">==</span>month<span class="token operator">&amp;&amp;</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>yy<span class="token operator">==</span>year<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans3<span class="token punctuation">[</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token punctuation">]</span><span class="token punctuation">.</span>Nt<span class="token operator">++</span><span class="token punctuation">;</span>ans3<span class="token punctuation">[</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token operator">=</span>player<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>ans3<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ans3<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp3<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Nt<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span>ans3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>site<span class="token punctuation">,</span>ans3<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Nt<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NA\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>ans3<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1154"><a href="#2-3-ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1154" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1154"></a>2.3 ç¬¬ä¸‰é¢˜ï¼šPTAç”²çº§1154</h2><h2 id="2-4-ç¬¬å››é¢˜ï¼šPTAç”²çº§1155"><a href="#2-4-ç¬¬å››é¢˜ï¼šPTAç”²çº§1155" class="headerlink" title="2.4 ç¬¬å››é¢˜ï¼šPTAç”²çº§1155"></a>2.4 ç¬¬å››é¢˜ï¼šPTAç”²çº§1155</h2><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><p>â€¦â€¦</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºä¸€äº›æ•°å­¦çŸ¥è¯†ML01</title>
      <link href="/2022/01/31/guan-yu-yi-xie-shu-xue-zhi-shi-ml01/"/>
      <url>/2022/01/31/guan-yu-yi-xie-shu-xue-zhi-shi-ml01/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çº¿æ€§ä»£æ•°"><a href="#1-çº¿æ€§ä»£æ•°" class="headerlink" title="1. çº¿æ€§ä»£æ•°"></a>1. çº¿æ€§ä»£æ•°</h1><h2 id="1-1-å‘é‡"><a href="#1-1-å‘é‡" class="headerlink" title="1.1 å‘é‡"></a>1.1 å‘é‡</h2><h2 id="1-2-çŸ©é˜µ"><a href="#1-2-çŸ©é˜µ" class="headerlink" title="1.2 çŸ©é˜µ"></a>1.2 çŸ©é˜µ</h2><p>èŒƒæ•°ï¼š</p><p>$c=AÂ·b hence ||c||â‰¤||A||Â·||b||$</p><ul><li>å–å†³äºå¦‚ä½•è¡¡é‡bå’Œcçš„é•¿åº¦</li></ul><p>å¸¸è§èŒƒæ•°ï¼š</p><ul><li><p>çŸ©é˜µèŒƒæ•°ï¼šæœ€å°çš„æ»¡è¶³ä¸Šé¢å…¬å¼çš„å€¼</p></li><li><p>FrobeniusèŒƒæ•°</p><p>$||A||<em>{Frab}=[Î£</em>{ij}{A_{ij}}^2]^{1/2}$</p></li></ul><p>å¯¹ç§°çŸ©é˜µå’Œåå¯¹ç§°çŸ©é˜µ</p><p>æ­£å®šçŸ©é˜µ</p><p>ç½®æ¢çŸ©é˜µ</p><p>ç‰¹å¾å‘é‡ï¼šä¸è¢«çŸ©é˜µæ”¹å˜æ–¹å‘çš„å‘é‡ï¼ˆå¯¹ç§°çŸ©é˜µæ€»æ˜¯å¯ä»¥æ‰¾åˆ°ç‰¹å¾å‘é‡ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„çŸ©é˜µéƒ½å¯ä»¥æ‰¾åˆ°ç‰¹å¾å‘é‡ï¼‰</p><p>ç‰¹å¾å€¼</p><h1 id="2-codingå®ç°"><a href="#2-codingå®ç°" class="headerlink" title="2. codingå®ç°"></a>2. codingå®ç°</h1><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1>]]></content>
      
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> æ•°å­¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1148-1151</title>
      <link href="/2022/01/31/pta-jia-ji-mo-ni-1148-1151/"/>
      <url>/2022/01/31/pta-jia-ji-mo-ni-1148-1151/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1. çŸ¥è¯†ç‚¹æ€»ç»“"></a>1. çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡ä½œä¸šæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><ul><li>æ¨¡æ‹Ÿ</li><li>ç®€å•å›¾è®º</li></ul><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1148</td><td>ğŸ¸ğŸ˜£</td><td>æ¨¡æ‹Ÿï¼Œæ¯”è¾ƒè€ƒå¯Ÿæ€ç»´å…¨é¢æ€§çš„ä¸€é“é¢˜</td></tr><tr><td>1149</td><td>ğŸ¸</td><td>ç®€å•å›¾è®ºï¼ˆé‚»æ¥å›¾å­˜å‚¨ï¼‰ï¼Œç¨³ä½å¿ƒæ€ï¼Œä¸€èˆ¬å‰ä¸¤é¢˜å¡æ—¶é—´ä¹Ÿä¸ä¼šå¡å¾—éå¸¸éš¾</td></tr><tr><td>1150</td><td>ğŸ•Š</td><td>å…ˆé¸½äº†å“ˆï¼Œä¹‹å‰åšè¿‡äº†~</td></tr><tr><td>1151</td><td>ğŸ¸ğŸ¸</td><td>äºŒå‰æ ‘+æ•°ç»„ï¼ˆæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–ï¼‰</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2. åˆ†é¢˜é¢˜è§£"></a>2. åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜"><a href="#2-1-ç¬¬ä¸€é¢˜" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜"></a>2.1 ç¬¬ä¸€é¢˜</h2><blockquote><p>è¿™é¢˜â€¦â€¦ä¸éš¾ğŸ˜…ä½†æ˜¯å¡äº†45min(ç›®å‰ç¬¬ä¸€é“å¡çš„æ—¶é—´æœ€ä¹…çš„ä¸€æ¬¡)ï¼Œ<strong>æ²¡æœ‰æ—¶é—´å¡åˆ†çš„æµ‹è¯•ç‚¹</strong>ï¼Œ<strong>æš´åŠ›æ¨¡æ‹Ÿ</strong>å³å¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æ€ç»´çš„å…¨é¢æ€§ï¼Œå‡å®šiä¸jåˆ†åˆ«ä¸ºå‡è¯ç‹¼å’ŒçœŸè¯ç‹¼ï¼Œåˆ™-v[i]ä¸v[j]æ˜¯ä¸¤ä¸ªæ­£ç¡®äº‹å®ï¼Œè‹¥ä¸ºè´Ÿæ•°ï¼Œåˆ™ç»å¯¹å€¼å¿…é¡»æ˜¯iæˆ–j,è‹¥ä¸ºæ­£æ•°ï¼Œåˆ™å¿…é¡»æ˜¯i,jä¹‹å¤–çš„å…¶ä»–æ•°å­—ï¼›å…¶ä»–çš„â€œäººâ€è®²çœŸè¯çš„è¯ï¼Œè‹¥ä¸ºè´Ÿåˆ™ç»å¯¹å€¼ä¸ºi,jè‹¥ä¸ºæ­£åˆ™å…¶ä»–æ•°å­—ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯æœ‰ä¸€ä¸ªäººè®²è°è¯ï¼Œæ‰€ä»¥å¿…é¡»æœ‰ä¸€ä¸ªç¼–å·ä¸ºâ€œäººâ€çš„ä¸æ»¡è¶³ä¸Šè¿°çº¦æŸ</p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v<span class="token punctuation">;</span> <span class="token keyword">bool</span> <span class="token function">isok</span><span class="token punctuation">(</span><span class="token keyword">int</span> wolf1<span class="token punctuation">,</span><span class="token keyword">int</span> wolf2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//wolf1å‡è¯ï¼Œwolf2çœŸè¯ </span><span class="token comment">//-v[wolf1] v[wolf2]</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>wolf1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>wolf2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>wolf1<span class="token punctuation">]</span><span class="token operator">==</span>v<span class="token punctuation">[</span>wolf2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token comment">//ä¸€å®šæ˜¯ç›¸äº’çŸ›ç›¾çš„è¯ </span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>wolf2<span class="token punctuation">]</span><span class="token operator">==</span>wolf1<span class="token operator">||</span>v<span class="token punctuation">[</span>wolf2<span class="token punctuation">]</span><span class="token operator">==</span>wolf2<span class="token operator">||</span><span class="token operator">-</span>v<span class="token punctuation">[</span>wolf1<span class="token punctuation">]</span><span class="token operator">==</span>wolf2<span class="token operator">||</span><span class="token operator">-</span>v<span class="token punctuation">[</span>wolf1<span class="token punctuation">]</span><span class="token operator">==</span>wolf1<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token comment">//è¿™æ˜¯ä¸¤å¥çœŸè¯ </span><span class="token keyword">int</span> t1<span class="token operator">=</span> <span class="token operator">-</span>v<span class="token punctuation">[</span>wolf1<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> t2<span class="token operator">=</span> v<span class="token punctuation">[</span>wolf2<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t1<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>t1<span class="token operator">!=</span><span class="token operator">-</span>wolf1<span class="token operator">&amp;&amp;</span>t1<span class="token operator">!=</span><span class="token operator">-</span>wolf2<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>t2<span class="token operator">&lt;</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>t2<span class="token operator">!=</span><span class="token operator">-</span>wolf1<span class="token operator">&amp;&amp;</span>t2<span class="token operator">!=</span><span class="token operator">-</span>wolf2<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•è¯´å‡è¯çš„æ¬¡æ•° </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>wolf1<span class="token operator">||</span>i<span class="token operator">==</span>wolf2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span>t1<span class="token operator">||</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span>t2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//printf("isok:1å‡è¯%d\n",i);</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span>wolf1<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span>wolf2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//printf("isok:2å‡è¯%d\n",i);</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>wolf1<span class="token operator">||</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>wolf2<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//printf("isok:3å‡è¯%d\n",i);</span>cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//ä¸¤ä¸ªç‹¼äººï¼Œä¸€ä¸ªç‹¼äººè¯´å‡è¯ï¼Œä¸€ä¸ªäººè¯´å‡è¯</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> ans1<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>ans2<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans1<span class="token operator">=</span>i<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isok</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans2<span class="token operator">=</span>j<span class="token punctuation">;</span><span class="token comment">//printf("çœŸè¯ï¼š%d å‡è¯:%d\n",j,i);</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isok</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans2<span class="token operator">=</span>j<span class="token punctuation">;</span><span class="token comment">//printf("çœŸè¯ï¼š%d å‡è¯:%d\n",i,j);</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans2<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>ans1<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>ans2<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span>ans1<span class="token punctuation">,</span>ans2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No Solution"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜"><a href="#2-2-ç¬¬äºŒé¢˜" class="headerlink" title="2.2 ç¬¬äºŒé¢˜"></a>2.2 ç¬¬äºŒé¢˜</h2><blockquote><p>å›¾è®ºçš„ä¸€é“é¢˜ç›®ï¼Œä¼šå¡æ—¶é—´ã€å¡å†…å­˜ï¼Œç®€å•ä¼˜åŒ–ä¸€ä¸‹å³å¯</p><ul><li>é¦–å…ˆå¯¹äºæ‰€æœ‰å­˜åœ¨å†²çªçš„ç¼–å·è¿›è¡Œå­˜å‚¨ï¼Œä¹‹åéå†çš„æ—¶å€™é‡åˆ°éå†²çªç¼–å·ç›´æ¥è·³è¿‡ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦</li><li>å…¶æ¬¡ï¼Œä¸å¯ä»¥ç”¨äºŒé˜¶çŸ©é˜µå­˜å‚¨ï¼Œå†…å­˜ä¼šçˆ†ï¼Œè¿™é‡Œç”¨<code>map&lt;int,vector&lt;int&gt; &gt;</code>é‚»æ¥åˆ—è¡¨é™ä½å†…å­˜</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>mp<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>exist<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isADJ</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>mp<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//printf("x=%d,map[%d]ä¸´è¾¹%d\n",mp[x][i]);</span><span class="token keyword">if</span><span class="token punctuation">(</span>mp<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>y<span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>exist<span class="token punctuation">[</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>exist<span class="token punctuation">[</span>v<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isADJ</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>v<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜"><a href="#2-3-ç¬¬ä¸‰é¢˜" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜"></a>2.3 ç¬¬ä¸‰é¢˜</h2><h2 id="2-4-ç¬¬å››é¢˜"><a href="#2-4-ç¬¬å››é¢˜" class="headerlink" title="2.4 ç¬¬å››é¢˜"></a>2.4 ç¬¬å››é¢˜</h2><blockquote><p>è¿™é¢˜å’Œä¹‹å‰åšå¾—ä¸€é“å¾ˆç›¸ä¼¼è§<a href="https://blog.csdn.net/qq_45751990/article/details/122717570">1143é¢˜è§£</a>ï¼Œå±äºå˜å¼äº†ğŸ˜œ</p><p>exam1ï¼š18/30å»ºç«‹æ ‘ï¼Œç„¶åæœç´¢ï¼Œä¸ºäº†ç®€åŒ–æ—¶é—´å¤æ‚åº¦ç”¨äº†tempå­˜å‚¨ä¸­é—´å»ºç«‹æ ‘çš„æ—¶å€™çš„çˆ¶èŠ‚ç‚¹ä»¬ï¼Œä½†æ˜¯â€¦â€¦å†…å­˜è¶…é™äº†ğŸ˜…ğŸ˜…</p><p>exam2ï¼šACå€Ÿé‰´äº†ä¹‹å‰çš„åšæ³•ï¼Œç›´æ¥æ•°ç»„å¼€åˆ·,ä¸éœ€è¦å»ºç«‹æ ‘ï¼Œåªéœ€è¦æ ¹æ®inä¸­åºéå†çš„æ•°ç»„æ±‚å¾—æ¯ä¸ªç»“ç‚¹çš„ä¼˜å…ˆé¡ºåºï¼Œç„¶åéå†preæ•°ç»„ï¼Œå½“éå†åˆ°çš„æ•°ç»„ç»“ç‚¹tempåœ¨a,bä¸­é—´ï¼ˆè¿™é‡Œçš„ä¸­é—´æ˜¯æŒ‡tempåœ¨inæ•°ç»„çš„ç›¸å¯¹ä½ç½®åœ¨a,bä¹‹é—´ï¼‰æ—¶å€™å³å¯è·³å‡ºå¾ªç¯ï¼Œä¸ºLCA</p></blockquote><p>exam1:18/30</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>in<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>pre<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>father<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>exist<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node<span class="token operator">*</span> left<span class="token punctuation">;</span>Node<span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>temp<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> inL<span class="token punctuation">,</span><span class="token keyword">int</span> inR<span class="token punctuation">,</span><span class="token keyword">int</span> preL<span class="token punctuation">,</span><span class="token keyword">int</span> preR<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>inR<span class="token operator">&lt;</span>inL<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> val<span class="token operator">=</span>pre<span class="token punctuation">[</span>preL<span class="token punctuation">]</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>val<span class="token punctuation">;</span><span class="token comment">//ç»™æ¯ä¸ªç»“ç‚¹æ·»åŠ çˆ¶èŠ‚ç‚¹çš„ </span>temp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>father<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>k<span class="token operator">=</span>inL<span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>inR<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>in<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">==</span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> left_num<span class="token operator">=</span>k<span class="token operator">-</span>inL<span class="token punctuation">;</span><span class="token comment">//å·¦è¾¹çš„æ•°é‡</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>ctemp<span class="token punctuation">;</span>ctemp<span class="token operator">=</span>temp<span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>inL<span class="token punctuation">,</span>k<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>preL<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>preL<span class="token operator">+</span>left_num<span class="token punctuation">)</span><span class="token punctuation">;</span>temp<span class="token operator">=</span>ctemp<span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>inR<span class="token punctuation">,</span>preL<span class="token operator">+</span>left_num<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>preR<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>in<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>exist<span class="token punctuation">[</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//å‡ºç°äº†æŸä¸ªç»“ç‚¹ </span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ£€éªŒ</span><span class="token comment">//for(int i=0;i&lt;n;i++)&#123;</span><span class="token comment">//printf("å­èŠ‚ç‚¹%d:",in[i]);</span><span class="token comment">//for(int j=0;j&lt;father[in[i]].size();j++)&#123;</span><span class="token comment">//printf("%d ",father[in[i]][j]);</span><span class="token comment">//&#125;</span><span class="token comment">//printf("\n");</span><span class="token comment">//&#125; </span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d and %d are not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æœç´¢ </span><span class="token keyword">int</span> an<span class="token punctuation">;</span><span class="token keyword">int</span> lena<span class="token operator">=</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> lenb<span class="token operator">=</span>father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>lena<span class="token punctuation">,</span>lenb<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>an<span class="token operator">=</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>an<span class="token operator">==</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>an<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>an<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>an<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"LCA of %d and %d is %d.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>an<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>exam2:30/30</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>in<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>pre<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span>order<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>exist<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>in<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>order<span class="token punctuation">[</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token punctuation">;</span>exist<span class="token punctuation">[</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>exist<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d and %d are not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>exist<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æœç´¢ </span><span class="token keyword">int</span> an<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> temp<span class="token operator">=</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>order<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">&lt;</span>order<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>order<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">></span>order<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">||</span>order<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">&lt;</span>order<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span>order<span class="token punctuation">[</span>temp<span class="token punctuation">]</span><span class="token operator">></span>order<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>an<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">==</span>a<span class="token operator">||</span>temp<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>an<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>an<span class="token operator">==</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>an<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>an<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>an<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"LCA of %d and %d is %d.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>an<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3. å‚è€ƒèµ„æ–™"></a>3. å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://blog.csdn.net/qq_45751990/article/details/122717570">èœèœå­çš„1143é¢˜è§£è®¢æ­£</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ ç¬¬ä¸€å¼¹</title>
      <link href="/2022/01/30/ji-qi-xue-xi-di-yi-dan/"/>
      <url>/2022/01/30/ji-qi-xue-xi-di-yi-dan/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æ˜¯æŸèœåœ¨ææ²è€å¸ˆ2021æœºå™¨å­¦ä¹ è¿‡ç¨‹ä¸­ä¸€ä¸¢ä¸¢çš„è¯¾ç¨‹ç¬”è®°ğŸ˜ƒ</p></blockquote><h1 id="1-æ•°æ®çš„è·å–"><a href="#1-æ•°æ®çš„è·å–" class="headerlink" title="1. æ•°æ®çš„è·å–"></a>1. æ•°æ®çš„è·å–</h1><ol><li>æ ¹æ®å…·ä½“åº”ç”¨æœç´¢ç°æœ‰çš„æ•°æ®</li><li>æœé›†ã€é‡‡é›†æ•°æ®ï¼ˆçˆ¬å–ã€é‡‡é›†ï¼‰</li><li>ç”Ÿæˆæ•°æ®ï¼ˆGANï¼‰ã€æ•°æ®å¢å¼º</li></ol><p><strong>A).ä¸€äº›å¼€æºæ•°æ®é›†ç½‘ç«™ï¼š</strong></p><p>paperwithcodeï¼ˆå¸¸è§çš„è®ºæ–‡æ•°æ®é›†å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ï¼‰</p><p>Kaggle Datasetsï¼ˆç«èµ›æ•°æ®ï¼ŒåŒ…å«çš„æ•°æ®é›†ä¼šæ¯”å‰è€…æ›´å¤šï¼Œè´¨é‡çš„è¯å‚å·®ä¸é½ï¼Œæ€»ä½“è¿˜æ˜¯æ¯”è¾ƒå¥½çš„~ï¼‰</p><p>Google Dataset search</p><p>Open Data on AWS</p><p><strong>B).ä¸€äº›è‡ªå¸¦æ•°æ®é›†çš„pythonåŒ…ï¼š</strong></p><p>ï¼ˆå¸¦çš„éƒ½æ˜¯ç»å…¸çš„è€æ•°æ®ï¼‰</p><p>tensorflow</p><p>huggingface</p><h1 id="2-ç®€å•ä»‹ç»ä¸€ä¸‹ç½‘é¡µçˆ¬å–"><a href="#2-ç®€å•ä»‹ç»ä¸€ä¸‹ç½‘é¡µçˆ¬å–" class="headerlink" title="2.ç®€å•ä»‹ç»ä¸€ä¸‹ç½‘é¡µçˆ¬å–"></a>2.ç®€å•ä»‹ç»ä¸€ä¸‹ç½‘é¡µçˆ¬å–</h1><h2 id="2-1-åŸºæœ¬ç½‘é¡µçˆ¬å–å®ä¾‹"><a href="#2-1-åŸºæœ¬ç½‘é¡µçˆ¬å–å®ä¾‹" class="headerlink" title="2.1 åŸºæœ¬ç½‘é¡µçˆ¬å–å®ä¾‹"></a>2.1 åŸºæœ¬ç½‘é¡µçˆ¬å–å®ä¾‹</h2><p>éœ€è¦çš„åŒ…ï¼š</p><ul><li>requests</li></ul><p>çˆ¬å–ç‰¹å®šçš„ç½‘é¡µï¼Œè¾“å‡ºç½‘é¡µçš„htmlæ–‡ä»¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç”Ÿæˆä¸€ä¸ªrequestå¯¹è±¡</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://ghy0202.github.io"</span><span class="token punctuation">)</span><span class="token comment"># è®¾ç½®ç¼–ç æ ¼å¼</span>response<span class="token punctuation">.</span>encoding<span class="token operator">=</span>t<span class="token operator">=</span>response<span class="token punctuation">.</span>apparent_encoding<span class="token comment"># æ‰“å°çŠ¶æ€ç </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"çŠ¶æ€ç ï¼š"</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># æ‰“å°çˆ¬å–çš„ä¿¡æ¯</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¸¸è§çš„æ–¹æ³•æœ‰ï¼š</p><ul><li>get</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/get"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>post</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/post"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>put</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/put"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¼ å‚æ•°çš„æ–¹å¼ï¼Œgetä¸postç±»ä¼¼ï¼Œè¿™é‡Œä»¥postä¸ºä¾‹å­</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">""" Part05:ä¼ å‚æ•°get,postç±»ä¼¼"""</span><span class="token comment"># ç¬¬ä¸€ç§å†™æ³•</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/post?name=hezhi&amp;age=20"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token comment"># ç¬¬äºŒç§å†™æ³•</span>data<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span><span class="token string">"hezhi"</span><span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">&#125;</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://httpbin.org/post"</span><span class="token punctuation">,</span>params<span class="token operator">=</span>data<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å…³äºç»•è¿‡åçˆ¬æœºåˆ¶</strong>ï¼šå› ä¸ºä¸€äº›ç½‘é¡µæ¶‰åŠåˆ°çš„æ•°æ®æ¯”è¾ƒæ•æ„Ÿæˆ–è€…æ˜¯å‡ºäºå¯¹ç½‘ç«™æ•°æ®çš„ç»´æŠ¤ï¼Œæ‰€ä»¥ç›´æ¥çˆ¬å–æ˜¯ä¼šè¢«â€¦â€¦â€œ403â€çš„ï¼Œè¿™æ—¶å€™ä¸€ç§è§£å†³æ–¹å¼æ˜¯ç”¨pythonä¼ªè£…æˆæµè§ˆå™¨ï¼Œä¹Ÿå°±æ˜¯è®¾ç½®å¤´éƒ¨ä¿¡æ¯</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯å¯¹äºçŸ¥ä¹åçˆ¬æœºåˆ¶çš„ä¸€ä¸ªå°â€œå›é€†â€è§£å†³æ–¹å¼ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç¬¬ä¸€æ¬¡ï¼Œæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œè¾“å‡ºçŠ¶æ€ç ä¸º403ï¼Œè¡¨ç¤ºè¿œç¨‹æœåŠ¡å™¨æ‹’ç»è®¿é—®</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.zhihu.com"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"first time , state code="</span><span class="token punctuation">,</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token comment"># è®¾ç½®å¤´éƒ¨ä¿¡æ¯ï¼Œä¼ªè£…æˆæµè§ˆå™¨ï¼Œå¯ä»¥æ­£å¸¸è¾“å‡º200</span>headers<span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"User-Agent"</span><span class="token punctuation">:</span><span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36"</span><span class="token punctuation">&#125;</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.zhihu.com"</span><span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å…³äºå¦‚ä½•ä¿å­˜ä¿¡æ¯åˆ°æœ¬åœ°</strong>ï¼š</p><ol><li><p>ç½‘é¡µä¿¡æ¯ä¿å­˜åˆ°æœ¬åœ°ï¼š</p><p>è¿™ä¸ªå°±æ¯”è¾ƒåŸºç¡€äº†ï¼Œä¿å­˜ä¸€ä¸‹å³å¯~</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">"""Part06:ç»•è¿‡åçˆ¬æœºåˆ¶"""</span><span class="token comment"># ç¬¬ä¸€æ¬¡ï¼Œæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œè¾“å‡ºçŠ¶æ€ç ä¸º403ï¼Œè¡¨ç¤ºè¿œç¨‹æœåŠ¡å™¨æ‹’ç»è®¿é—®</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.zhihu.com"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"first time , state code="</span><span class="token punctuation">,</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token comment"># è®¾ç½®å¤´éƒ¨ä¿¡æ¯ï¼Œä¼ªè£…æˆæµè§ˆå™¨ï¼Œå¯ä»¥æ­£å¸¸è¾“å‡º200</span>headers<span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"User-Agent"</span><span class="token punctuation">:</span><span class="token string">"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.122 Safari/537.36"</span><span class="token punctuation">&#125;</span>response<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://www.zhihu.com"</span><span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token triple-quoted-string string">"""Part07:çˆ¬å–ä¿¡æ¯å¹¶ä¸”ä¿å­˜åˆ°æœ¬åœ°"""</span><span class="token builtin">file</span><span class="token operator">=</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./Data1/test01.html'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf'</span><span class="token punctuation">)</span><span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>å›¾ç‰‡ä¿¡æ¯ä¿å­˜åˆ°æœ¬åœ°ï¼š</p><p>emmm,è¿™ä¸ªdemoæ¯”è¾ƒåŸºç¡€ï¼Œéœ€è¦ç»™å®šå›¾ç‰‡çš„urlğŸ˜…,æ²¡æœ‰å®ç°è‡ªåŠ¨æ‰¹é‡æŠ“å–â€¦â€¦</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#ä¿å­˜ç™¾åº¦å›¾ç‰‡åˆ°æœ¬åœ°</span><span class="token keyword">import</span> requests <span class="token comment">#å…ˆå¯¼å…¥çˆ¬è™«çš„åº“ï¼Œä¸ç„¶è°ƒç”¨ä¸äº†çˆ¬è™«çš„å‡½æ•°</span>response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"https://www.baidu.com/img/baidu_jgylogo3.gif"</span><span class="token punctuation">)</span> <span class="token comment">#getæ–¹æ³•çš„åˆ°å›¾ç‰‡å“åº”</span><span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"./Data1/baidu_logo.gif"</span><span class="token punctuation">,</span><span class="token string">"wb"</span><span class="token punctuation">)</span> <span class="token comment">#æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶,wbè¡¨ç¤ºä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥</span><span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>response<span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token comment">#å†™å…¥æ–‡ä»¶</span><span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#å…³é—­æ“ä½œï¼Œè¿è¡Œå®Œæ¯•åå»ä½ çš„ç›®å½•çœ‹ä¸€çœ¼æœ‰æ²¡æœ‰ä¿å­˜æˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ä¸€ä¸ªç®€å•å®æˆ˜çš„Demo(å¤©çŒ«å•†å“è¯„è®º)ï¼š</p><p>ä¸»è¦çš„éš¾ç‚¹åœ¨äºurlçš„è·å–ï¼šå…·ä½“ä»£ç å’Œè®²è§£<a href="https://blog.csdn.net/qq_46614154/article/details/105682101">ã€ä¼ é€é—¨ã€‘</a></p></li></ol><h2 id="2-2-è¯¾ç¨‹ä¸­æåˆ°çš„ç½‘é¡µçˆ¬å–å®ä¾‹"><a href="#2-2-è¯¾ç¨‹ä¸­æåˆ°çš„ç½‘é¡µçˆ¬å–å®ä¾‹" class="headerlink" title="2.2 è¯¾ç¨‹ä¸­æåˆ°çš„ç½‘é¡µçˆ¬å–å®ä¾‹"></a>2.2 è¯¾ç¨‹ä¸­æåˆ°çš„ç½‘é¡µçˆ¬å–å®ä¾‹</h2><p>éœ€è¦çš„åŒ…ï¼š</p><ul><li>selenium</li><li>BeautifulSoup</li></ul><h2 id="2-3-æ³¨æ„äº‹é¡¹"><a href="#2-3-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.3 æ³¨æ„äº‹é¡¹"></a>2.3 æ³¨æ„äº‹é¡¹</h2><ul><li><p>åªæ˜¯å­¦ä¹ </p></li><li><p>æ³¨æ„æ³•å¾‹é—®é¢˜ï¼ŒğŸ˜‚ä¸è¦çˆ¬å–æ•æ„Ÿæ•°æ®å“ˆ~</p></li></ul><h1 id="3-æ•°æ®æ ‡æ³¨"><a href="#3-æ•°æ®æ ‡æ³¨" class="headerlink" title="3.æ•°æ®æ ‡æ³¨"></a>3.æ•°æ®æ ‡æ³¨</h1><p>ç­‰å¾…æ›´æ–°â€¦â€¦</p><h1 id="4-æ•°æ®å¤„ç†"><a href="#4-æ•°æ®å¤„ç†" class="headerlink" title="4. æ•°æ®å¤„ç†"></a>4. æ•°æ®å¤„ç†</h1><p>ç­‰å¾…æ›´æ–°â€¦â€¦</p><h1 id="5-å‚è€ƒèµ„æ–™"><a href="#5-å‚è€ƒèµ„æ–™" class="headerlink" title="5. å‚è€ƒèµ„æ–™"></a>5. å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://blog.csdn.net/qq_46614154/article/details/105682101">åŸºäºrequestsçš„çˆ¬è™«å®ä¾‹</a>ï¼ˆçˆ¬å–å¤©çŒ«å•†å“è¯„è®ºï¼‰</li><li><a href="https://zhuanlan.zhihu.com/p/355797583">åŸºäºrequestsçš„çˆ¬è™«åŸºç¡€</a></li><li>â€¦â€¦</li></ol>]]></content>
      
      
      <categories>
          
          <category> AIå…¥é—¨ç†è®º </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1144-1147</title>
      <link href="/2022/01/29/pta-jia-ji-mo-ni-1144-1147/"/>
      <url>/2022/01/29/pta-jia-ji-mo-ni-1144-1147/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1 çŸ¥è¯†ç‚¹æ€»ç»“"></a>1 çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡ä½œä¸šæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1144</td><td>ğŸ¸</td><td>æ•°ç»„+åŸºæœ¬æ’åº</td></tr><tr><td>1145</td><td>ğŸ¸ğŸ¸</td><td>hash+äºŒæ¬¡æ¢æµ‹<strong>ï¼ˆtemp+k*kï¼‰%tsize</strong></td></tr><tr><td>1146</td><td></td><td></td></tr><tr><td>1147</td><td></td><td></td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2 åˆ†é¢˜é¢˜è§£"></a>2 åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜"><a href="#2-1-ç¬¬ä¸€é¢˜" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜"></a>2.1 ç¬¬ä¸€é¢˜</h2><blockquote><p>è¿™ä¸€é¢˜åŸºæœ¬ä¸Šè€ƒå¯Ÿçš„æ˜¯ç»†å¿ƒï¼Œæ˜“é”™ç‚¹ï¼š</p><ul><li>å¦‚æœç»™å®šåºåˆ—ç±»ä¼¼ï¼šâ€¦â€¦1ï¼Œ2ï¼Œ3â€¦â€¦n-1,né‚£ä¹ˆç¼ºå¤±çš„æœ€å°æ­£æ•´æ•°ä¸ºn+1</li><li>å¦‚æœç»™å®šåºåˆ—ä¸ºâ€¦â€¦0ï¼Œ2ï¼Œ3â€¦â€¦n-1,né‚£ç¼ºå¤±çš„æœ€å°ä¸º1</li><li>å…¶ä½™æƒ…å†µåªéœ€è¦åˆ¤æ–­ä¸ºæ­£æ•°çš„æ—¶å€™ï¼Œä¸ä¸‹ä¸€ä¸ªçš„å·®å€¼æ˜¯å¦ä¸º1</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>v<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">bool</span> one<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>one<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token operator">&amp;&amp;</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">>=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token operator">&amp;&amp;</span>one<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>v<span class="token punctuation">[</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>one<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜"><a href="#2-2-ç¬¬äºŒé¢˜" class="headerlink" title="2.2 ç¬¬äºŒé¢˜"></a>2.2 ç¬¬äºŒé¢˜</h2><blockquote><p>è¿™é¢˜éš¾å€’æ˜¯ä¸éš¾ï¼Œå…³é”®æ˜¯äºŒæ¬¡æ¢æµ‹çš„å…¬å¼ä¸èƒ½å†™é”™</p></blockquote><p><strong>å­¦ä¸€ä¸ªè‹±æ–‡ï¼š</strong></p><p>Quadratic probing (with positive increments only)<mark>äºŒæ¬¡æ¢æµ‹ï¼ˆä»…é™æ­£å¢é‡ï¼‰</mark><br>$$<br>(temp+k*k)mod(tsize)<br>$$</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> MSize<span class="token punctuation">,</span>N<span class="token punctuation">,</span>M<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isPrime</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">==</span><span class="token number">2</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">3</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">5</span><span class="token operator">||</span>x<span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>i<span class="token operator">*</span>i<span class="token operator">&lt;=</span>x<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>x<span class="token operator">%</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>hasht<span class="token punctuation">;</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>MSize<span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isPrime</span><span class="token punctuation">(</span>MSize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>MSize<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>hasht<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>MSize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">fill</span><span class="token punctuation">(</span>hasht<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>hasht<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>MSize<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> pos<span class="token operator">=</span><span class="token punctuation">(</span>temp<span class="token operator">+</span>k<span class="token operator">*</span>k<span class="token punctuation">)</span><span class="token operator">%</span>MSize<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasht<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>hasht<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">=</span>temp<span class="token punctuation">;</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d cannot be inserted.\n"</span><span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> sum<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>M<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> pre<span class="token operator">=</span>sum<span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;=</span>MSize<span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>sum<span class="token operator">++</span><span class="token punctuation">;</span><span class="token keyword">int</span> pos<span class="token operator">=</span><span class="token punctuation">(</span>temp<span class="token operator">+</span>k<span class="token operator">*</span>k<span class="token punctuation">)</span><span class="token operator">%</span>MSize<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>hasht<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">==</span>temp<span class="token operator">||</span>hasht<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token operator">==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.1f"</span><span class="token punctuation">,</span><span class="token keyword">double</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token operator">/</span>M<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜"><a href="#2-3-ç¬¬ä¸‰é¢˜" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜"></a>2.3 ç¬¬ä¸‰é¢˜</h2><h2 id="2-4-ç¬¬å››é¢˜"><a href="#2-4-ç¬¬å››é¢˜" class="headerlink" title="2.4 ç¬¬å››é¢˜"></a>2.4 ç¬¬å››é¢˜</h2><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3 å‚è€ƒèµ„æ–™"></a>3 å‚è€ƒèµ„æ–™</h1>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³•ä¸æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
            <tag> PTA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§æ¨¡æ‹Ÿ1140-1143</title>
      <link href="/2022/01/28/pta-jia-ji-mo-ni-1140-1143/"/>
      <url>/2022/01/28/pta-jia-ji-mo-ni-1140-1143/</url>
      
        <content type="html"><![CDATA[<h1 id="1-çŸ¥è¯†ç‚¹æ€»ç»“"><a href="#1-çŸ¥è¯†ç‚¹æ€»ç»“" class="headerlink" title="1 çŸ¥è¯†ç‚¹æ€»ç»“"></a>1 çŸ¥è¯†ç‚¹æ€»ç»“</h1><p>æœ¬æ¬¡ä½œä¸šæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æœ‰ï¼š</p><ul><li>å­—ç¬¦ä¸²å¤„ç†</li><li>STL+æ’åº</li><li>å›¾è®º</li><li>BSTæ ‘ï¼ˆæ—¶é—´å¤æ‚åº¦ï¼‰</li></ul><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>çŸ¥è¯†ç‚¹</th></tr></thead><tbody><tr><td>1140</td><td>ğŸ¸</td><td>å­—ç¬¦ä¸²å’Œæ•°å­—çš„è½¬åŒ–+è‹±è¯­é˜…è¯»ç†è§£</td></tr><tr><td>1141</td><td>ğŸ¸</td><td>STL+æ’åºï¼ˆæ¶‰åŠåŸºç¡€çš„å­—ç¬¦ä¸²å¤„ç†ï¼‰</td></tr><tr><td>1142</td><td>ğŸ¸</td><td>å›¾è®ºï¼ˆå›¾åŸºç¡€çš„åŸºç¡€çš„åŸºç¡€ğŸ˜…ï¼Œæ²¡å•¥çŸ¥è¯†ç‚¹å‡ ä¹ï¼‰</td></tr><tr><td><strong>1143</strong></td><td>ğŸ¸ğŸ¸ğŸ¸</td><td>BSTæ ‘çš„æœç´¢ä¸å»ºç«‹+æ—¶é—´å¤æ‚åº¦ä¼˜åŒ–ğŸ˜…æœ€æ€•æœ‰æ€è·¯ä½†æ˜¯<strong>å¡æ—¶é—´</strong>çš„é¢˜ç›®äº†(è¿™é¢˜å¦‚æœæ²¡æœ‰èƒŒè¿‡æ¨¡æ¿ï¼Œè€ƒåœºä¸Šæ‰¾è§„å¾‹åº”è¯¥æ›´å®¹æ˜“è¿‡ä¸€ç‚¹ğŸ˜‚)</td></tr></tbody></table><h1 id="2-åˆ†é¢˜é¢˜è§£"><a href="#2-åˆ†é¢˜é¢˜è§£" class="headerlink" title="2 åˆ†é¢˜é¢˜è§£"></a>2 åˆ†é¢˜é¢˜è§£</h1><h2 id="2-1-ç¬¬ä¸€é¢˜"><a href="#2-1-ç¬¬ä¸€é¢˜" class="headerlink" title="2.1 ç¬¬ä¸€é¢˜"></a>2.1 ç¬¬ä¸€é¢˜</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805344490864640"><strong>1140 Look-and-say Sequence (20 åˆ†)</strong></a></p><blockquote><p><strong>æ€è·¯</strong>ï¼š</p><ul><li>æ‰¾è§„å¾‹ï¼šå‡ºç°çš„æ•°å­—+è¯¥æ•°å­—è¿ç»­å‡ºç°çš„æ¬¡æ•°â€¦â€¦ä¾æ¬¡ç±»æ¨</li><li>å­—ç¬¦ä¸²å¤„ç†ï¼šstringä¸intä¹‹é—´çš„ç›¸äº’è½¬åŒ–</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> d<span class="token punctuation">,</span>n<span class="token punctuation">;</span><span class="token comment">//1 2 3 4 5 6 7 8</span><span class="token comment">//D D1 D111 D113 D11231</span><span class="token keyword">bool</span> vis<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">Count</span><span class="token punctuation">(</span>string str<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>ch<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>string <span class="token function">getAns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//è®¡ç®—å‡ºdçš„ç¬¬nä¸ª</span>string nth<span class="token operator">=</span><span class="token function">to_string</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>string n1th<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//åˆå§‹åŒ–</span><span class="token comment">//for(int k=0;k&lt;10;k++)vis[k]=false;</span>n1th<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>nth<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> temp<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>n1th<span class="token operator">+=</span>nth<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>nth<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span>nth<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>nth<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>j<span class="token operator">++</span><span class="token punctuation">;</span>temp<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>n1th<span class="token operator">+=</span><span class="token function">to_string</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>nth<span class="token operator">=</span>n1th<span class="token punctuation">;</span><span class="token comment">//cout&lt;&lt; nth&lt;&lt;endl;</span><span class="token punctuation">&#125;</span> <span class="token keyword">return</span> nth<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>d<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>cout<span class="token operator">&lt;&lt;</span><span class="token function">getAns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-2-ç¬¬äºŒé¢˜"><a href="#2-2-ç¬¬äºŒé¢˜" class="headerlink" title="2.2 ç¬¬äºŒé¢˜"></a>2.2 ç¬¬äºŒé¢˜</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805344222429184"><strong>1141 PAT Ranking of Institutions (25 åˆ†)</strong></a></p><blockquote><p><strong>æ€è·¯</strong>ï¼š</p><p>åŸºæœ¬çš„å­—ç¬¦ä¸²å¤„ç†+æ’åºï¼Œæ²¡æœ‰å‘</p></blockquote><p>å­¦ä¹ åˆ°çš„ä¸€ä¸ªæ–°çš„stringç”¨æ³•ï¼š</p><p>å› ä¸ºtolower()åªæ”¯æŒä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦ä¿®æ”¹ï¼Œä¸‹é¢å¯ä»¥å¿«é€Ÿè½¬åŒ–ä¸€ä¸ªstringï¼ˆå…¶å®è‡ªå·±å†™è½¬åŒ–å‡½æ•°ä¹Ÿä¸è´¹åŠ²ğŸ˜ï¼‰</p><p><font color='red'>transform(iid.begin(),iid.end(),iid.begin(),::tolower);</font></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Institution</span><span class="token punctuation">&#123;</span>string name<span class="token punctuation">;</span><span class="token keyword">int</span> TWS<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> Ns<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> scoreA<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> scoreB<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> scoreT<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span>Institution<span class="token operator">></span>mp<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span>string id<span class="token punctuation">;</span><span class="token keyword">int</span> score<span class="token punctuation">;</span>string iid<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span>Institution<span class="token operator">></span>v<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Institution a<span class="token punctuation">,</span>Institution b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>TWS<span class="token operator">!=</span>b<span class="token punctuation">.</span>TWS<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>TWS<span class="token operator">></span>b<span class="token punctuation">.</span>TWS<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>Ns<span class="token operator">!=</span>b<span class="token punctuation">.</span>Ns<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>Ns<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>Ns<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>name<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>name<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>cin<span class="token operator">>></span>id<span class="token operator">>></span>score<span class="token operator">>></span>iid<span class="token punctuation">;</span><span class="token comment">//æ³¨æ„å†™æ³• </span><span class="token function">transform</span><span class="token punctuation">(</span>iid<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>iid<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>iid<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token double-colon punctuation">::</span>tolower<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'A'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>iid<span class="token punctuation">]</span><span class="token punctuation">.</span>scoreA<span class="token operator">+=</span>score<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>iid<span class="token punctuation">]</span><span class="token punctuation">.</span>scoreB<span class="token operator">+=</span>score<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token char">'T'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>mp<span class="token punctuation">[</span>iid<span class="token punctuation">]</span><span class="token punctuation">.</span>scoreT<span class="token operator">+=</span>score<span class="token punctuation">;</span><span class="token punctuation">&#125;</span>mp<span class="token punctuation">[</span>iid<span class="token punctuation">]</span><span class="token punctuation">.</span>Ns<span class="token operator">++</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>iid<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token operator">=</span>iid<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>mp<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span>Institution<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it<span class="token operator">=</span>mp<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>mp<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>Institution temp<span class="token operator">=</span>it<span class="token operator">-></span>second<span class="token punctuation">;</span><span class="token comment">//temp</span>temp<span class="token punctuation">.</span>TWS<span class="token operator">=</span>temp<span class="token punctuation">.</span>scoreA<span class="token operator">+</span>temp<span class="token punctuation">.</span>scoreB<span class="token operator">/</span><span class="token number">1.5</span><span class="token operator">+</span>temp<span class="token punctuation">.</span>scoreT<span class="token operator">*</span><span class="token number">1.5</span><span class="token punctuation">;</span> v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> rank<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&amp;&amp;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>TWS<span class="token operator">!=</span>v<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>TWS<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>rank<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>cout<span class="token operator">&lt;&lt;</span>rank<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>TWS<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Ns<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-3-ç¬¬ä¸‰é¢˜"><a href="#2-3-ç¬¬ä¸‰é¢˜" class="headerlink" title="2.3 ç¬¬ä¸‰é¢˜"></a>2.3 ç¬¬ä¸‰é¢˜</h2><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805343979159552"><strong>1142 Maximal Clique (25 åˆ†)</strong></a></p><blockquote><p><strong>æ€è·¯</strong>ï¼š</p><p>åŸºç¡€å›¾è®º</p><ul><li>é¦–å…ˆåˆ¤æ–­ç»™å®šç‚¹é›†æ˜¯å¦ä¸¤ä¸¤ç›¸è¿ï¼ˆå¹¶åœ¨æ­¤æ—¶ç»™ç‚¹é›†ä¸­çš„ç‚¹æ ‡è®°ï¼‰</li><li>å…¶æ¬¡åˆ¤æ–­æ˜¯å¦æœ‰ä¸€ä¸ªç‚¹ä¸å±äºç‚¹é›†ä½†æ˜¯å’Œç‚¹é›†ä¸­çš„æ‰€æœ‰ç‚¹ç›¸è¿</li><li>å› ä¸ºæ²¡æ€ä¹ˆå¡æ—¶é—´ï¼Œæ‰€ä»¥æš´åŠ›ä¹ŸåŸºæœ¬å¯ä»¥</li></ul></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>k<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> maxn<span class="token operator">=</span><span class="token number">206</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token keyword">bool</span> graph<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token boolean">false</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> v<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> vis<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">isADJ</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>k<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>graph<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">bool</span> <span class="token function">canADD</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">,</span><span class="token keyword">int</span> sign<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">bool</span> flag<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>id<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>id<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vis<span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">!=</span>sign<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>graph<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>graph<span class="token punctuation">[</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token operator">==</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>graph<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>graph<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>num<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹éƒ½æ˜¯æœ‰é‚»æ¥çš„è¾¹çš„ </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isADJ</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Not a Clique\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">canADD</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Not Maximal\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Yes\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ²¡æœ‰åŠæ³•å†åŠ ä»»ä½•ä¸€ä¸ªé‚»æ¥è¾¹ </span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="2-4-ç¬¬å››é¢˜"><a href="#2-4-ç¬¬å››é¢˜" class="headerlink" title="2.4 ç¬¬å››é¢˜"></a>2.4 ç¬¬å››é¢˜</h2><p>[**1143 Lowest Common Ancestor (30 åˆ†)**](<a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805343727501312">é¢˜ç›®è¯¦æƒ… - 1143 Lowest Common Ancestor (30 åˆ†) (pintia.cn)</a>)</p><p><strong>ç‹ ç‹ è®¢æ­£å—·å—·å—·å—·</strong></p><blockquote><p>ä¸€å¼€å§‹çš„æ€è·¯ï¼š</p><ul><li>å»ºç«‹ä¸€æ£µæ ‘ï¼ˆæ¨¡æ¿ï¼Œå»ºè®®ç†Ÿæ‚‰ï¼‰</li><li>å¯¹äºç»™å®šä¸¤ä¸ªç»“ç‚¹ï¼Œé¦–å…ˆFindçœ‹æ˜¯å¦å­˜åœ¨ï¼Œå¹¶åœ¨å¯»æ‰¾çš„è¿‡ç¨‹ä¸­ä¿å­˜çˆ¶èŠ‚ç‚¹ï¼ˆå³ç»è¿‡çš„ç»“ç‚¹ï¼‰</li><li>æ¯”è¾ƒæ²¿è·¯ç»è¿‡çš„çˆ¶èŠ‚ç‚¹ï¼Œæ˜¯å¦æœ‰å‡ºç°åœ¨åŒä¸€å±‚åŒä¸€å¤§å°çš„ç»“ç‚¹ï¼Œè‹¥æœ‰ï¼Œå³ä¸ºå…¬å…±çˆ¶èŠ‚ç‚¹ï¼ˆå…·ä½“æƒ…å†µè¿˜éœ€è¦ç‰¹åˆ¤ï¼Œè‹¥ä¸¤ä¸ªç»“ç‚¹ç›¸ç­‰å¹¶ä¸”ç­‰äºçˆ¶èŠ‚ç‚¹ï¼Œå±äºï¼š<code>X is an ancestor of Y</code>æƒ…å†µï¼‰</li></ul></blockquote><p>ç¬¬ä¸€ç‰ˆï¼š18/30</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//æœ€ä½çš„ç¥–å…ˆ</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">;</span> <span class="token keyword">int</span> v<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node <span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>val<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token operator">&lt;</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾åˆ°æœ€å¹´è½»çš„çˆ¶èŠ‚ç‚¹</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v1<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>v2<span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">Find</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span>Node<span class="token operator">*</span>root<span class="token punctuation">,</span><span class="token keyword">int</span> sign<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token operator">==</span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>sign<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>v2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//ä¿å­˜è·¯å¾„ä¸Šçš„å€¼ </span><span class="token keyword">if</span><span class="token punctuation">(</span>sign<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>v2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token operator">&lt;</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">Find</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span>sign<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">Find</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span>sign<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>mp<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>v1<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>v2<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token operator">||</span><span class="token operator">!</span><span class="token function">Find</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>root<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">||</span><span class="token operator">!</span><span class="token function">Find</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>root<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d and %d are not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token operator">||</span><span class="token operator">!</span><span class="token function">Find</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>root<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰¾åˆ°è·¯å¾„ä¸Šå…¬å…±ç‚¹</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">min</span><span class="token punctuation">(</span>v1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>v2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>a<span class="token operator">&amp;&amp;</span>ans<span class="token operator">!=</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>b<span class="token operator">&amp;&amp;</span>ans<span class="token operator">!=</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>a<span class="token operator">&amp;&amp;</span>ans<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"LCA of %d and %d is %d.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒç‰ˆï¼šè¯•ç€å°†Findä¼˜åŒ–åœ¨buildéƒ¨åˆ†å°±å‚¨å­˜çˆ¶èŠ‚ç‚¹ï¼Œè¿˜æ˜¯ä¸è¡Œ18/30</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">//æœ€ä½çš„ç¥–å…ˆ</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">;</span> <span class="token keyword">int</span> v<span class="token punctuation">;</span><span class="token keyword">struct</span> <span class="token class-name">Node</span><span class="token punctuation">&#123;</span><span class="token keyword">int</span> val<span class="token punctuation">;</span>Node <span class="token operator">*</span>right<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>left<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>mp<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span>path<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span>Node<span class="token operator">*</span>root<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>root<span class="token operator">=</span><span class="token keyword">new</span> Node<span class="token punctuation">;</span>root<span class="token operator">-></span>val<span class="token operator">=</span>val<span class="token punctuation">;</span>path<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token operator">&lt;</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>path<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">-></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>path<span class="token punctuation">[</span>val<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>root<span class="token operator">-></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾åˆ°æœ€å¹´è½»çš„çˆ¶èŠ‚ç‚¹</span><span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>Node <span class="token operator">*</span>root<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>root<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d and %d are not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰¾åˆ°è·¯å¾„ä¸Šå…¬å…±ç‚¹</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>path<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>path<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>path<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>path<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>path<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>a<span class="token operator">&amp;&amp;</span>ans<span class="token operator">!=</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>b<span class="token operator">&amp;&amp;</span>ans<span class="token operator">!=</span>a<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ans<span class="token operator">==</span>a<span class="token operator">&amp;&amp;</span>ans<span class="token operator">==</span>b<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"LCA of %d and %d is %d.\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹äº†æŸ³ç¥çš„æ€è·¯æ‰çŸ¥é“ä¸éœ€è¦å»ºç«‹æ ‘ğŸ˜…ï¼Œè€ƒå¯Ÿçš„æ˜¯å¯¹äºBSTæ ‘<code>æ•°ç»„ç»“æ„</code></p><blockquote><p><strong>è®¢æ­£æ€è·¯</strong>ï¼š</p><p><em>åˆ†æï¼šmap&lt;int, bool&gt; mpç”¨æ¥æ ‡è®°æ ‘ä¸­æ‰€æœ‰å‡ºç°è¿‡çš„ç»“ç‚¹ï¼Œéå†ä¸€épreæ•°ç»„ï¼Œå°†å½“å‰ç»“ç‚¹æ ‡è®°ä¸ºaï¼Œå¦‚æœuå’Œvåˆ†åˆ«åœ¨açš„å·¦ã€å³ï¼Œæˆ–è€…uã€vå…¶ä¸­ä¸€ä¸ªå°±æ˜¯å½“å‰aï¼Œè¯´æ˜æ‰¾åˆ°äº†è¿™ä¸ªå…±åŒæœ€ä½ç¥–å…ˆaï¼Œé€€å‡ºå½“å‰å¾ªç¯ï½æœ€åæ ¹æ®è¦æ±‚è¾“å‡ºç»“æœå³å¯ï½</em></p></blockquote><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> m<span class="token punctuation">,</span>n<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>pre<span class="token punctuation">;</span>map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">bool</span><span class="token operator">></span>mp<span class="token punctuation">;</span><span class="token keyword">int</span> u<span class="token punctuation">,</span>v<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>m<span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>pre<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mp<span class="token punctuation">[</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>v<span class="token punctuation">,</span><span class="token operator">&amp;</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d and %d are not found.\n"</span><span class="token punctuation">,</span>v<span class="token punctuation">,</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>mp<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR: %d is not found.\n"</span><span class="token punctuation">,</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token comment">//æ‰¾åˆ°äº†</span><span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">int</span> temp<span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>temp<span class="token operator">=</span>pre<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">&lt;</span>u<span class="token operator">&amp;&amp;</span>temp<span class="token operator">></span>v<span class="token operator">||</span>temp<span class="token operator">&lt;</span>v<span class="token operator">&amp;&amp;</span>temp<span class="token operator">></span>u<span class="token operator">||</span>temp<span class="token operator">==</span>u<span class="token operator">||</span>temp<span class="token operator">==</span>v<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>ans<span class="token operator">=</span>temp<span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token operator">!=</span>v<span class="token operator">&amp;&amp;</span>temp<span class="token operator">!=</span>u<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"LCA of %d and %d is %d.\n"</span><span class="token punctuation">,</span>v<span class="token punctuation">,</span>u<span class="token punctuation">,</span>ans<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d is an ancestor of %d.\n"</span><span class="token punctuation">,</span>ans<span class="token punctuation">,</span>ans<span class="token operator">==</span>v<span class="token operator">?</span>u<span class="token operator">:</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="3-å‚è€ƒèµ„æ–™"><a href="#3-å‚è€ƒèµ„æ–™" class="headerlink" title="3 å‚è€ƒèµ„æ–™"></a>3 å‚è€ƒèµ„æ–™</h1><ol><li><a href="https://blog.csdn.net/qq_37941471/article/details/81988702">STLä¸­tolower()å¯¹äºstringçš„ä½¿ç”¨</a></li><li><a href="https://blog.csdn.net/liuchuo/article/details/79618849">æŸ³ç¥â€”â€”1143çš„æ•°æ®ç»“æ„è§£æ³•</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–ç¨‹ç»ƒä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PTAç”²çº§ç»ƒä¹ </title>
      <link href="/2022/01/28/pta-jia-ji-lian-xi/"/>
      <url>/2022/01/28/pta-jia-ji-lian-xi/</url>
      
        <content type="html"><![CDATA[<p><strong>æµ‹è¯•ä¸­æ–‡åæ˜¯å¦æ­£å¸¸</strong></p><blockquote><p>ä½œä¸ºå¤‡æˆ˜æœºè€ƒçš„ç®—æ³•ç¬”è®°~ğŸ’–</p></blockquote><h2 id="TODO-List"><a href="#TODO-List" class="headerlink" title="TODO List"></a>TODO List</h2><table><thead><tr><th>é¢˜å·</th><th>éš¾åº¦</th><th>è€ƒå¯Ÿç‚¹</th></tr></thead><tbody><tr><td><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805359372255232">PTA1110</a></td><td>ğŸˆğŸˆ</td><td>äºŒå‰æ ‘ï¼ˆå…¶å®ä¹Ÿä¸éš¾ï¼Œä½†æ˜¯ç¡®å®å¿˜å¾—å·®ä¸å¤šäº†~ï¼‰</td></tr><tr><td><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805368847187968">PTA1098</a></td><td>ğŸˆ</td><td>æ’å…¥æ’åº&amp;å †æ’åº</td></tr><tr><td></td><td></td><td></td></tr></tbody></table><p>[TOC]</p><h2 id="ä¸€ã€å­—ç¬¦ä¸²å¤„ç†"><a href="#ä¸€ã€å­—ç¬¦ä¸²å¤„ç†" class="headerlink" title="ä¸€ã€å­—ç¬¦ä¸²å¤„ç†"></a>ä¸€ã€å­—ç¬¦ä¸²å¤„ç†</h2><h3 id="1-1çŸ¥è¯†ç‚¹ï¼ˆC-åº“å‡½æ•°ï¼‰"><a href="#1-1çŸ¥è¯†ç‚¹ï¼ˆC-åº“å‡½æ•°ï¼‰" class="headerlink" title="1.1çŸ¥è¯†ç‚¹ï¼ˆC++åº“å‡½æ•°ï¼‰"></a>1.1çŸ¥è¯†ç‚¹ï¼ˆC++åº“å‡½æ•°ï¼‰</h3><ul><li><p>stringå­ä¸²ï¼š</p><p><font color='#9ACD32'>string str</font></p><p><font color='#9ACD32'>string str1=str.substr(pos,len);</font></p>é»˜è®¤ä¸åŠ lenè¿”å›çš„æ˜¯ä»posä½ç½®å¼€å§‹ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„å­ä¸²</li><li><p>string çš„findå‡½æ•°ï¼š</p><p><font color='#9ACD32'>int pos=str.find("s")</font></p><p>è¿”å›çš„æ˜¯å­—ç¬¦â€sâ€æ‰€åœ¨ä¸‹æ ‡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿”å›</p><p><font color='#9ACD32'>str.npos;</font></p></li><li><p>stringè½¬int</p><ul><li>è¡¥å……ï¼š<a href="https://blog.csdn.net/Vic___/article/details/9324897">int-&gt;float   int-&gt;long long ç­‰</a>ï¼Œä¸‡èƒ½çš„stream<ul><li>stoi:è½¬int</li><li>stof:è½¬float</li><li>stol:è½¬long</li></ul></li><li></li></ul></li><li><p>intè½¬string</p><p><font color='#9ACD32'>int a=10;<p><font color='#9ACD32'>to_string(a)//è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²â€œ10â€</font></p></li></ul><ul><li><p>stringçš„å­ä¸²</p><p><font color='#9ACD00'>string a="AS YO SD"  <p><font color='#9ACD32'>a.substr(2);//è¿”å›ä»ä¸‹æ ‡2åˆ°æœ€åçš„ä¸€ä¸²å­—ç¬¦<p><font color='#9ACD32'>a.substr(2,3);//è¿”å›ä»ä¸‹æ ‡2å¼€å§‹é•¿åº¦ä¸º3çš„ä¸€ä¸²å­—ç¬¦ï¼Œå‰è€…è¶…ç•Œé™æŠ¥é”™ï¼Œåè€…é•¿åº¦è¶…è¿‡å­—ç¬¦ä¸²é•¿åº¦ï¼Œåˆ™è‡ªåŠ¨æˆªæ–­</li></ul><ul><li><p>stringå®šä½æŸä¸ªå­—ç¬¦</p><p><font color='#9ACD32'>string a="ASDEF"<p><font color='#9ACD32'>a.find('A');//è¿”å›Açš„ä½ç½®ç¼–å·0</font></p></li></ul><ul><li><p>charå‹å­—ç¬¦åˆ¤æ–­ç±»å‹</p><ul><li><p>**isalnum()**åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯æˆ–è€…æ•°å­—</p></li><li><p>**isalpha()**åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯(A â€“ Z or a â€“ z)</p></li><li><p>**isdigit()**åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºæ•°å­—</p></li></ul></li><li><p>**isxdigit()**åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºåå…­è¿›åˆ¶æ•°å­—(A â€“ F, a â€“ f, or 0 â€“ 9)</p><ul><li>**islower()**åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦å°å†™</li><li>**isupper()**åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¸ºå¤§å†™</li></ul></li><li><p>stringå­—ç¬¦ä¸²çš„é€†è½¬</p><p><strong>reverse(str.begin(),str.end())</strong>:å°†stringç±»å‹ç›´æ¥reverseæ‰</p></li><li><p>è½¬å¤§å†™ã€å°å†™â€”â€”åªé™äºcharå‹</p><p>char ch;</p><p>toupper(ch);</p><p>tolower(ch);</p></li><li><p>å­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡º</p><ul><li><p>sscanf(original_str  ,æ ¼å¼,  éœ€è¦ä¿å­˜çš„å­—ç¬¦ä¸²ã€æ•°å­—ç­‰)</p><p><a href="https://blog.csdn.net/lxzh12345/article/details/24122969">ã€å‚è€ƒé“¾æ¥ã€‘</a></p><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">sscanf(&quot;123456 &quot;, &quot;%s&quot;, str);&#x2F;&#x2F;å°†å­—ç¬¦ä¸²â€œ123456â€è¾“å…¥ç»™str sscanf(&quot;123456 &quot;, &quot;%4s&quot;, str);&#x2F;&#x2F;å–æœ€å¤§é•¿åº¦ä¸º4å­—èŠ‚çš„å­—ç¬¦ä¸²<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>sprintf(éœ€è¦ä¿å­˜çš„å­—ç¬¦ä¸²ï¼Œæ ¼å¼ï¼ŒåŸæœ¬çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—)</p><p><a href="https://blog.csdn.net/u012406177/article/details/70243062">ã€å‚è€ƒé“¾æ¥ã€‘</a></p></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> vlogæ—¥å¸¸ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
